var e1=t=>{throw TypeError(t)};var pm=(t,e,n)=>e.has(t)||e1("Cannot "+n);var Z=(t,e,n)=>(pm(t,e,"read from private field"),n?n.call(t):e.get(t)),We=(t,e,n)=>e.has(t)?e1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ke=(t,e,n,i)=>(pm(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),fn=(t,e,n)=>(pm(t,e,"access private method"),n);var Rd=(t,e,n,i)=>({set _(r){ke(t,e,r,n)},get _(){return Z(t,e,i)}});function aN(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var JY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ME={exports:{}},lp={},SE={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=Symbol.for("react.element"),lN=Symbol.for("react.portal"),cN=Symbol.for("react.fragment"),uN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),fN=Symbol.for("react.context"),pN=Symbol.for("react.forward_ref"),mN=Symbol.for("react.suspense"),gN=Symbol.for("react.memo"),yN=Symbol.for("react.lazy"),t1=Symbol.iterator;function xN(t){return t===null||typeof t!="object"?null:(t=t1&&t[t1]||t["@@iterator"],typeof t=="function"?t:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,CE={};function Xl(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||EE}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=Xl.prototype;function lx(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||EE}var cx=lx.prototype=new AE;cx.constructor=lx;TE(cx,Xl.prototype);cx.isPureReactComponent=!0;var n1=Array.isArray,PE=Object.prototype.hasOwnProperty,ux={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)PE.call(e,i)&&!RE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:nd,type:t,key:s,ref:o,props:r,_owner:ux.current}}function vN(t,e){return{$$typeof:nd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dx(t){return typeof t=="object"&&t!==null&&t.$$typeof===nd}function wN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i1=/\/+/g;function mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wN(""+t.key):e.toString(36)}function Xh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nd:case lN:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+mm(o,0):i,n1(r)?(n="",t!=null&&(n=t.replace(i1,"$&/")+"/"),Xh(r,e,n,"",function(c){return c})):r!=null&&(dx(r)&&(r=vN(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(i1,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",n1(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+mm(s,a);o+=Xh(s,e,n,l,r)}else if(l=xN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+mm(s,a++),o+=Xh(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ld(t,e,n){if(t==null)return t;var i=[],r=0;return Xh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function bN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},Yh={transition:null},_N={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:ux};function NE(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Ld,forEach:function(t,e,n){Ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!dx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Xl;je.Fragment=cN;je.Profiler=dN;je.PureComponent=lx;je.StrictMode=uN;je.Suspense=mN;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_N;je.act=NE;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=TE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ux.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)PE.call(e,l)&&!RE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:nd,type:t.type,key:r,ref:s,props:i,_owner:o}};je.createContext=function(t){return t={$$typeof:fN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hN,_context:t},t.Consumer=t};je.createElement=LE;je.createFactory=function(t){var e=LE.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:pN,render:t}};je.isValidElement=dx;je.lazy=function(t){return{$$typeof:yN,_payload:{_status:-1,_result:t},_init:bN}};je.memo=function(t,e){return{$$typeof:gN,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};je.unstable_act=NE;je.useCallback=function(t,e){return Rn.current.useCallback(t,e)};je.useContext=function(t){return Rn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Rn.current.useEffect(t,e)};je.useId=function(){return Rn.current.useId()};je.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Rn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};je.useRef=function(t){return Rn.current.useRef(t)};je.useState=function(t){return Rn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Rn.current.useTransition()};je.version="18.3.1";SE.exports=je;var E=SE.exports;const de=_E(E),IE=aN({__proto__:null,default:de},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN=E,SN=Symbol.for("react.element"),EN=Symbol.for("react.fragment"),TN=Object.prototype.hasOwnProperty,CN=MN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AN={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)TN.call(e,i)&&!AN.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:SN,type:t,key:s,ref:o,props:r,_owner:CN.current}}lp.Fragment=EN;lp.jsx=DE;lp.jsxs=DE;ME.exports=lp;var b=ME.exports,kE={exports:{}},ni={},FE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var $=k.length;k.push(U);e:for(;0<$;){var ee=$-1>>>1,re=k[ee];if(0<r(re,U))k[ee]=U,k[$]=re,$=ee;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var U=k[0],$=k.pop();if($!==U){k[0]=$;e:for(var ee=0,re=k.length,q=re>>>1;ee<q;){var J=2*(ee+1)-1,j=k[J],W=J+1,le=k[W];if(0>r(j,$))W<re&&0>r(le,j)?(k[ee]=le,k[W]=$,ee=W):(k[ee]=j,k[J]=$,ee=J);else if(W<re&&0>r(le,$))k[ee]=le,k[W]=$,ee=W;else break e}}return U}function r(k,U){var $=k.sortIndex-U.sortIndex;return $!==0?$:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=k)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function w(k){if(y=!1,v(k),!g)if(n(l)!==null)g=!0,B(_);else{var U=n(c);U!==null&&z(w,U.startTime-k)}}function _(k,U){g=!1,y&&(y=!1,p(T),T=-1),f=!0;var $=h;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||k&&!A());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var re=ee(d.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&i(l),v(U)}else i(l);d=n(l)}if(d!==null)var q=!0;else{var J=n(c);J!==null&&z(w,J.startTime-U),q=!1}return q}finally{d=null,h=$,f=!1}}var S=!1,M=null,T=-1,P=5,C=-1;function A(){return!(t.unstable_now()-C<P)}function O(){if(M!==null){var k=t.unstable_now();C=k;var U=!0;try{U=M(!0,k)}finally{U?F():(S=!1,M=null)}}else S=!1}var F;if(typeof m=="function")F=function(){m(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,H=N.port2;N.port1.onmessage=O,F=function(){H.postMessage(null)}}else F=function(){x(O,0)};function B(k){M=k,S||(S=!0,F())}function z(k,U){T=x(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,B(_))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var $=h;h=U;try{return k()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return U()}finally{h=$}},t.unstable_scheduleCallback=function(k,U,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,k){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,k={id:u++,callback:U,priorityLevel:k,startTime:$,expirationTime:re,sortIndex:-1},$>ee?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(y?(p(T),T=-1):y=!0,z(w,$-ee))):(k.sortIndex=re,e(l,k),g||f||(g=!0,B(_))),k},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(k){var U=h;return function(){var $=h;h=U;try{return k.apply(this,arguments)}finally{h=$}}}})(OE);FE.exports=OE;var PN=FE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN=E,ei=PN;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,cu={};function ra(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(cu[t]=e,t=0;t<e.length;t++)zE.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=Object.prototype.hasOwnProperty,LN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},s1={};function NN(t){return t0.call(s1,t)?!0:t0.call(r1,t)?!1:LN.test(t)?s1[t]=!0:(r1[t]=!0,!1)}function IN(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DN(t,e,n,i){if(e===null||typeof e>"u"||IN(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hx,fx);dn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hx,fx);dn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hx,fx);dn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function px(t,e,n,i){var r=dn.hasOwnProperty(e)?dn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DN(e,n,r,i)&&(n=null),i||r===null?NN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var $r=RN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),Oa=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),yx=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),o1=Symbol.iterator;function mc(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,gm;function Oc(t){if(gm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gm=e&&e[1]||""}return`
`+gm+t}var ym=!1;function xm(t,e){if(!t||ym)return"";ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ym=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oc(t):""}function kN(t){switch(t.tag){case 5:return Oc(t.type);case 16:return Oc("Lazy");case 13:return Oc("Suspense");case 19:return Oc("SuspenseList");case 0:case 2:case 15:return t=xm(t.type,!1),t;case 11:return t=xm(t.type.render,!1),t;case 1:return t=xm(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case Oa:return"Portal";case n0:return"Profiler";case mx:return"StrictMode";case i0:return"Suspense";case r0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case gx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yx:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function FN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ON(t){var e=HE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Id(t){t._valueTracker||(t._valueTracker=ON(t))}function jE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=HE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o0(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a1(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Os(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&px(t,"checked",e,!1)}function a0(t,e){GE(t,e);var n=Os(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l0(t,e.type,n):e.hasOwnProperty("defaultValue")&&l0(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l0(t,e,n){(e!=="number"||xf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zc=Array.isArray;function il(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Os(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function c0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(zc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Os(n)}}function WE(t,e){var n=Os(e.value),i=Os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function u1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dd,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dd=Dd||document.createElement("div"),Dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zN=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(t){zN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jc[e]=jc[t]})});function XE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jc.hasOwnProperty(t)&&jc[t]?(""+e).trim():e+"px"}function YE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=XE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var BN=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d0(t,e){if(e){if(BN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function xx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p0=null,rl=null,sl=null;function d1(t){if(t=sd(t)){if(typeof p0!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=fp(e),p0(t.stateNode,t.type,e))}}function ZE(t){rl?sl?sl.push(t):sl=[t]:rl=t}function JE(){if(rl){var t=rl,e=sl;if(sl=rl=null,d1(t),e)for(t=0;t<e.length;t++)d1(e[t])}}function KE(t,e){return t(e)}function QE(){}var vm=!1;function eT(t,e,n){if(vm)return t(e,n);vm=!0;try{return KE(t,e,n)}finally{vm=!1,(rl!==null||sl!==null)&&(QE(),JE())}}function du(t,e){var n=t.stateNode;if(n===null)return null;var i=fp(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var m0=!1;if(Dr)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){m0=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{m0=!1}function UN(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Gc=!1,vf=null,wf=!1,g0=null,VN={onError:function(t){Gc=!0,vf=t}};function HN(t,e,n,i,r,s,o,a,l){Gc=!1,vf=null,UN.apply(VN,arguments)}function jN(t,e,n,i,r,s,o,a,l){if(HN.apply(this,arguments),Gc){if(Gc){var c=vf;Gc=!1,vf=null}else throw Error(oe(198));wf||(wf=!0,g0=c)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h1(t){if(sa(t)!==t)throw Error(oe(188))}function GN(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return h1(r),t;if(s===i)return h1(r),e;s=s.sibling}throw Error(oe(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==i)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function nT(t){return t=GN(t),t!==null?iT(t):null}function iT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iT(t);if(e!==null)return e;t=t.sibling}return null}var rT=ei.unstable_scheduleCallback,f1=ei.unstable_cancelCallback,WN=ei.unstable_shouldYield,$N=ei.unstable_requestPaint,Nt=ei.unstable_now,qN=ei.unstable_getCurrentPriorityLevel,vx=ei.unstable_ImmediatePriority,sT=ei.unstable_UserBlockingPriority,bf=ei.unstable_NormalPriority,XN=ei.unstable_LowPriority,oT=ei.unstable_IdlePriority,cp=null,or=null;function YN(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(cp,t,void 0,(t.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:KN,ZN=Math.log,JN=Math.LN2;function KN(t){return t>>>=0,t===0?32:31-(ZN(t)/JN|0)|0}var kd=64,Fd=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _f(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Bc(a):(s&=o,s!==0&&(i=Bc(s)))}else o=n&~r,o!==0?i=Bc(o):s!==0&&(i=Bc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ki(e),r=1<<n,i|=t[n],e&=~r;return i}function QN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ki(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=QN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function y0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aT(){var t=kd;return kd<<=1,!(kd&4194240)&&(kd=64),t}function wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function id(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ki(e),t[e]=n}function tI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ki(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function wx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ki(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var it=0;function lT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cT,bx,uT,dT,hT,x0=!1,Od=[],Ss=null,Es=null,Ts=null,hu=new Map,fu=new Map,hs=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p1(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function yc(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=sd(e),e!==null&&bx(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function iI(t,e,n,i,r){switch(e){case"focusin":return Ss=yc(Ss,t,e,n,i,r),!0;case"dragenter":return Es=yc(Es,t,e,n,i,r),!0;case"mouseover":return Ts=yc(Ts,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return hu.set(s,yc(hu.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fu.set(s,yc(fu.get(s)||null,t,e,n,i,r)),!0}return!1}function fT(t){var e=_o(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=tT(n),e!==null){t.blockedOn=e,hT(t.priority,function(){uT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=v0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);f0=i,n.target.dispatchEvent(i),f0=null}else return e=sd(n),e!==null&&bx(e),t.blockedOn=n,!1;e.shift()}return!0}function m1(t,e,n){Zh(t)&&n.delete(e)}function rI(){x0=!1,Ss!==null&&Zh(Ss)&&(Ss=null),Es!==null&&Zh(Es)&&(Es=null),Ts!==null&&Zh(Ts)&&(Ts=null),hu.forEach(m1),fu.forEach(m1)}function xc(t,e){t.blockedOn===e&&(t.blockedOn=null,x0||(x0=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,rI)))}function pu(t){function e(r){return xc(r,t)}if(0<Od.length){xc(Od[0],t);for(var n=1;n<Od.length;n++){var i=Od[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ss!==null&&xc(Ss,t),Es!==null&&xc(Es,t),Ts!==null&&xc(Ts,t),hu.forEach(e),fu.forEach(e),n=0;n<hs.length;n++)i=hs[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)fT(n),n.blockedOn===null&&hs.shift()}var ol=$r.ReactCurrentBatchConfig,Mf=!0;function sI(t,e,n,i){var r=it,s=ol.transition;ol.transition=null;try{it=1,_x(t,e,n,i)}finally{it=r,ol.transition=s}}function oI(t,e,n,i){var r=it,s=ol.transition;ol.transition=null;try{it=4,_x(t,e,n,i)}finally{it=r,ol.transition=s}}function _x(t,e,n,i){if(Mf){var r=v0(t,e,n,i);if(r===null)Rm(t,e,i,Sf,n),p1(t,i);else if(iI(r,t,e,n,i))i.stopPropagation();else if(p1(t,i),e&4&&-1<nI.indexOf(t)){for(;r!==null;){var s=sd(r);if(s!==null&&cT(s),s=v0(t,e,n,i),s===null&&Rm(t,e,i,Sf,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Rm(t,e,i,null,n)}}var Sf=null;function v0(t,e,n,i){if(Sf=null,t=xx(i),t=_o(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sf=t,null}function pT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qN()){case vx:return 1;case sT:return 4;case bf:case XN:return 16;case oT:return 536870912;default:return 16}default:return 16}}var ws=null,Mx=null,Jh=null;function mT(){if(Jh)return Jh;var t,e=Mx,n=e.length,i,r="value"in ws?ws.value:ws.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Jh=r.slice(t,1<i?1-i:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zd(){return!0}function g1(){return!1}function ii(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zd:g1,this.isPropagationStopped=g1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zd)},persist:function(){},isPersistent:zd}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sx=ii(Yl),rd=_t({},Yl,{view:0,detail:0}),aI=ii(rd),bm,_m,vc,up=_t({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ex,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(bm=t.screenX-vc.screenX,_m=t.screenY-vc.screenY):_m=bm=0,vc=t),bm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),y1=ii(up),lI=_t({},up,{dataTransfer:0}),cI=ii(lI),uI=_t({},rd,{relatedTarget:0}),Mm=ii(uI),dI=_t({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),hI=ii(dI),fI=_t({},Yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pI=ii(fI),mI=_t({},Yl,{data:0}),x1=ii(mI),gI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xI[t])?!!e[t]:!1}function Ex(){return vI}var wI=_t({},rd,{key:function(t){if(t.key){var e=gI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ex,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bI=ii(wI),_I=_t({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=ii(_I),MI=_t({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ex}),SI=ii(MI),EI=_t({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),TI=ii(EI),CI=_t({},up,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AI=ii(CI),PI=[9,13,27,32],Tx=Dr&&"CompositionEvent"in window,Wc=null;Dr&&"documentMode"in document&&(Wc=document.documentMode);var RI=Dr&&"TextEvent"in window&&!Wc,gT=Dr&&(!Tx||Wc&&8<Wc&&11>=Wc),w1=" ",b1=!1;function yT(t,e){switch(t){case"keyup":return PI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function LI(t,e){switch(t){case"compositionend":return xT(e);case"keypress":return e.which!==32?null:(b1=!0,w1);case"textInput":return t=e.data,t===w1&&b1?null:t;default:return null}}function NI(t,e){if(Ba)return t==="compositionend"||!Tx&&yT(t,e)?(t=mT(),Jh=Mx=ws=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gT&&e.locale!=="ko"?null:e.data;default:return null}}var II={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!II[t.type]:e==="textarea"}function vT(t,e,n,i){ZE(i),e=Ef(e,"onChange"),0<e.length&&(n=new Sx("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var $c=null,mu=null;function DI(t){RT(t,0)}function dp(t){var e=Ha(t);if(jE(e))return t}function kI(t,e){if(t==="change")return e}var wT=!1;if(Dr){var Sm;if(Dr){var Em="oninput"in document;if(!Em){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),Em=typeof M1.oninput=="function"}Sm=Em}else Sm=!1;wT=Sm&&(!document.documentMode||9<document.documentMode)}function S1(){$c&&($c.detachEvent("onpropertychange",bT),mu=$c=null)}function bT(t){if(t.propertyName==="value"&&dp(mu)){var e=[];vT(e,mu,t,xx(t)),eT(DI,e)}}function FI(t,e,n){t==="focusin"?(S1(),$c=e,mu=n,$c.attachEvent("onpropertychange",bT)):t==="focusout"&&S1()}function OI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dp(mu)}function zI(t,e){if(t==="click")return dp(e)}function BI(t,e){if(t==="input"||t==="change")return dp(e)}function UI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ui=typeof Object.is=="function"?Object.is:UI;function gu(t,e){if(Ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!t0.call(e,r)||!Ui(t[r],e[r]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T1(t,e){var n=E1(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function _T(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_T(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MT(){for(var t=window,e=xf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xf(t.document)}return e}function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VI(t){var e=MT(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_T(n.ownerDocument.documentElement,n)){if(i!==null&&Cx(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=T1(n,s);var o=T1(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HI=Dr&&"documentMode"in document&&11>=document.documentMode,Ua=null,w0=null,qc=null,b0=!1;function C1(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b0||Ua==null||Ua!==xf(i)||(i=Ua,"selectionStart"in i&&Cx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qc&&gu(qc,i)||(qc=i,i=Ef(w0,"onSelect"),0<i.length&&(e=new Sx("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ua)))}function Bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Va={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},Tm={},ST={};Dr&&(ST=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function hp(t){if(Tm[t])return Tm[t];if(!Va[t])return t;var e=Va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ST)return Tm[t]=e[n];return t}var ET=hp("animationend"),TT=hp("animationiteration"),CT=hp("animationstart"),AT=hp("transitionend"),PT=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){PT.set(t,e),ra(e,[t])}for(var Cm=0;Cm<A1.length;Cm++){var Am=A1[Cm],jI=Am.toLowerCase(),GI=Am[0].toUpperCase()+Am.slice(1);Xs(jI,"on"+GI)}Xs(ET,"onAnimationEnd");Xs(TT,"onAnimationIteration");Xs(CT,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(AT,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function P1(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,jN(i,e,void 0,t),t.currentTarget=null}function RT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;P1(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;P1(r,a,c),s=l}}}if(wf)throw t=g0,wf=!1,g0=null,t}function ht(t,e){var n=e[T0];n===void 0&&(n=e[T0]=new Set);var i=t+"__bubble";n.has(i)||(LT(e,t,2,!1),n.add(i))}function Pm(t,e,n){var i=0;e&&(i|=4),LT(n,t,i,e)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[Ud]){t[Ud]=!0,zE.forEach(function(n){n!=="selectionchange"&&(WI.has(n)||Pm(n,!1,t),Pm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ud]||(e[Ud]=!0,Pm("selectionchange",!1,e))}}function LT(t,e,n,i){switch(pT(e)){case 1:var r=sI;break;case 4:r=oI;break;default:r=_x}n=r.bind(null,e,n,t),r=void 0,!m0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Rm(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=_o(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}eT(function(){var c=s,u=xx(n),d=[];e:{var h=PT.get(t);if(h!==void 0){var f=Sx,g=t;switch(t){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":f=bI;break;case"focusin":g="focus",f=Mm;break;case"focusout":g="blur",f=Mm;break;case"beforeblur":case"afterblur":f=Mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=cI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=SI;break;case ET:case TT:case CT:f=hI;break;case AT:f=TI;break;case"scroll":f=aI;break;case"wheel":f=AI;break;case"copy":case"cut":case"paste":f=pI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=v1}var y=(e&4)!==0,x=!y&&t==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var m=c,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=du(m,p),w!=null&&y.push(xu(m,w,v)))),x)break;m=m.return}0<y.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==f0&&(g=n.relatedTarget||n.fromElement)&&(_o(g)||g[kr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?_o(g):null,g!==null&&(x=sa(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(y=y1,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=v1,w="onPointerLeave",p="onPointerEnter",m="pointer"),x=f==null?h:Ha(f),v=g==null?h:Ha(g),h=new y(w,m+"leave",f,n,u),h.target=x,h.relatedTarget=v,w=null,_o(u)===c&&(y=new y(p,m+"enter",g,n,u),y.target=v,y.relatedTarget=x,w=y),x=w,f&&g)t:{for(y=f,p=g,m=0,v=y;v;v=ma(v))m++;for(v=0,w=p;w;w=ma(w))v++;for(;0<m-v;)y=ma(y),m--;for(;0<v-m;)p=ma(p),v--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=ma(y),p=ma(p)}y=null}else y=null;f!==null&&R1(d,h,f,y,!1),g!==null&&x!==null&&R1(d,x,g,y,!0)}}e:{if(h=c?Ha(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=kI;else if(_1(h))if(wT)_=BI;else{_=OI;var S=FI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=zI);if(_&&(_=_(t,c))){vT(d,_,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&l0(h,"number",h.value)}switch(S=c?Ha(c):window,t){case"focusin":(_1(S)||S.contentEditable==="true")&&(Ua=S,w0=c,qc=null);break;case"focusout":qc=w0=Ua=null;break;case"mousedown":b0=!0;break;case"contextmenu":case"mouseup":case"dragend":b0=!1,C1(d,n,u);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":C1(d,n,u)}var M;if(Tx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ba?yT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(gT&&n.locale!=="ko"&&(Ba||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ba&&(M=mT()):(ws=u,Mx="value"in ws?ws.value:ws.textContent,Ba=!0)),S=Ef(c,T),0<S.length&&(T=new x1(T,t,null,n,u),d.push({event:T,listeners:S}),M?T.data=M:(M=xT(n),M!==null&&(T.data=M)))),(M=RI?LI(t,n):NI(t,n))&&(c=Ef(c,"onBeforeInput"),0<c.length&&(u=new x1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}RT(d,e)})}function xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ef(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=du(t,n),s!=null&&i.unshift(xu(t,s,r)),s=du(t,e),s!=null&&i.push(xu(t,s,r))),t=t.return}return i}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R1(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=du(n,s),l!=null&&o.unshift(xu(n,l,a))):r||(l=du(n,s),l!=null&&o.push(xu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $I=/\r\n?/g,qI=/\u0000|\uFFFD/g;function L1(t){return(typeof t=="string"?t:""+t).replace($I,`
`).replace(qI,"")}function Vd(t,e,n){if(e=L1(e),L1(t)!==e&&n)throw Error(oe(425))}function Tf(){}var _0=null,M0=null;function S0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E0=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,YI=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(t){return N1.resolve(null).then(t).catch(ZI)}:E0;function ZI(t){setTimeout(function(){throw t})}function Lm(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),pu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);pu(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),ir="__reactFiber$"+Zl,vu="__reactProps$"+Zl,kr="__reactContainer$"+Zl,T0="__reactEvents$"+Zl,JI="__reactListeners$"+Zl,KI="__reactHandles$"+Zl;function _o(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[ir])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function sd(t){return t=t[ir]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function fp(t){return t[vu]||null}var C0=[],ja=-1;function Ys(t){return{current:t}}function pt(t){0>ja||(t.current=C0[ja],C0[ja]=null,ja--)}function ct(t,e){ja++,C0[ja]=t.current,t.current=e}var zs={},wn=Ys(zs),zn=Ys(!1),Go=zs;function El(t,e){var n=t.type.contextTypes;if(!n)return zs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bn(t){return t=t.childContextTypes,t!=null}function Cf(){pt(zn),pt(wn)}function D1(t,e,n){if(wn.current!==zs)throw Error(oe(168));ct(wn,e),ct(zn,n)}function NT(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(oe(108,FN(t)||"Unknown",r));return _t({},n,i)}function Af(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,Go=wn.current,ct(wn,t),ct(zn,zn.current),!0}function k1(t,e,n){var i=t.stateNode;if(!i)throw Error(oe(169));n?(t=NT(t,e,Go),i.__reactInternalMemoizedMergedChildContext=t,pt(zn),pt(wn),ct(wn,t)):pt(zn),ct(zn,n)}var Ar=null,pp=!1,Nm=!1;function IT(t){Ar===null?Ar=[t]:Ar.push(t)}function QI(t){pp=!0,IT(t)}function Zs(){if(!Nm&&Ar!==null){Nm=!0;var t=0,e=it;try{var n=Ar;for(it=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ar=null,pp=!1}catch(r){throw Ar!==null&&(Ar=Ar.slice(t+1)),rT(vx,Zs),r}finally{it=e,Nm=!1}}return null}var Ga=[],Wa=0,Pf=null,Rf=0,ai=[],li=0,Wo=null,Rr=1,Lr="";function yo(t,e){Ga[Wa++]=Rf,Ga[Wa++]=Pf,Pf=t,Rf=e}function DT(t,e,n){ai[li++]=Rr,ai[li++]=Lr,ai[li++]=Wo,Wo=t;var i=Rr;t=Lr;var r=32-ki(i)-1;i&=~(1<<r),n+=1;var s=32-ki(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Rr=1<<32-ki(e)+r|n<<r|i,Lr=s+t}else Rr=1<<s|n<<r|i,Lr=t}function Ax(t){t.return!==null&&(yo(t,1),DT(t,1,0))}function Px(t){for(;t===Pf;)Pf=Ga[--Wa],Ga[Wa]=null,Rf=Ga[--Wa],Ga[Wa]=null;for(;t===Wo;)Wo=ai[--li],ai[li]=null,Lr=ai[--li],ai[li]=null,Rr=ai[--li],ai[li]=null}var Jn=null,Zn=null,mt=!1,Ni=null;function kT(t,e){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Zn=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:Rr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Zn=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function P0(t){if(mt){var e=Zn;if(e){var n=e;if(!F1(t,e)){if(A0(t))throw Error(oe(418));e=Cs(n.nextSibling);var i=Jn;e&&F1(t,e)?kT(i,n):(t.flags=t.flags&-4097|2,mt=!1,Jn=t)}}else{if(A0(t))throw Error(oe(418));t.flags=t.flags&-4097|2,mt=!1,Jn=t}}}function O1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function Hd(t){if(t!==Jn)return!1;if(!mt)return O1(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S0(t.type,t.memoizedProps)),e&&(e=Zn)){if(A0(t))throw FT(),Error(oe(418));for(;e;)kT(t,e),e=Cs(e.nextSibling)}if(O1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=Jn?Cs(t.stateNode.nextSibling):null;return!0}function FT(){for(var t=Zn;t;)t=Cs(t.nextSibling)}function Tl(){Zn=Jn=null,mt=!1}function Rx(t){Ni===null?Ni=[t]:Ni.push(t)}var eD=$r.ReactCurrentBatchConfig;function wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var i=n.stateNode}if(!i)throw Error(oe(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function jd(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z1(t){var e=t._init;return e(t._payload)}function OT(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function i(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function r(p,m){return p=Ls(p,m),p.index=0,p.sibling=null,p}function s(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,w){return m===null||m.tag!==6?(m=Bm(v,p.mode,w),m.return=p,m):(m=r(m,v),m.return=p,m)}function l(p,m,v,w){var _=v.type;return _===za?u(p,m,v.props.children,w,v.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===us&&z1(_)===m.type)?(w=r(m,v.props),w.ref=wc(p,m,v),w.return=p,w):(w=of(v.type,v.key,v.props,null,p.mode,w),w.ref=wc(p,m,v),w.return=p,w)}function c(p,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Um(v,p.mode,w),m.return=p,m):(m=r(m,v.children||[]),m.return=p,m)}function u(p,m,v,w,_){return m===null||m.tag!==7?(m=Oo(v,p.mode,w,_),m.return=p,m):(m=r(m,v),m.return=p,m)}function d(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Bm(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Nd:return v=of(m.type,m.key,m.props,null,p.mode,v),v.ref=wc(p,null,m),v.return=p,v;case Oa:return m=Um(m,p.mode,v),m.return=p,m;case us:var w=m._init;return d(p,w(m._payload),v)}if(zc(m)||mc(m))return m=Oo(m,p.mode,v,null),m.return=p,m;jd(p,m)}return null}function h(p,m,v,w){var _=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(p,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:return v.key===_?l(p,m,v,w):null;case Oa:return v.key===_?c(p,m,v,w):null;case us:return _=v._init,h(p,m,_(v._payload),w)}if(zc(v)||mc(v))return _!==null?null:u(p,m,v,w,null);jd(p,v)}return null}function f(p,m,v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,a(m,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nd:return p=p.get(w.key===null?v:w.key)||null,l(m,p,w,_);case Oa:return p=p.get(w.key===null?v:w.key)||null,c(m,p,w,_);case us:var S=w._init;return f(p,m,v,S(w._payload),_)}if(zc(w)||mc(w))return p=p.get(v)||null,u(m,p,w,_,null);jd(m,w)}return null}function g(p,m,v,w){for(var _=null,S=null,M=m,T=m=0,P=null;M!==null&&T<v.length;T++){M.index>T?(P=M,M=null):P=M.sibling;var C=h(p,M,v[T],w);if(C===null){M===null&&(M=P);break}t&&M&&C.alternate===null&&e(p,M),m=s(C,m,T),S===null?_=C:S.sibling=C,S=C,M=P}if(T===v.length)return n(p,M),mt&&yo(p,T),_;if(M===null){for(;T<v.length;T++)M=d(p,v[T],w),M!==null&&(m=s(M,m,T),S===null?_=M:S.sibling=M,S=M);return mt&&yo(p,T),_}for(M=i(p,M);T<v.length;T++)P=f(M,p,T,v[T],w),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?T:P.key),m=s(P,m,T),S===null?_=P:S.sibling=P,S=P);return t&&M.forEach(function(A){return e(p,A)}),mt&&yo(p,T),_}function y(p,m,v,w){var _=mc(v);if(typeof _!="function")throw Error(oe(150));if(v=_.call(v),v==null)throw Error(oe(151));for(var S=_=null,M=m,T=m=0,P=null,C=v.next();M!==null&&!C.done;T++,C=v.next()){M.index>T?(P=M,M=null):P=M.sibling;var A=h(p,M,C.value,w);if(A===null){M===null&&(M=P);break}t&&M&&A.alternate===null&&e(p,M),m=s(A,m,T),S===null?_=A:S.sibling=A,S=A,M=P}if(C.done)return n(p,M),mt&&yo(p,T),_;if(M===null){for(;!C.done;T++,C=v.next())C=d(p,C.value,w),C!==null&&(m=s(C,m,T),S===null?_=C:S.sibling=C,S=C);return mt&&yo(p,T),_}for(M=i(p,M);!C.done;T++,C=v.next())C=f(M,p,T,C.value,w),C!==null&&(t&&C.alternate!==null&&M.delete(C.key===null?T:C.key),m=s(C,m,T),S===null?_=C:S.sibling=C,S=C);return t&&M.forEach(function(O){return e(p,O)}),mt&&yo(p,T),_}function x(p,m,v,w){if(typeof v=="object"&&v!==null&&v.type===za&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:e:{for(var _=v.key,S=m;S!==null;){if(S.key===_){if(_=v.type,_===za){if(S.tag===7){n(p,S.sibling),m=r(S,v.props.children),m.return=p,p=m;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===us&&z1(_)===S.type){n(p,S.sibling),m=r(S,v.props),m.ref=wc(p,S,v),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}v.type===za?(m=Oo(v.props.children,p.mode,w,v.key),m.return=p,p=m):(w=of(v.type,v.key,v.props,null,p.mode,w),w.ref=wc(p,m,v),w.return=p,p=w)}return o(p);case Oa:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=r(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Um(v,p.mode,w),m.return=p,p=m}return o(p);case us:return S=v._init,x(p,m,S(v._payload),w)}if(zc(v))return g(p,m,v,w);if(mc(v))return y(p,m,v,w);jd(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=r(m,v),m.return=p,p=m):(n(p,m),m=Bm(v,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return x}var Cl=OT(!0),zT=OT(!1),Lf=Ys(null),Nf=null,$a=null,Lx=null;function Nx(){Lx=$a=Nf=null}function Ix(t){var e=Lf.current;pt(Lf),t._currentValue=e}function R0(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function al(t,e){Nf=t,Lx=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(Lx!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if(Nf===null)throw Error(oe(308));$a=t,Nf.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var Mo=null;function Dx(t){Mo===null?Mo=[t]:Mo.push(t)}function BT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Dx(e)):(n.next=r.next,r.next=n),e.interleaved=n,Fr(t,i)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function kx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ze&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Fr(t,n)}return r=i.interleaved,r===null?(e.next=e,Dx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Fr(t,n)}function Qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,wx(t,n)}}function B1(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function If(t,e,n,i){var r=t.updateQueue;ds=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,f=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=_t({},d,h);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=d}}function U1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(oe(191,r));r.call(i)}}}var od={},ar=Ys(od),wu=Ys(od),bu=Ys(od);function So(t){if(t===od)throw Error(oe(174));return t}function Fx(t,e){switch(ct(bu,e),ct(wu,t),ct(ar,od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:u0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=u0(e,t)}pt(ar),ct(ar,e)}function Al(){pt(ar),pt(wu),pt(bu)}function VT(t){So(bu.current);var e=So(ar.current),n=u0(e,t.type);e!==n&&(ct(wu,t),ct(ar,n))}function Ox(t){wu.current===t&&(pt(ar),pt(wu))}var xt=Ys(0);function Df(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Im=[];function zx(){for(var t=0;t<Im.length;t++)Im[t]._workInProgressVersionPrimary=null;Im.length=0}var ef=$r.ReactCurrentDispatcher,Dm=$r.ReactCurrentBatchConfig,$o=0,bt=null,Ht=null,Jt=null,kf=!1,Xc=!1,_u=0,tD=0;function pn(){throw Error(oe(321))}function Bx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ui(t[n],e[n]))return!1;return!0}function Ux(t,e,n,i,r,s){if($o=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?sD:oD,t=n(i,r),Xc){s=0;do{if(Xc=!1,_u=0,25<=s)throw Error(oe(301));s+=1,Jt=Ht=null,e.updateQueue=null,ef.current=aD,t=n(i,r)}while(Xc)}if(ef.current=Ff,e=Ht!==null&&Ht.next!==null,$o=0,Jt=Ht=bt=null,kf=!1,e)throw Error(oe(300));return t}function Vx(){var t=_u!==0;return _u=0,t}function Zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?bt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function fi(){if(Ht===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=Jt===null?bt.memoizedState:Jt.next;if(e!==null)Jt=e,Ht=t;else{if(t===null)throw Error(oe(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?bt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Mu(t,e){return typeof e=="function"?e(t):e}function km(t){var e=fi(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=Ht,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if(($o&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,bt.lanes|=u,qo|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Ui(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,bt.lanes|=s,qo|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fm(t){var e=fi(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Ui(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function HT(){}function jT(t,e){var n=bt,i=fi(),r=e(),s=!Ui(i.memoizedState,r);if(s&&(i.memoizedState=r,On=!0),i=i.queue,Hx($T.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Su(9,WT.bind(null,n,i,r,e),void 0,null),en===null)throw Error(oe(349));$o&30||GT(n,e,r)}return r}function GT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WT(t,e,n,i){e.value=n,e.getSnapshot=i,qT(e)&&XT(t)}function $T(t,e,n){return n(function(){qT(e)&&XT(t)})}function qT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ui(t,n)}catch{return!0}}function XT(t){var e=Fr(t,1);e!==null&&Fi(e,t,1,-1)}function V1(t){var e=Zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=rD.bind(null,bt,t),[e.memoizedState,t]}function Su(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function YT(){return fi().memoizedState}function tf(t,e,n,i){var r=Zi();bt.flags|=t,r.memoizedState=Su(1|e,n,void 0,i===void 0?null:i)}function mp(t,e,n,i){var r=fi();i=i===void 0?null:i;var s=void 0;if(Ht!==null){var o=Ht.memoizedState;if(s=o.destroy,i!==null&&Bx(i,o.deps)){r.memoizedState=Su(e,n,s,i);return}}bt.flags|=t,r.memoizedState=Su(1|e,n,s,i)}function H1(t,e){return tf(8390656,8,t,e)}function Hx(t,e){return mp(2048,8,t,e)}function ZT(t,e){return mp(4,2,t,e)}function JT(t,e){return mp(4,4,t,e)}function KT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QT(t,e,n){return n=n!=null?n.concat([t]):null,mp(4,4,KT.bind(null,e,t),n)}function jx(){}function e2(t,e){var n=fi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bx(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function t2(t,e){var n=fi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bx(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function n2(t,e,n){return $o&21?(Ui(n,e)||(n=aT(),bt.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function nD(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var i=Dm.transition;Dm.transition={};try{t(!1),e()}finally{it=n,Dm.transition=i}}function i2(){return fi().memoizedState}function iD(t,e,n){var i=Rs(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},r2(t))s2(e,n);else if(n=BT(t,e,n,i),n!==null){var r=An();Fi(n,t,i,r),o2(n,e,i)}}function rD(t,e,n){var i=Rs(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(r2(t))s2(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Ui(a,o)){var l=e.interleaved;l===null?(r.next=r,Dx(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=BT(t,e,r,i),n!==null&&(r=An(),Fi(n,t,i,r),o2(n,e,i))}}function r2(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function s2(t,e){Xc=kf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o2(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,wx(t,n)}}var Ff={readContext:hi,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},sD={readContext:hi,useCallback:function(t,e){return Zi().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:H1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,KT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=Zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Zi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=iD.bind(null,bt,t),[i.memoizedState,t]},useRef:function(t){var e=Zi();return t={current:t},e.memoizedState=t},useState:V1,useDebugValue:jx,useDeferredValue:function(t){return Zi().memoizedState=t},useTransition:function(){var t=V1(!1),e=t[0];return t=nD.bind(null,t[1]),Zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=bt,r=Zi();if(mt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),en===null)throw Error(oe(349));$o&30||GT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,H1($T.bind(null,i,s,t),[t]),i.flags|=2048,Su(9,WT.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Zi(),e=en.identifierPrefix;if(mt){var n=Lr,i=Rr;n=(i&~(1<<32-ki(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oD={readContext:hi,useCallback:e2,useContext:hi,useEffect:Hx,useImperativeHandle:QT,useInsertionEffect:ZT,useLayoutEffect:JT,useMemo:t2,useReducer:km,useRef:YT,useState:function(){return km(Mu)},useDebugValue:jx,useDeferredValue:function(t){var e=fi();return n2(e,Ht.memoizedState,t)},useTransition:function(){var t=km(Mu)[0],e=fi().memoizedState;return[t,e]},useMutableSource:HT,useSyncExternalStore:jT,useId:i2,unstable_isNewReconciler:!1},aD={readContext:hi,useCallback:e2,useContext:hi,useEffect:Hx,useImperativeHandle:QT,useInsertionEffect:ZT,useLayoutEffect:JT,useMemo:t2,useReducer:Fm,useRef:YT,useState:function(){return Fm(Mu)},useDebugValue:jx,useDeferredValue:function(t){var e=fi();return Ht===null?e.memoizedState=t:n2(e,Ht.memoizedState,t)},useTransition:function(){var t=Fm(Mu)[0],e=fi().memoizedState;return[t,e]},useMutableSource:HT,useSyncExternalStore:jT,useId:i2,unstable_isNewReconciler:!1};function Ci(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function L0(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gp={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=An(),r=Rs(t),s=Nr(i,r);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,r),e!==null&&(Fi(e,t,r,i),Qh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=An(),r=Rs(t),s=Nr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,r),e!==null&&(Fi(e,t,r,i),Qh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),i=Rs(t),r=Nr(n,i);r.tag=2,e!=null&&(r.callback=e),e=As(t,r,i),e!==null&&(Fi(e,t,i,n),Qh(e,t,i))}};function j1(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!gu(n,i)||!gu(r,s):!0}function a2(t,e,n){var i=!1,r=zs,s=e.contextType;return typeof s=="object"&&s!==null?s=hi(s):(r=Bn(e)?Go:wn.current,i=e.contextTypes,s=(i=i!=null)?El(t,r):zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gp,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function G1(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&gp.enqueueReplaceState(e,e.state,null)}function N0(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},kx(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=hi(s):(s=Bn(e)?Go:wn.current,r.context=El(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(L0(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&gp.enqueueReplaceState(r,r.state,null),If(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var n="",i=e;do n+=kN(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function I0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lD=typeof WeakMap=="function"?WeakMap:Map;function l2(t,e,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){zf||(zf=!0,j0=i),I0(t,e)},n}function c2(t,e,n){n=Nr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){I0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I0(t,e),typeof i!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W1(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new lD;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=_D.bind(null,t,e,n),e.then(t,t))}function $1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q1(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nr(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var cD=$r.ReactCurrentOwner,On=!1;function Sn(t,e,n,i){e.child=t===null?zT(e,null,n,i):Cl(e,t.child,n,i)}function X1(t,e,n,i,r){n=n.render;var s=e.ref;return al(e,r),i=Ux(t,e,n,i,s,r),n=Vx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Or(t,e,r)):(mt&&n&&Ax(e),e.flags|=1,Sn(t,e,i,r),e.child)}function Y1(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Jx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,u2(t,e,s,i,r)):(t=of(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gu,n(o,i)&&t.ref===e.ref)return Or(t,e,r)}return e.flags|=1,t=Ls(s,i),t.ref=e.ref,t.return=e,e.child=t}function u2(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(gu(s,i)&&t.ref===e.ref)if(On=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Or(t,e,r)}return D0(t,e,n,i,r)}function d2(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Xa,Xn),Xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Xa,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ct(Xa,Xn),Xn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ct(Xa,Xn),Xn|=i;return Sn(t,e,r,n),e.child}function h2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function D0(t,e,n,i,r){var s=Bn(n)?Go:wn.current;return s=El(e,s),al(e,r),n=Ux(t,e,n,i,s,r),i=Vx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Or(t,e,r)):(mt&&i&&Ax(e),e.flags|=1,Sn(t,e,n,r),e.child)}function Z1(t,e,n,i,r){if(Bn(n)){var s=!0;Af(e)}else s=!1;if(al(e,r),e.stateNode===null)nf(t,e),a2(e,n,i),N0(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hi(c):(c=Bn(n)?Go:wn.current,c=El(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&G1(e,o,i,c),ds=!1;var h=e.memoizedState;o.state=h,If(e,i,o,r),l=e.memoizedState,a!==i||h!==l||zn.current||ds?(typeof u=="function"&&(L0(e,n,u,i),l=e.memoizedState),(a=ds||j1(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,UT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ci(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Bn(n)?Go:wn.current,l=El(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&G1(e,o,i,l),ds=!1,h=e.memoizedState,o.state=h,If(e,i,o,r);var g=e.memoizedState;a!==d||h!==g||zn.current||ds?(typeof f=="function"&&(L0(e,n,f,i),g=e.memoizedState),(c=ds||j1(e,n,c,i,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return k0(t,e,n,i,s,r)}function k0(t,e,n,i,r,s){h2(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&k1(e,n,!1),Or(t,e,s);i=e.stateNode,cD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Cl(e,t.child,null,s),e.child=Cl(e,null,a,s)):Sn(t,e,a,s),e.memoizedState=i.state,r&&k1(e,n,!0),e.child}function f2(t){var e=t.stateNode;e.pendingContext?D1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D1(t,e.context,!1),Fx(t,e.containerInfo)}function J1(t,e,n,i,r){return Tl(),Rx(r),e.flags|=256,Sn(t,e,n,i),e.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function O0(t){return{baseLanes:t,cachePool:null,transitions:null}}function p2(t,e,n){var i=e.pendingProps,r=xt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ct(xt,r&1),t===null)return P0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vp(o,i,0,null),t=Oo(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=O0(n),e.memoizedState=F0,t):Gx(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return uD(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ls(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=Oo(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?O0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=F0,i}return s=t.child,t=s.sibling,i=Ls(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Gx(t,e){return e=vp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gd(t,e,n,i){return i!==null&&Rx(i),Cl(e,t.child,null,n),t=Gx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uD(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Om(Error(oe(422))),Gd(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=vp({mode:"visible",children:i.children},r,0,null),s=Oo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Cl(e,t.child,null,o),e.child.memoizedState=O0(o),e.memoizedState=F0,s);if(!(e.mode&1))return Gd(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(oe(419)),i=Om(s,i,void 0),Gd(t,e,o,i)}if(a=(o&t.childLanes)!==0,On||a){if(i=en,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Fr(t,r),Fi(i,t,r,-1))}return Zx(),i=Om(Error(oe(421))),Gd(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=MD.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Zn=Cs(r.nextSibling),Jn=e,mt=!0,Ni=null,t!==null&&(ai[li++]=Rr,ai[li++]=Lr,ai[li++]=Wo,Rr=t.id,Lr=t.overflow,Wo=e),e=Gx(e,i.children),e.flags|=4096,e)}function K1(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),R0(t.return,e,n)}function zm(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function m2(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Sn(t,e,i.children,n),i=xt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K1(t,n,e);else if(t.tag===19)K1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ct(xt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Df(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),zm(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Df(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}zm(e,!0,n,null,s);break;case"together":zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dD(t,e,n){switch(e.tag){case 3:f2(e),Tl();break;case 5:VT(e);break;case 1:Bn(e.type)&&Af(e);break;case 4:Fx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ct(Lf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ct(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?p2(t,e,n):(ct(xt,xt.current&1),t=Or(t,e,n),t!==null?t.sibling:null);ct(xt,xt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return m2(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ct(xt,xt.current),i)break;return null;case 22:case 23:return e.lanes=0,d2(t,e,n)}return Or(t,e,n)}var g2,z0,y2,x2;g2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z0=function(){};y2=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,So(ar.current);var s=null;switch(n){case"input":r=o0(t,r),i=o0(t,i),s=[];break;case"select":r=_t({},r,{value:void 0}),i=_t({},i,{value:void 0}),s=[];break;case"textarea":r=c0(t,r),i=c0(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Tf)}d0(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};x2=function(t,e,n,i){n!==i&&(e.flags|=4)};function bc(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function hD(t,e,n){var i=e.pendingProps;switch(Px(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return Bn(e.type)&&Cf(),mn(e),null;case 3:return i=e.stateNode,Al(),pt(zn),pt(wn),zx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ni!==null&&($0(Ni),Ni=null))),z0(t,e),mn(e),null;case 5:Ox(e);var r=So(bu.current);if(n=e.type,t!==null&&e.stateNode!=null)y2(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(oe(166));return mn(e),null}if(t=So(ar.current),Hd(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ir]=e,i[vu]=s,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(r=0;r<Uc.length;r++)ht(Uc[r],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":a1(i,s),ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ht("invalid",i);break;case"textarea":c1(i,s),ht("invalid",i)}d0(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vd(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vd(i.textContent,a,t),r=["children",""+a]):cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",i)}switch(n){case"input":Id(i),l1(i,s,!0);break;case"textarea":Id(i),u1(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Tf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ir]=e,t[vu]=i,g2(t,e,!1,!1),e.stateNode=t;e:{switch(o=h0(n,i),n){case"dialog":ht("cancel",t),ht("close",t),r=i;break;case"iframe":case"object":case"embed":ht("load",t),r=i;break;case"video":case"audio":for(r=0;r<Uc.length;r++)ht(Uc[r],t);r=i;break;case"source":ht("error",t),r=i;break;case"img":case"image":case"link":ht("error",t),ht("load",t),r=i;break;case"details":ht("toggle",t),r=i;break;case"input":a1(t,i),r=o0(t,i),ht("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=_t({},i,{value:void 0}),ht("invalid",t);break;case"textarea":c1(t,i),r=c0(t,i),ht("invalid",t);break;default:r=i}d0(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uu(t,l):typeof l=="number"&&uu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ht("scroll",t):l!=null&&px(t,s,l,o))}switch(n){case"input":Id(t),l1(t,i,!1);break;case"textarea":Id(t),u1(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Os(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?il(t,!!i.multiple,s,!1):i.defaultValue!=null&&il(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Tf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)x2(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(oe(166));if(n=So(bu.current),So(ar.current),Hd(e)){if(i=e.stateNode,n=e.memoizedProps,i[ir]=e,(s=i.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:Vd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vd(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ir]=e,e.stateNode=i}return mn(e),null;case 13:if(pt(xt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&Zn!==null&&e.mode&1&&!(e.flags&128))FT(),Tl(),e.flags|=98560,s=!1;else if(s=Hd(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[ir]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),s=!1}else Ni!==null&&($0(Ni),Ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Gt===0&&(Gt=3):Zx())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Al(),z0(t,e),t===null&&yu(e.stateNode.containerInfo),mn(e),null;case 10:return Ix(e.type._context),mn(e),null;case 17:return Bn(e.type)&&Cf(),mn(e),null;case 19:if(pt(xt),s=e.memoizedState,s===null)return mn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)bc(s,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Df(t),o!==null){for(e.flags|=128,bc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(xt,xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nt()>Rl&&(e.flags|=128,i=!0,bc(s,!1),e.lanes=4194304)}else{if(!i)if(t=Df(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mt)return mn(e),null}else 2*Nt()-s.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,i=!0,bc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,n=xt.current,ct(xt,i?n&1|2:n&1),e):(mn(e),null);case 22:case 23:return Yx(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function fD(t,e){switch(Px(e),e.tag){case 1:return Bn(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),pt(zn),pt(wn),zx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ox(e),null;case 13:if(pt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(xt),null;case 4:return Al(),null;case 10:return Ix(e.type._context),null;case 22:case 23:return Yx(),null;case 24:return null;default:return null}}var Wd=!1,vn=!1,pD=typeof WeakSet=="function"?WeakSet:Set,ve=null;function qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){At(t,e,i)}else n.current=null}function B0(t,e,n){try{n()}catch(i){At(t,e,i)}}var Q1=!1;function mD(t,e){if(_0=Mf,t=MT(),Cx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M0={focusedElem:t,selectionRange:n},Mf=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ci(e.type,y),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(w){At(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return g=Q1,Q1=!1,g}function Yc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&B0(e,n,s)}r=r.next}while(r!==i)}}function yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function U0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v2(t){var e=t.alternate;e!==null&&(t.alternate=null,v2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[vu],delete e[T0],delete e[JI],delete e[KI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w2(t){return t.tag===5||t.tag===3||t.tag===4}function eb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function V0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tf));else if(i!==4&&(t=t.child,t!==null))for(V0(t,e,n),t=t.sibling;t!==null;)V0(t,e,n),t=t.sibling}function H0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(H0(t,e,n),t=t.sibling;t!==null;)H0(t,e,n),t=t.sibling}var sn=null,Li=!1;function Zr(t,e,n){for(n=n.child;n!==null;)b2(t,e,n),n=n.sibling}function b2(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(cp,n)}catch{}switch(n.tag){case 5:vn||qa(n,e);case 6:var i=sn,r=Li;sn=null,Zr(t,e,n),sn=i,Li=r,sn!==null&&(Li?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(Li?(t=sn,n=n.stateNode,t.nodeType===8?Lm(t.parentNode,n):t.nodeType===1&&Lm(t,n),pu(t)):Lm(sn,n.stateNode));break;case 4:i=sn,r=Li,sn=n.stateNode.containerInfo,Li=!0,Zr(t,e,n),sn=i,Li=r;break;case 0:case 11:case 14:case 15:if(!vn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&B0(n,e,o),r=r.next}while(r!==i)}Zr(t,e,n);break;case 1:if(!vn&&(qa(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){At(n,e,a)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(vn=(i=vn)||n.memoizedState!==null,Zr(t,e,n),vn=i):Zr(t,e,n);break;default:Zr(t,e,n)}}function tb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pD),e.forEach(function(i){var r=SD.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function wi(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sn=a.stateNode,Li=!1;break e;case 3:sn=a.stateNode.containerInfo,Li=!0;break e;case 4:sn=a.stateNode.containerInfo,Li=!0;break e}a=a.return}if(sn===null)throw Error(oe(160));b2(s,o,r),sn=null,Li=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){At(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_2(e,t),e=e.sibling}function _2(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wi(e,t),Yi(t),i&4){try{Yc(3,t,t.return),yp(3,t)}catch(y){At(t,t.return,y)}try{Yc(5,t,t.return)}catch(y){At(t,t.return,y)}}break;case 1:wi(e,t),Yi(t),i&512&&n!==null&&qa(n,n.return);break;case 5:if(wi(e,t),Yi(t),i&512&&n!==null&&qa(n,n.return),t.flags&32){var r=t.stateNode;try{uu(r,"")}catch(y){At(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(r,s),h0(a,o);var c=h0(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?YE(r,d):u==="dangerouslySetInnerHTML"?qE(r,d):u==="children"?uu(r,d):px(r,u,d,c)}switch(a){case"input":a0(r,s);break;case"textarea":WE(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?il(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?il(r,!!s.multiple,s.defaultValue,!0):il(r,!!s.multiple,s.multiple?[]:"",!1))}r[vu]=s}catch(y){At(t,t.return,y)}}break;case 6:if(wi(e,t),Yi(t),i&4){if(t.stateNode===null)throw Error(oe(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){At(t,t.return,y)}}break;case 3:if(wi(e,t),Yi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(y){At(t,t.return,y)}break;case 4:wi(e,t),Yi(t);break;case 13:wi(e,t),Yi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(qx=Nt())),i&4&&tb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(c=vn)||u,wi(e,t),vn=c):wi(e,t),Yi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ve=t,u=t.child;u!==null;){for(d=ve=u;ve!==null;){switch(h=ve,f=h.child,h.tag){case 0:case 11:case 14:case 15:Yc(4,h,h.return);break;case 1:qa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){At(i,n,y)}}break;case 5:qa(h,h.return);break;case 22:if(h.memoizedState!==null){ib(d);continue}}f!==null?(f.return=h,ve=f):ib(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XE("display",o))}catch(y){At(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){At(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wi(e,t),Yi(t),i&4&&tb(t);break;case 21:break;default:wi(e,t),Yi(t)}}function Yi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w2(n)){var i=n;break e}n=n.return}throw Error(oe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(uu(r,""),i.flags&=-33);var s=eb(t);H0(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=eb(t);V0(t,a,o);break;default:throw Error(oe(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gD(t,e,n){ve=t,M2(t)}function M2(t,e,n){for(var i=(t.mode&1)!==0;ve!==null;){var r=ve,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Wd;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||vn;a=Wd;var c=vn;if(Wd=o,(vn=l)&&!c)for(ve=r;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?rb(r):l!==null?(l.return=o,ve=l):rb(r);for(;s!==null;)ve=s,M2(s),s=s.sibling;ve=r,Wd=a,vn=c}nb(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ve=s):nb(t)}}function nb(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||yp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ci(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U1(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}vn||e.flags&512&&U0(e)}catch(h){At(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function ib(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function rb(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yp(4,e)}catch(l){At(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){At(e,r,l)}}var s=e.return;try{U0(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{U0(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var yD=Math.ceil,Of=$r.ReactCurrentDispatcher,Wx=$r.ReactCurrentOwner,di=$r.ReactCurrentBatchConfig,Ze=0,en=null,zt=null,ln=0,Xn=0,Xa=Ys(0),Gt=0,Eu=null,qo=0,xp=0,$x=0,Zc=null,kn=null,qx=0,Rl=1/0,Cr=null,zf=!1,j0=null,Ps=null,$d=!1,bs=null,Bf=0,Jc=0,G0=null,rf=-1,sf=0;function An(){return Ze&6?Nt():rf!==-1?rf:rf=Nt()}function Rs(t){return t.mode&1?Ze&2&&ln!==0?ln&-ln:eD.transition!==null?(sf===0&&(sf=aT()),sf):(t=it,t!==0||(t=window.event,t=t===void 0?16:pT(t.type)),t):1}function Fi(t,e,n,i){if(50<Jc)throw Jc=0,G0=null,Error(oe(185));id(t,n,i),(!(Ze&2)||t!==en)&&(t===en&&(!(Ze&2)&&(xp|=n),Gt===4&&fs(t,ln)),Un(t,i),n===1&&Ze===0&&!(e.mode&1)&&(Rl=Nt()+500,pp&&Zs()))}function Un(t,e){var n=t.callbackNode;eI(t,e);var i=_f(t,t===en?ln:0);if(i===0)n!==null&&f1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&f1(n),e===1)t.tag===0?QI(sb.bind(null,t)):IT(sb.bind(null,t)),YI(function(){!(Ze&6)&&Zs()}),n=null;else{switch(lT(i)){case 1:n=vx;break;case 4:n=sT;break;case 16:n=bf;break;case 536870912:n=oT;break;default:n=bf}n=L2(n,S2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function S2(t,e){if(rf=-1,sf=0,Ze&6)throw Error(oe(327));var n=t.callbackNode;if(ll()&&t.callbackNode!==n)return null;var i=_f(t,t===en?ln:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Uf(t,i);else{e=i;var r=Ze;Ze|=2;var s=T2();(en!==t||ln!==e)&&(Cr=null,Rl=Nt()+500,Fo(t,e));do try{wD();break}catch(a){E2(t,a)}while(!0);Nx(),Of.current=s,Ze=r,zt!==null?e=0:(en=null,ln=0,e=Gt)}if(e!==0){if(e===2&&(r=y0(t),r!==0&&(i=r,e=W0(t,r))),e===1)throw n=Eu,Fo(t,0),fs(t,i),Un(t,Nt()),n;if(e===6)fs(t,i);else{if(r=t.current.alternate,!(i&30)&&!xD(r)&&(e=Uf(t,i),e===2&&(s=y0(t),s!==0&&(i=s,e=W0(t,s))),e===1))throw n=Eu,Fo(t,0),fs(t,i),Un(t,Nt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(oe(345));case 2:xo(t,kn,Cr);break;case 3:if(fs(t,i),(i&130023424)===i&&(e=qx+500-Nt(),10<e)){if(_f(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){An(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=E0(xo.bind(null,t,kn,Cr),e);break}xo(t,kn,Cr);break;case 4:if(fs(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-ki(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yD(i/1960))-i,10<i){t.timeoutHandle=E0(xo.bind(null,t,kn,Cr),i);break}xo(t,kn,Cr);break;case 5:xo(t,kn,Cr);break;default:throw Error(oe(329))}}}return Un(t,Nt()),t.callbackNode===n?S2.bind(null,t):null}function W0(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=Uf(t,e),t!==2&&(e=kn,kn=n,e!==null&&$0(e)),t}function $0(t){kn===null?kn=t:kn.push.apply(kn,t)}function xD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ui(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~$x,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ki(e),i=1<<n;t[n]=-1,e&=~i}}function sb(t){if(Ze&6)throw Error(oe(327));ll();var e=_f(t,0);if(!(e&1))return Un(t,Nt()),null;var n=Uf(t,e);if(t.tag!==0&&n===2){var i=y0(t);i!==0&&(e=i,n=W0(t,i))}if(n===1)throw n=Eu,Fo(t,0),fs(t,e),Un(t,Nt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xo(t,kn,Cr),Un(t,Nt()),null}function Xx(t,e){var n=Ze;Ze|=1;try{return t(e)}finally{Ze=n,Ze===0&&(Rl=Nt()+500,pp&&Zs())}}function Xo(t){bs!==null&&bs.tag===0&&!(Ze&6)&&ll();var e=Ze;Ze|=1;var n=di.transition,i=it;try{if(di.transition=null,it=1,t)return t()}finally{it=i,di.transition=n,Ze=e,!(Ze&6)&&Zs()}}function Yx(){Xn=Xa.current,pt(Xa)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XI(n)),zt!==null)for(n=zt.return;n!==null;){var i=n;switch(Px(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Cf();break;case 3:Al(),pt(zn),pt(wn),zx();break;case 5:Ox(i);break;case 4:Al();break;case 13:pt(xt);break;case 19:pt(xt);break;case 10:Ix(i.type._context);break;case 22:case 23:Yx()}n=n.return}if(en=t,zt=t=Ls(t.current,null),ln=Xn=e,Gt=0,Eu=null,$x=xp=qo=0,kn=Zc=null,Mo!==null){for(e=0;e<Mo.length;e++)if(n=Mo[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Mo=null}return t}function E2(t,e){do{var n=zt;try{if(Nx(),ef.current=Ff,kf){for(var i=bt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kf=!1}if($o=0,Jt=Ht=bt=null,Xc=!1,_u=0,Wx.current=null,n===null||n.return===null){Gt=1,Eu=e,zt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$1(o);if(f!==null){f.flags&=-257,q1(f,o,a,s,e),f.mode&1&&W1(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){W1(s,c,e),Zx();break e}l=Error(oe(426))}}else if(mt&&a.mode&1){var x=$1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),q1(x,o,a,s,e),Rx(Pl(l,a));break e}}s=l=Pl(l,a),Gt!==4&&(Gt=2),Zc===null?Zc=[s]:Zc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=l2(s,l,e);B1(s,p);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ps===null||!Ps.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=c2(s,a,e);B1(s,w);break e}}s=s.return}while(s!==null)}A2(n)}catch(_){e=_,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function T2(){var t=Of.current;return Of.current=Ff,t===null?Ff:t}function Zx(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),en===null||!(qo&268435455)&&!(xp&268435455)||fs(en,ln)}function Uf(t,e){var n=Ze;Ze|=2;var i=T2();(en!==t||ln!==e)&&(Cr=null,Fo(t,e));do try{vD();break}catch(r){E2(t,r)}while(!0);if(Nx(),Ze=n,Of.current=i,zt!==null)throw Error(oe(261));return en=null,ln=0,Gt}function vD(){for(;zt!==null;)C2(zt)}function wD(){for(;zt!==null&&!WN();)C2(zt)}function C2(t){var e=R2(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?A2(t):zt=e,Wx.current=null}function A2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fD(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,zt=null;return}}else if(n=hD(n,e,Xn),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Gt===0&&(Gt=5)}function xo(t,e,n){var i=it,r=di.transition;try{di.transition=null,it=1,bD(t,e,n,i)}finally{di.transition=r,it=i}return null}function bD(t,e,n,i){do ll();while(bs!==null);if(Ze&6)throw Error(oe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tI(t,s),t===en&&(zt=en=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$d||($d=!0,L2(bf,function(){return ll(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=di.transition,di.transition=null;var o=it;it=1;var a=Ze;Ze|=4,Wx.current=null,mD(t,n),_2(n,t),VI(M0),Mf=!!_0,M0=_0=null,t.current=n,gD(n),$N(),Ze=a,it=o,di.transition=s}else t.current=n;if($d&&($d=!1,bs=t,Bf=r),s=t.pendingLanes,s===0&&(Ps=null),YN(n.stateNode),Un(t,Nt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zf)throw zf=!1,t=j0,j0=null,t;return Bf&1&&t.tag!==0&&ll(),s=t.pendingLanes,s&1?t===G0?Jc++:(Jc=0,G0=t):Jc=0,Zs(),null}function ll(){if(bs!==null){var t=lT(Bf),e=di.transition,n=it;try{if(di.transition=null,it=16>t?16:t,bs===null)var i=!1;else{if(t=bs,bs=null,Bf=0,Ze&6)throw Error(oe(331));var r=Ze;for(Ze|=4,ve=t.current;ve!==null;){var s=ve,o=s.child;if(ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var u=ve;switch(u.tag){case 0:case 11:case 15:Yc(8,u,s)}var d=u.child;if(d!==null)d.return=u,ve=d;else for(;ve!==null;){u=ve;var h=u.sibling,f=u.return;if(v2(u),u===c){ve=null;break}if(h!==null){h.return=f,ve=h;break}ve=f}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ve=o;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yc(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,ve=p;break e}ve=s.return}}var m=t.current;for(ve=m;ve!==null;){o=ve;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ve=v;else e:for(o=m;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yp(9,a)}}catch(_){At(a,a.return,_)}if(a===o){ve=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ve=w;break e}ve=a.return}}if(Ze=r,Zs(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(cp,t)}catch{}i=!0}return i}finally{it=n,di.transition=e}}return!1}function ob(t,e,n){e=Pl(n,e),e=l2(t,e,1),t=As(t,e,1),e=An(),t!==null&&(id(t,1,e),Un(t,e))}function At(t,e,n){if(t.tag===3)ob(t,t,n);else for(;e!==null;){if(e.tag===3){ob(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ps===null||!Ps.has(i))){t=Pl(n,t),t=c2(e,t,1),e=As(e,t,1),t=An(),e!==null&&(id(e,1,t),Un(e,t));break}}e=e.return}}function _D(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(ln&n)===n&&(Gt===4||Gt===3&&(ln&130023424)===ln&&500>Nt()-qx?Fo(t,0):$x|=n),Un(t,e)}function P2(t,e){e===0&&(t.mode&1?(e=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):e=1);var n=An();t=Fr(t,e),t!==null&&(id(t,e,n),Un(t,n))}function MD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P2(t,n)}function SD(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(oe(314))}i!==null&&i.delete(e),P2(t,n)}var R2;R2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,dD(t,e,n);On=!!(t.flags&131072)}else On=!1,mt&&e.flags&1048576&&DT(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;nf(t,e),t=e.pendingProps;var r=El(e,wn.current);al(e,n),r=Ux(null,e,i,t,r,n);var s=Vx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(i)?(s=!0,Af(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kx(e),r.updater=gp,e.stateNode=r,r._reactInternals=e,N0(e,i,t,n),e=k0(null,e,i,!0,s,n)):(e.tag=0,mt&&s&&Ax(e),Sn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=TD(i),t=Ci(i,t),r){case 0:e=D0(null,e,i,t,n);break e;case 1:e=Z1(null,e,i,t,n);break e;case 11:e=X1(null,e,i,t,n);break e;case 14:e=Y1(null,e,i,Ci(i.type,t),n);break e}throw Error(oe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ci(i,r),D0(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ci(i,r),Z1(t,e,i,r,n);case 3:e:{if(f2(e),t===null)throw Error(oe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,UT(t,e),If(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Pl(Error(oe(423)),e),e=J1(t,e,i,n,r);break e}else if(i!==r){r=Pl(Error(oe(424)),e),e=J1(t,e,i,n,r);break e}else for(Zn=Cs(e.stateNode.containerInfo.firstChild),Jn=e,mt=!0,Ni=null,n=zT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),i===r){e=Or(t,e,n);break e}Sn(t,e,i,n)}e=e.child}return e;case 5:return VT(e),t===null&&P0(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,S0(i,r)?o=null:s!==null&&S0(i,s)&&(e.flags|=32),h2(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&P0(e),null;case 13:return p2(t,e,n);case 4:return Fx(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Cl(e,null,i,n):Sn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ci(i,r),X1(t,e,i,r,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ct(Lf,i._currentValue),i._currentValue=o,s!==null)if(Ui(s.value,o)){if(s.children===r.children&&!zn.current){e=Or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Nr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),R0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),R0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,al(e,n),r=hi(r),i=i(r),e.flags|=1,Sn(t,e,i,n),e.child;case 14:return i=e.type,r=Ci(i,e.pendingProps),r=Ci(i.type,r),Y1(t,e,i,r,n);case 15:return u2(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ci(i,r),nf(t,e),e.tag=1,Bn(i)?(t=!0,Af(e)):t=!1,al(e,n),a2(e,i,r),N0(e,i,r,n),k0(null,e,i,!0,t,n);case 19:return m2(t,e,n);case 22:return d2(t,e,n)}throw Error(oe(156,e.tag))};function L2(t,e){return rT(t,e)}function ED(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,e,n,i){return new ED(t,e,n,i)}function Jx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TD(t){if(typeof t=="function")return Jx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gx)return 11;if(t===yx)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function of(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Jx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case za:return Oo(n.children,r,s,e);case mx:o=8,r|=8;break;case n0:return t=ci(12,n,e,r|2),t.elementType=n0,t.lanes=s,t;case i0:return t=ci(13,n,e,r),t.elementType=i0,t.lanes=s,t;case r0:return t=ci(19,n,e,r),t.elementType=r0,t.lanes=s,t;case VE:return vp(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case UE:o=9;break e;case gx:o=11;break e;case yx:o=14;break e;case us:o=16,i=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=ci(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Oo(t,e,n,i){return t=ci(7,t,i,e),t.lanes=n,t}function vp(t,e,n,i){return t=ci(22,t,i,e),t.elementType=VE,t.lanes=n,t.stateNode={isHidden:!1},t}function Bm(t,e,n){return t=ci(6,t,null,e),t.lanes=n,t}function Um(t,e,n){return e=ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CD(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wm(0),this.expirationTimes=wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Kx(t,e,n,i,r,s,o,a,l){return t=new CD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ci(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(s),t}function AD(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oa,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function N2(t){if(!t)return zs;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Bn(n))return NT(t,n,e)}return e}function I2(t,e,n,i,r,s,o,a,l){return t=Kx(n,i,!0,t,r,s,o,a,l),t.context=N2(null),n=t.current,i=An(),r=Rs(n),s=Nr(i,r),s.callback=e??null,As(n,s,r),t.current.lanes=r,id(t,r,i),Un(t,i),t}function wp(t,e,n,i){var r=e.current,s=An(),o=Rs(r);return n=N2(n),e.context===null?e.context=n:e.pendingContext=n,e=Nr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=As(r,e,o),t!==null&&(Fi(t,r,o,s),Qh(t,r,o)),o}function Vf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ab(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qx(t,e){ab(t,e),(t=t.alternate)&&ab(t,e)}function PD(){return null}var D2=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}bp.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));wp(t,e,null,null)};bp.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){wp(null,t,null,null)}),e[kr]=null}};function bp(t){this._internalRoot=t}bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=dT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&fT(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lb(){}function RD(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Vf(o);s.call(c)}}var o=I2(e,i,t,0,null,!1,!1,"",lb);return t._reactRootContainer=o,t[kr]=o.current,yu(t.nodeType===8?t.parentNode:t),Xo(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Vf(l);a.call(c)}}var l=Kx(t,0,!1,null,null,!1,!1,"",lb);return t._reactRootContainer=l,t[kr]=l.current,yu(t.nodeType===8?t.parentNode:t),Xo(function(){wp(e,l,n,i)}),l}function Mp(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Vf(o);a.call(l)}}wp(e,o,t,r)}else o=RD(n,e,t,r,i);return Vf(o)}cT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bc(e.pendingLanes);n!==0&&(wx(e,n|1),Un(e,Nt()),!(Ze&6)&&(Rl=Nt()+500,Zs()))}break;case 13:Xo(function(){var i=Fr(t,1);if(i!==null){var r=An();Fi(i,t,1,r)}}),Qx(t,1)}};bx=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=An();Fi(e,t,134217728,n)}Qx(t,134217728)}};uT=function(t){if(t.tag===13){var e=Rs(t),n=Fr(t,e);if(n!==null){var i=An();Fi(n,t,e,i)}Qx(t,e)}};dT=function(){return it};hT=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};p0=function(t,e,n){switch(e){case"input":if(a0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=fp(i);if(!r)throw Error(oe(90));jE(i),a0(i,r)}}}break;case"textarea":WE(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};KE=Xx;QE=Xo;var LD={usingClientEntryPoint:!1,Events:[sd,Ha,fp,ZE,JE,Xx]},_c={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ND={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nT(t),t===null?null:t.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||PD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{cp=qd.inject(ND),or=qd}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;ni.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error(oe(200));return AD(t,e,null,n)};ni.createRoot=function(t,e){if(!tv(t))throw Error(oe(299));var n=!1,i="",r=D2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Kx(t,1,!1,null,null,n,!1,i,r),t[kr]=e.current,yu(t.nodeType===8?t.parentNode:t),new ev(e)};ni.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=nT(e),t=t===null?null:t.stateNode,t};ni.flushSync=function(t){return Xo(t)};ni.hydrate=function(t,e,n){if(!_p(e))throw Error(oe(200));return Mp(null,t,e,!0,n)};ni.hydrateRoot=function(t,e,n){if(!tv(t))throw Error(oe(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=D2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=I2(e,null,t,1,n??null,r,!1,s,o),t[kr]=e.current,yu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new bp(e)};ni.render=function(t,e,n){if(!_p(e))throw Error(oe(200));return Mp(null,t,e,!1,n)};ni.unmountComponentAtNode=function(t){if(!_p(t))throw Error(oe(40));return t._reactRootContainer?(Xo(function(){Mp(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};ni.unstable_batchedUpdates=Xx;ni.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!_p(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Mp(t,e,n,!1,i)};ni.version="18.3.1-next-f1338f8080-20240426";function k2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k2)}catch(t){console.error(t)}}k2(),kE.exports=ni;var ad=kE.exports;const F2=_E(ad);var O2,cb=ad;O2=cb.createRoot,cb.hydrateRoot;const ID=1,DD=1e6;let Vm=0;function kD(){return Vm=(Vm+1)%Number.MAX_SAFE_INTEGER,Vm.toString()}const Hm=new Map,ub=t=>{if(Hm.has(t))return;const e=setTimeout(()=>{Hm.delete(t),Kc({type:"REMOVE_TOAST",toastId:t})},DD);Hm.set(t,e)},FD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ID)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ub(n):t.toasts.forEach(i=>{ub(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},af=[];let lf={toasts:[]};function Kc(t){lf=FD(lf,t),af.forEach(e=>{e(lf)})}function OD({...t}){const e=kD(),n=r=>Kc({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Kc({type:"DISMISS_TOAST",toastId:e});return Kc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function zD(){const[t,e]=E.useState(lf);return E.useEffect(()=>(af.push(e),()=>{const n=af.indexOf(e);n>-1&&af.splice(n,1)}),[t]),{...t,toast:OD,dismiss:n=>Kc({type:"DISMISS_TOAST",toastId:n})}}function jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function db(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nv(...t){return e=>{let n=!1;const i=t.map(r=>{const s=db(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():db(t[r],null)}}}}function Vi(...t){return E.useCallback(nv(...t),t)}function Sp(t,e=[]){let n=[];function i(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:h,children:f,...g}=d,y=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,x=E.useMemo(()=>g,Object.values(g));return b.jsx(y.Provider,{value:x,children:f})};c.displayName=s+"Provider";function u(d,h){var y;const f=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,g=E.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[i,BD(r,...e)]}function BD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function hb(t){const e=UD(t),n=E.forwardRef((i,r)=>{const{children:s,...o}=i,a=E.Children.toArray(s),l=a.find(HD);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return b.jsx(e,{...o,ref:r,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return b.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function UD(t){const e=E.forwardRef((n,i)=>{const{children:r,...s}=n;if(E.isValidElement(r)){const o=GD(r),a=jD(s,r.props);return r.type!==E.Fragment&&(a.ref=i?nv(i,o):o),E.cloneElement(r,a)}return E.Children.count(r)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VD=Symbol("radix.slottable");function HD(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VD}function jD(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function GD(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function WD(t){const e=t+"CollectionProvider",[n,i]=Sp(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:p}=y,m=de.useRef(null),v=de.useRef(new Map).current;return b.jsx(r,{scope:x,itemMap:v,collectionRef:m,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=hb(a),c=de.forwardRef((y,x)=>{const{scope:p,children:m}=y,v=s(a,p),w=Vi(x,v.collectionRef);return b.jsx(l,{ref:w,children:m})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=hb(u),f=de.forwardRef((y,x)=>{const{scope:p,children:m,...v}=y,w=de.useRef(null),_=Vi(x,w),S=s(u,p);return de.useEffect(()=>(S.itemMap.set(w,{ref:w,...v}),()=>void S.itemMap.delete(w))),b.jsx(h,{[d]:"",ref:_,children:m})});f.displayName=u;function g(y){const x=s(t+"CollectionConsumer",y);return de.useCallback(()=>{const m=x.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((S,M)=>v.indexOf(S.ref.current)-v.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},g,i]}function $D(t){const e=qD(t),n=E.forwardRef((i,r)=>{const{children:s,...o}=i,a=E.Children.toArray(s),l=a.find(YD);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return b.jsx(e,{...o,ref:r,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return b.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function qD(t){const e=E.forwardRef((n,i)=>{const{children:r,...s}=n;if(E.isValidElement(r)){const o=JD(r),a=ZD(s,r.props);return r.type!==E.Fragment&&(a.ref=i?nv(i,o):o),E.cloneElement(r,a)}return E.Children.count(r)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XD=Symbol("radix.slottable");function YD(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XD}function ZD(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function JD(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=KD.reduce((t,e)=>{const n=$D(`Primitive.${e}`),i=E.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function z2(t,e){t&&ad.flushSync(()=>t.dispatchEvent(e))}function Bs(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function QD(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t);E.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var ek="DismissableLayer",q0="dismissableLayer.update",tk="dismissableLayer.pointerDownOutside",nk="dismissableLayer.focusOutside",fb,B2=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iv=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=E.useContext(B2),[u,d]=E.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=E.useState({}),g=Vi(e,M=>d(M)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(x),m=u?y.indexOf(u):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,w=m>=p,_=rk(M=>{const T=M.target,P=[...c.branches].some(C=>C.contains(T));!w||P||(r==null||r(M),o==null||o(M),M.defaultPrevented||a==null||a())},h),S=sk(M=>{const T=M.target;[...c.branches].some(C=>C.contains(T))||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},h);return QD(M=>{m===c.layers.size-1&&(i==null||i(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},h),E.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fb)}},[u,h,n,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pb())},[u,c]),E.useEffect(()=>{const M=()=>f({});return document.addEventListener(q0,M),()=>document.removeEventListener(q0,M)},[]),b.jsx(jn.div,{...l,ref:g,style:{pointerEvents:v?w?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,_.onPointerDownCapture)})});iv.displayName=ek;var ik="DismissableLayerBranch",U2=E.forwardRef((t,e)=>{const n=E.useContext(B2),i=E.useRef(null),r=Vi(e,i);return E.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(jn.div,{...t,ref:r})});U2.displayName=ik;function rk(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),i=E.useRef(!1),r=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){V2(tk,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function sk(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),i=E.useRef(!1);return E.useEffect(()=>{const r=s=>{s.target&&!i.current&&V2(nk,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function pb(){const t=new CustomEvent(q0);document.dispatchEvent(t)}function V2(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?z2(r,s):r.dispatchEvent(s)}var ok=iv,ak=U2,Us=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},lk="Portal",H2=E.forwardRef((t,e)=>{var a;const{container:n,...i}=t,[r,s]=E.useState(!1);Us(()=>s(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?F2.createPortal(b.jsx(jn.div,{...i,ref:e}),o):null});H2.displayName=lk;function ck(t,e){return E.useReducer((n,i)=>e[n][i]??n,t)}var rv=t=>{const{present:e,children:n}=t,i=uk(e),r=typeof n=="function"?n({present:i.isPresent}):E.Children.only(n),s=Vi(i.ref,dk(r));return typeof n=="function"||i.isPresent?E.cloneElement(r,{ref:s}):null};rv.displayName="Presence";function uk(t){const[e,n]=E.useState(),i=E.useRef(null),r=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ck(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=Xd(i.current);s.current=a==="mounted"?c:"none"},[a]),Us(()=>{const c=i.current,u=r.current;if(u!==t){const h=s.current,f=Xd(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),Us(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const y=Xd(i.current).includes(CSS.escape(f.animationName));if(f.target===e&&y&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=f=>{f.target===e&&(s.current=Xd(i.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function Xd(t){return(t==null?void 0:t.animationName)||"none"}function dk(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hk=IE[" useInsertionEffect ".trim().toString()]||Us;function fk({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=pk({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r;{const u=E.useRef(t!==void 0);E.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=E.useCallback(u=>{var d;if(a){const h=mk(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function pk({defaultProp:t,onChange:e}){const[n,i]=E.useState(t),r=E.useRef(n),s=E.useRef(e);return hk(()=>{s.current=e},[e]),E.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function mk(t){return typeof t=="function"}var gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yk="VisuallyHidden",Ep=E.forwardRef((t,e)=>b.jsx(jn.span,{...t,ref:e,style:{...gk,...t.style}}));Ep.displayName=yk;var xk=Ep,sv="ToastProvider",[ov,vk,wk]=WD("Toast"),[j2]=Sp("Toast",[wk]),[bk,Tp]=j2(sv),G2=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=t,[a,l]=E.useState(null),[c,u]=E.useState(0),d=E.useRef(!1),h=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sv}\`. Expected non-empty \`string\`.`),b.jsx(ov.Provider,{scope:e,children:b.jsx(bk,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>u(f=>f+1),[]),onToastRemove:E.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};G2.displayName=sv;var W2="ToastViewport",_k=["F8"],X0="toast.viewportPause",Y0="toast.viewportResume",$2=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=_k,label:r="Notifications ({hotkey})",...s}=t,o=Tp(W2,n),a=vk(n),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=Vi(e,d,o.onViewportChange),f=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;E.useEffect(()=>{const x=p=>{var v;i.length!==0&&i.every(w=>p[w]||p.code===w)&&((v=d.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[i]),E.useEffect(()=>{const x=l.current,p=d.current;if(g&&x&&p){const m=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(X0);p.dispatchEvent(S),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Y0);p.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!x.contains(S.relatedTarget)&&v()},_=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",m),x.addEventListener("focusout",w),x.addEventListener("pointermove",m),x.addEventListener("pointerleave",_),window.addEventListener("blur",m),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",m),x.removeEventListener("focusout",w),x.removeEventListener("pointermove",m),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",m),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:x})=>{const m=a().map(v=>{const w=v.ref.current,_=[w,...kk(w)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?m.reverse():m).flat()},[a]);return E.useEffect(()=>{const x=d.current;if(x){const p=m=>{var _,S,M;const v=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!v){const T=document.activeElement,P=m.shiftKey;if(m.target===x&&P){(_=c.current)==null||_.focus();return}const O=y({tabbingDirection:P?"backwards":"forwards"}),F=O.findIndex(N=>N===T);jm(O.slice(F+1))?m.preventDefault():P?(S=c.current)==null||S.focus():(M=u.current)==null||M.focus()}};return x.addEventListener("keydown",p),()=>x.removeEventListener("keydown",p)}},[a,y]),b.jsxs(ak,{ref:l,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&b.jsx(Z0,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});jm(x)}}),b.jsx(ov.Slot,{scope:n,children:b.jsx(jn.ol,{tabIndex:-1,...s,ref:h})}),g&&b.jsx(Z0,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});jm(x)}})]})});$2.displayName=W2;var q2="ToastFocusProxy",Z0=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=Tp(q2,n);return b.jsx(Ep,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Z0.displayName=q2;var ld="Toast",Mk="toast.swipeStart",Sk="toast.swipeMove",Ek="toast.swipeCancel",Tk="toast.swipeEnd",X2=E.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...o}=t,[a,l]=fk({prop:i,defaultProp:r??!0,onChange:s,caller:ld});return b.jsx(rv,{present:n||a,children:b.jsx(Pk,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Bs(t.onPause),onResume:Bs(t.onResume),onSwipeStart:jt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:jt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});X2.displayName=ld;var[Ck,Ak]=j2(ld,{onClose(){}}),Pk=E.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,y=Tp(ld,n),[x,p]=E.useState(null),m=Vi(e,N=>p(N)),v=E.useRef(null),w=E.useRef(null),_=r||y.duration,S=E.useRef(0),M=E.useRef(_),T=E.useRef(0),{onToastAdd:P,onToastRemove:C}=y,A=Bs(()=>{var H;(x==null?void 0:x.contains(document.activeElement))&&((H=y.viewport)==null||H.focus()),o()}),O=E.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(A,N))},[A]);E.useEffect(()=>{const N=y.viewport;if(N){const H=()=>{O(M.current),c==null||c()},B=()=>{const z=new Date().getTime()-S.current;M.current=M.current-z,window.clearTimeout(T.current),l==null||l()};return N.addEventListener(X0,B),N.addEventListener(Y0,H),()=>{N.removeEventListener(X0,B),N.removeEventListener(Y0,H)}}},[y.viewport,_,l,c,O]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&O(_)},[s,_,y.isClosePausedRef,O]),E.useEffect(()=>(P(),()=>C()),[P,C]);const F=E.useMemo(()=>x?tC(x):null,[x]);return y.viewport?b.jsxs(b.Fragment,{children:[F&&b.jsx(Rk,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:F}),b.jsx(Ck,{scope:n,onClose:A,children:ad.createPortal(b.jsx(ov.ItemSlot,{scope:n,children:b.jsx(ok,{asChild:!0,onEscapeKeyDown:jt(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||A(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(jn.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:jt(t.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:jt(t.onPointerDown,N=>{N.button===0&&(v.current={x:N.clientX,y:N.clientY})}),onPointerMove:jt(t.onPointerMove,N=>{if(!v.current)return;const H=N.clientX-v.current.x,B=N.clientY-v.current.y,z=!!w.current,k=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,$=k?U(0,H):0,ee=k?0:U(0,B),re=N.pointerType==="touch"?10:2,q={x:$,y:ee},J={originalEvent:N,delta:q};z?(w.current=q,Yd(Sk,d,J,{discrete:!1})):mb(q,y.swipeDirection,re)?(w.current=q,Yd(Mk,u,J,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(H)>re||Math.abs(B)>re)&&(v.current=null)}),onPointerUp:jt(t.onPointerUp,N=>{const H=w.current,B=N.target;if(B.hasPointerCapture(N.pointerId)&&B.releasePointerCapture(N.pointerId),w.current=null,v.current=null,H){const z=N.currentTarget,k={originalEvent:N,delta:H};mb(H,y.swipeDirection,y.swipeThreshold)?Yd(Tk,f,k,{discrete:!0}):Yd(Ek,h,k,{discrete:!0}),z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Rk=t=>{const{__scopeToast:e,children:n,...i}=t,r=Tp(ld,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return Ik(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:b.jsx(H2,{asChild:!0,children:b.jsx(Ep,{...i,children:s&&b.jsxs(b.Fragment,{children:[r.label," ",n]})})})},Lk="ToastTitle",Y2=E.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return b.jsx(jn.div,{...i,ref:e})});Y2.displayName=Lk;var Nk="ToastDescription",Z2=E.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return b.jsx(jn.div,{...i,ref:e})});Z2.displayName=Nk;var J2="ToastAction",K2=E.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?b.jsx(eC,{altText:n,asChild:!0,children:b.jsx(av,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${J2}\`. Expected non-empty \`string\`.`),null)});K2.displayName=J2;var Q2="ToastClose",av=E.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=Ak(Q2,n);return b.jsx(eC,{asChild:!0,children:b.jsx(jn.button,{type:"button",...i,ref:e,onClick:jt(t.onClick,r.onClose)})})});av.displayName=Q2;var eC=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return b.jsx(jn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function tC(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),Dk(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...tC(i))}}),e}function Yd(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?z2(r,s):r.dispatchEvent(s)}var mb=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function Ik(t=()=>{}){const e=Bs(t);Us(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function Dk(t){return t.nodeType===t.ELEMENT_NODE}function kk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Fk=G2,nC=$2,iC=X2,rC=Y2,sC=Z2,oC=K2,aC=av;function lC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=lC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function cC(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=lC(t))&&(i&&(i+=" "),i+=e);return i}const gb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yb=cC,Ok=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return yb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=gb(u)||gb(d);return r[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,d,h]:c},[]);return yb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...Bk,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:uC("lucide",r),...a},[...o.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=E.forwardRef(({className:i,...r},s)=>E.createElement(Uk,{ref:s,iconNode:e,className:uC(`lucide-${zk(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=rt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=rt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=rt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=rt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=rt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=rt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=rt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=rt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=rt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=rt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=rt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=rt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=rt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cv="-",sF=t=>{const e=aF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split(cv);return a[0]===""&&a.length!==1&&a.shift(),yC(a,e)||oF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},yC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?yC(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(cv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},wb=/^\[(.+)\]$/,oF=t=>{if(wb.test(t)){const e=wb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aF=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return cF(Object.entries(t.classGroups),n).forEach(([s,o])=>{K0(o,i,s,e)}),i},K0=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:bb(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(lF(r)){K0(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{K0(o,bb(e,s),n,i)})})},bb=(t,e)=>{let n=t;return e.split(cv).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},lF=t=>t.isThemeGetter,cF=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,r]}):t,uF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},xC="!",dF=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let p=a[x];if(c===0){if(p===r&&(i||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(p==="/"){d=x;continue}}p==="["?c++:p==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(xC),g=f?h.substring(1):h,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},hF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},fF=t=>({cache:uF(t.cacheSize),parseClassName:dF(t),...sF(t)}),pF=/\s+/,mF=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(pF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let g=!!f,y=i(g?h.substring(0,f):h);if(!y){if(!g){a=c+(a.length>0?" "+a:a);continue}if(y=i(h),!y){a=c+(a.length>0?" "+a:a);continue}g=!1}const x=hF(u).join(":"),p=d?x+xC:x,m=p+y;if(s.includes(m))continue;s.push(m);const v=r(y,g);for(let w=0;w<v.length;++w){const _=v[w];s.push(p+_)}a=c+(a.length>0?" "+a:a)}return a};function gF(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vC(e))&&(i&&(i+=" "),i+=n);return i}const vC=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=vC(t[i]))&&(n&&(n+=" "),n+=e);return n};function yF(t,...e){let n,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=fF(c),i=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=mF(l,n);return r(l,u),u}return function(){return s(gF.apply(null,arguments))}}const dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wC=/^\[(?:([a-z-]+):)?(.+)\]$/i,xF=/^\d+\/\d+$/,vF=new Set(["px","full","screen"]),wF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_F=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=t=>ul(t)||vF.has(t)||xF.test(t),Jr=t=>Jl(t,"length",NF),ul=t=>!!t&&!Number.isNaN(Number(t)),Gm=t=>Jl(t,"number",ul),Mc=t=>!!t&&Number.isInteger(Number(t)),EF=t=>t.endsWith("%")&&ul(t.slice(0,-1)),ze=t=>wC.test(t),Kr=t=>wF.test(t),TF=new Set(["length","size","percentage"]),CF=t=>Jl(t,TF,bC),AF=t=>Jl(t,"position",bC),PF=new Set(["image","url"]),RF=t=>Jl(t,PF,DF),LF=t=>Jl(t,"",IF),Sc=()=>!0,Jl=(t,e,n)=>{const i=wC.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},NF=t=>bF.test(t)&&!_F.test(t),bC=()=>!1,IF=t=>MF.test(t),DF=t=>SF.test(t),kF=()=>{const t=dt("colors"),e=dt("spacing"),n=dt("blur"),i=dt("brightness"),r=dt("borderColor"),s=dt("borderRadius"),o=dt("borderSpacing"),a=dt("borderWidth"),l=dt("contrast"),c=dt("grayscale"),u=dt("hueRotate"),d=dt("invert"),h=dt("gap"),f=dt("gradientColorStops"),g=dt("gradientColorStopPositions"),y=dt("inset"),x=dt("margin"),p=dt("opacity"),m=dt("padding"),v=dt("saturate"),w=dt("scale"),_=dt("sepia"),S=dt("skew"),M=dt("space"),T=dt("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ze,e],O=()=>[ze,e],F=()=>["",vr,Jr],N=()=>["auto",ul,ze],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ze],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ul,ze];return{cacheSize:500,separator:":",theme:{colors:[Sc],spacing:[vr,Jr],blur:["none","",Kr,ze],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Kr,ze],borderSpacing:O(),borderWidth:F(),contrast:ee(),grayscale:U(),hueRotate:ee(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[EF,Jr],inset:A(),margin:A(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:U(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Kr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ze]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mc,ze]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Mc,ze]}],"grid-cols":[{"grid-cols":[Sc]}],"col-start-end":[{col:["auto",{span:["full",Mc,ze]},ze]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Sc]}],"row-start-end":[{row:["auto",{span:[Mc,ze]},ze]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Kr]},Kr]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Kr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gm]}],"font-family":[{font:[Sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",ul,Gm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,Jr]}],"underline-offset":[{"underline-offset":["auto",vr,ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),AF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[vr,ze]}],"outline-w":[{outline:[vr,Jr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[vr,Jr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Kr,LF]}],"shadow-color":[{shadow:[Sc]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Kr,ze]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Mc,ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vr,Jr,Gm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FF=yF(kF);function Js(...t){return FF(cC(t))}const OF=Fk,_C=E.forwardRef(({className:t,...e},n)=>b.jsx(nC,{ref:n,className:Js("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_C.displayName=nC.displayName;const zF=Ok("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MC=E.forwardRef(({className:t,variant:e,...n},i)=>b.jsx(iC,{ref:i,className:Js(zF({variant:e}),t),...n}));MC.displayName=iC.displayName;const BF=E.forwardRef(({className:t,...e},n)=>b.jsx(oC,{ref:n,className:Js("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));BF.displayName=oC.displayName;const SC=E.forwardRef(({className:t,...e},n)=>b.jsx(aC,{ref:n,className:Js("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(lv,{className:"h-4 w-4"})}));SC.displayName=aC.displayName;const EC=E.forwardRef(({className:t,...e},n)=>b.jsx(rC,{ref:n,className:Js("text-sm font-semibold",t),...e}));EC.displayName=rC.displayName;const TC=E.forwardRef(({className:t,...e},n)=>b.jsx(sC,{ref:n,className:Js("text-sm opacity-90",t),...e}));TC.displayName=sC.displayName;function UF(){const{toasts:t}=zD();return b.jsxs(OF,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return b.jsxs(MC,{...s,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(EC,{children:n}),i&&b.jsx(TC,{children:i})]}),r,b.jsx(SC,{})]},e)}),b.jsx(_C,{})]})}var _b=["light","dark"],VF="(prefers-color-scheme: dark)",HF=E.createContext(void 0),jF={setTheme:t=>{},themes:[]},GF=()=>{var t;return(t=E.useContext(HF))!=null?t:jF};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=r?_b.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,y=!1,x=!0)=>{let p=o?o[g]:g,m=y?g+"|| ''":`'${p}'`,v="";return r&&x&&!y&&_b.includes(g)&&(v+=`d.style.colorScheme = '${g}';`),n==="class"?y||p?v+=`c.add(${m})`:v+="null":p&&(v+=`d[s](n,${m})`),v},f=t?`!function(){${u}${h(t)}}()`:i?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${VF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var WF=t=>{switch(t){case"success":return XF;case"info":return ZF;case"warning":return YF;case"error":return JF;default:return null}},$F=Array(12).fill(0),qF=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},$F.map((n,i)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),XF=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YF=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZF=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JF=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KF=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QF=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Q0=1,e4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Q0++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async l=>{if(s=["resolve",l],de.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(n4(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Q0++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new e4,t4=(t,e)=>{let n=(e==null?void 0:e.id)||Q0++;return Dn.addToast({title:t,...e,id:n}),n},n4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",i4=t4,r4=()=>Dn.toasts,s4=()=>Dn.getActiveToasts();Object.assign(i4,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:r4,getToasts:s4});function o4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}o4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zd(t){return t.label!==void 0}var a4=3,l4="32px",c4="16px",Mb=4e3,u4=356,d4=14,h4=20,f4=200;function bi(...t){return t.filter(Boolean).join(" ")}function p4(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var m4=t=>{var e,n,i,r,s,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:y,setHeights:x,visibleToasts:p,heights:m,index:v,toasts:w,expanded:_,removeToast:S,defaultRichColors:M,closeButton:T,style:P,cancelButtonStyle:C,actionButtonStyle:A,className:O="",descriptionClassName:F="",duration:N,position:H,gap:B,loadingIcon:z,expandByDefault:k,classNames:U,icons:$,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:re}=t,[q,J]=de.useState(null),[j,W]=de.useState(null),[le,Pe]=de.useState(!1),[pe,we]=de.useState(!1),[Re,K]=de.useState(!1),[se,ue]=de.useState(!1),[Se,fe]=de.useState(!1),[D,L]=de.useState(0),[Y,ce]=de.useState(0),ae=de.useRef(f.duration||N||Mb),xe=de.useRef(null),Ae=de.useRef(null),Ce=v===0,Ie=v+1<=p,ye=f.type,V=f.dismissible!==!1,me=f.className||"",ne=f.descriptionClassName||"",_e=de.useMemo(()=>m.findIndex(Fe=>Fe.toastId===f.id)||0,[m,f.id]),Ee=de.useMemo(()=>{var Fe;return(Fe=f.closeButton)!=null?Fe:T},[f.closeButton,T]),Be=de.useMemo(()=>f.duration||N||Mb,[f.duration,N]),kt=de.useRef(0),gt=de.useRef(0),mi=de.useRef(0),ot=de.useRef(null),[gi,Gn]=H.split("-"),Cd=de.useMemo(()=>m.reduce((Fe,Xe,at)=>at>=_e?Fe:Fe+Xe.height,0),[m,_e]),hc=QF(),Ad=f.invert||h,yi=ye==="loading";gt.current=de.useMemo(()=>_e*B+Cd,[_e,Cd]),de.useEffect(()=>{ae.current=Be},[Be]),de.useEffect(()=>{Pe(!0)},[]),de.useEffect(()=>{let Fe=Ae.current;if(Fe){let Xe=Fe.getBoundingClientRect().height;return ce(Xe),x(at=>[{toastId:f.id,height:Xe,position:f.position},...at]),()=>x(at=>at.filter(_n=>_n.toastId!==f.id))}},[x,f.id]),de.useLayoutEffect(()=>{if(!le)return;let Fe=Ae.current,Xe=Fe.style.height;Fe.style.height="auto";let at=Fe.getBoundingClientRect().height;Fe.style.height=Xe,ce(at),x(_n=>_n.find(In=>In.toastId===f.id)?_n.map(In=>In.toastId===f.id?{...In,height:at}:In):[{toastId:f.id,height:at,position:f.position},..._n])},[le,f.title,f.description,x,f.id]);let xi=de.useCallback(()=>{we(!0),L(gt.current),x(Fe=>Fe.filter(Xe=>Xe.toastId!==f.id)),setTimeout(()=>{S(f)},f4)},[f,S,x,gt]);de.useEffect(()=>{if(f.promise&&ye==="loading"||f.duration===1/0||f.type==="loading")return;let Fe;return _||y||re&&hc?(()=>{if(mi.current<kt.current){let Xe=new Date().getTime()-kt.current;ae.current=ae.current-Xe}mi.current=new Date().getTime()})():ae.current!==1/0&&(kt.current=new Date().getTime(),Fe=setTimeout(()=>{var Xe;(Xe=f.onAutoClose)==null||Xe.call(f,f),xi()},ae.current)),()=>clearTimeout(Fe)},[_,y,f,ye,re,hc,xi]),de.useEffect(()=>{f.delete&&xi()},[xi,f.delete]);function Pd(){var Fe,Xe,at;return $!=null&&$.loading?de.createElement("div",{className:bi(U==null?void 0:U.loader,(Fe=f==null?void 0:f.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":ye==="loading"},$.loading):z?de.createElement("div",{className:bi(U==null?void 0:U.loader,(Xe=f==null?void 0:f.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":ye==="loading"},z):de.createElement(qF,{className:bi(U==null?void 0:U.loader,(at=f==null?void 0:f.classNames)==null?void 0:at.loader),visible:ye==="loading"})}return de.createElement("li",{tabIndex:0,ref:Ae,className:bi(O,me,U==null?void 0:U.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[ye],(n=f==null?void 0:f.classNames)==null?void 0:n[ye]),"data-sonner-toast":"","data-rich-colors":(i=f.richColors)!=null?i:M,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":le,"data-promise":!!f.promise,"data-swiped":Se,"data-removed":pe,"data-visible":Ie,"data-y-position":gi,"data-x-position":Gn,"data-index":v,"data-front":Ce,"data-swiping":Re,"data-dismissible":V,"data-type":ye,"data-invert":Ad,"data-swipe-out":se,"data-swipe-direction":j,"data-expanded":!!(_||k&&le),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${pe?D:gt.current}px`,"--initial-height":k?"auto":`${Y}px`,...P,...f.style},onDragEnd:()=>{K(!1),J(null),ot.current=null},onPointerDown:Fe=>{yi||!V||(xe.current=new Date,L(gt.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(K(!0),ot.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,Xe,at,_n;if(se||!V)return;ot.current=null;let In=Number(((Fe=Ae.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xi=Number(((Xe=Ae.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xr=new Date().getTime()-((at=xe.current)==null?void 0:at.getTime()),Wn=q==="x"?In:Xi,I=Math.abs(Wn)/xr;if(Math.abs(Wn)>=h4||I>.11){L(gt.current),(_n=f.onDismiss)==null||_n.call(f,f),W(q==="x"?In>0?"right":"left":Xi>0?"down":"up"),xi(),ue(!0),fe(!1);return}K(!1),J(null)},onPointerMove:Fe=>{var Xe,at,_n,In;if(!ot.current||!V||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let Xi=Fe.clientY-ot.current.y,xr=Fe.clientX-ot.current.x,Wn=(at=t.swipeDirections)!=null?at:p4(H);!q&&(Math.abs(xr)>1||Math.abs(Xi)>1)&&J(Math.abs(xr)>Math.abs(Xi)?"x":"y");let I={x:0,y:0};q==="y"?(Wn.includes("top")||Wn.includes("bottom"))&&(Wn.includes("top")&&Xi<0||Wn.includes("bottom")&&Xi>0)&&(I.y=Xi):q==="x"&&(Wn.includes("left")||Wn.includes("right"))&&(Wn.includes("left")&&xr<0||Wn.includes("right")&&xr>0)&&(I.x=xr),(Math.abs(I.x)>0||Math.abs(I.y)>0)&&fe(!0),(_n=Ae.current)==null||_n.style.setProperty("--swipe-amount-x",`${I.x}px`),(In=Ae.current)==null||In.style.setProperty("--swipe-amount-y",`${I.y}px`)}},Ee&&!f.jsx?de.createElement("button",{"aria-label":ee,"data-disabled":yi,"data-close-button":!0,onClick:yi||!V?()=>{}:()=>{var Fe;xi(),(Fe=f.onDismiss)==null||Fe.call(f,f)},className:bi(U==null?void 0:U.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},(s=$==null?void 0:$.close)!=null?s:KF):null,f.jsx||E.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:de.createElement(de.Fragment,null,ye||f.icon||f.promise?de.createElement("div",{"data-icon":"",className:bi(U==null?void 0:U.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Pd():null,f.type!=="loading"?f.icon||($==null?void 0:$[ye])||WF(ye):null):null,de.createElement("div",{"data-content":"",className:bi(U==null?void 0:U.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},de.createElement("div",{"data-title":"",className:bi(U==null?void 0:U.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?de.createElement("div",{"data-description":"",className:bi(F,ne,U==null?void 0:U.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),E.isValidElement(f.cancel)?f.cancel:f.cancel&&Zd(f.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:Fe=>{var Xe,at;Zd(f.cancel)&&V&&((at=(Xe=f.cancel).onClick)==null||at.call(Xe,Fe),xi())},className:bi(U==null?void 0:U.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,E.isValidElement(f.action)?f.action:f.action&&Zd(f.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:Fe=>{var Xe,at;Zd(f.action)&&((at=(Xe=f.action).onClick)==null||at.call(Xe,Fe),!Fe.defaultPrevented&&xi())},className:bi(U==null?void 0:U.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Sb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function g4(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",a=s?c4:l4;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(c=>{i[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof i[c]=="number"?`${i[c]}px`:i[c]}):l(a)}),n}var y4=E.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:g=a4,toastOptions:y,dir:x=Sb(),gap:p=d4,loadingIcon:m,icons:v,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:_}=t,[S,M]=de.useState([]),T=de.useMemo(()=>Array.from(new Set([i].concat(S.filter(re=>re.position).map(re=>re.position)))),[S,i]),[P,C]=de.useState([]),[A,O]=de.useState(!1),[F,N]=de.useState(!1),[H,B]=de.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=de.useRef(null),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=de.useRef(null),$=de.useRef(!1),ee=de.useCallback(re=>{M(q=>{var J;return(J=q.find(j=>j.id===re.id))!=null&&J.delete||Dn.dismiss(re.id),q.filter(({id:j})=>j!==re.id)})},[]);return de.useEffect(()=>Dn.subscribe(re=>{if(re.dismiss){M(q=>q.map(J=>J.id===re.id?{...J,delete:!0}:J));return}setTimeout(()=>{F2.flushSync(()=>{M(q=>{let J=q.findIndex(j=>j.id===re.id);return J!==-1?[...q.slice(0,J),{...q[J],...re},...q.slice(J+1)]:[re,...q]})})})}),[]),de.useEffect(()=>{if(u!=="system"){B(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:q})=>{B(q?"dark":"light")})}catch{re.addListener(({matches:J})=>{try{B(J?"dark":"light")}catch(j){console.error(j)}})}},[u]),de.useEffect(()=>{S.length<=1&&O(!1)},[S]),de.useEffect(()=>{let re=q=>{var J,j;r.every(W=>q[W]||q.code===W)&&(O(!0),(J=z.current)==null||J.focus()),q.code==="Escape"&&(document.activeElement===z.current||(j=z.current)!=null&&j.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[r]),de.useEffect(()=>{if(z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,$.current=!1)}},[z.current]),de.createElement("section",{ref:e,"aria-label":`${w} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((re,q)=>{var J;let[j,W]=re.split("-");return S.length?de.createElement("ol",{key:re,dir:x==="auto"?Sb():x,tabIndex:-1,ref:z,className:a,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":j,"data-lifted":A&&S.length>1&&!s,"data-x-position":W,style:{"--front-toast-height":`${((J=P[0])==null?void 0:J.height)||0}px`,"--width":`${u4}px`,"--gap":`${p}px`,...f,...g4(l,c)},onBlur:le=>{$.current&&!le.currentTarget.contains(le.relatedTarget)&&($.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||$.current||($.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{F||O(!1)},onDragEnd:()=>O(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},S.filter(le=>!le.position&&q===0||le.position===re).map((le,Pe)=>{var pe,we;return de.createElement(m4,{key:le.id,icons:v,index:Pe,toast:le,defaultRichColors:d,duration:(pe=y==null?void 0:y.duration)!=null?pe:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:(we=y==null?void 0:y.closeButton)!=null?we:o,interacting:F,position:re,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ee,toasts:S.filter(Re=>Re.position==le.position),heights:P.filter(Re=>Re.position==le.position),setHeights:C,expandByDefault:s,gap:p,loadingIcon:m,expanded:A,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const x4=({...t})=>{const{theme:e="system"}=GF();return b.jsx(y4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},v4=["top","right","bottom","left"],Vs=Math.min,Yn=Math.max,Hf=Math.round,Jd=Math.floor,lr=t=>({x:t,y:t}),w4={left:"right",right:"left",bottom:"top",top:"bottom"},b4={start:"end",end:"start"};function ey(t,e,n){return Yn(t,Vs(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function Kl(t){return t.split("-")[1]}function uv(t){return t==="x"?"y":"x"}function dv(t){return t==="y"?"height":"width"}const _4=new Set(["top","bottom"]);function sr(t){return _4.has(Br(t))?"y":"x"}function hv(t){return uv(sr(t))}function M4(t,e,n){n===void 0&&(n=!1);const i=Kl(t),r=hv(t),s=dv(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=jf(o)),[o,jf(o)]}function S4(t){const e=jf(t);return[ty(t),e,ty(e)]}function ty(t){return t.replace(/start|end/g,e=>b4[e])}const Eb=["left","right"],Tb=["right","left"],E4=["top","bottom"],T4=["bottom","top"];function C4(t,e,n){switch(t){case"top":case"bottom":return n?e?Tb:Eb:e?Eb:Tb;case"left":case"right":return e?E4:T4;default:return[]}}function A4(t,e,n,i){const r=Kl(t);let s=C4(Br(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(ty)))),s}function jf(t){return t.replace(/left|right|bottom|top/g,e=>w4[e])}function P4(t){return{top:0,right:0,bottom:0,left:0,...t}}function CC(t){return typeof t!="number"?P4(t):{top:t,right:t,bottom:t,left:t}}function Gf(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Cb(t,e,n){let{reference:i,floating:r}=t;const s=sr(e),o=hv(e),a=dv(o),l=Br(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Kl(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}async function R4(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=zr(e,t),g=CC(f),x=a[h?d==="floating"?"reference":"floating":d],p=Gf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},_=Gf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:v,strategy:l}):m);return{top:(p.top-_.top+g.top)/w.y,bottom:(_.bottom-p.bottom+g.bottom)/w.y,left:(p.left-_.left+g.left)/w.x,right:(_.right-p.right+g.right)/w.x}}const L4=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=Cb(c,i,l),h=i,f={},g=0;for(let x=0;x<a.length;x++){var y;const{name:p,fn:m}=a[x],{x:v,y:w,data:_,reset:S}=await m({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:{...o,detectOverflow:(y=o.detectOverflow)!=null?y:R4},elements:{reference:t,floating:e}});u=v??u,d=w??d,f={...f,[p]:{...f[p],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):S.rects),{x:u,y:d}=Cb(c,h,l)),x=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}},N4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=zr(t,e)||{};if(c==null)return{};const d=CC(u),h={x:n,y:i},f=hv(r),g=dv(f),y=await o.getDimensions(c),x=f==="y",p=x?"top":"left",m=x?"bottom":"right",v=x?"clientHeight":"clientWidth",w=s.reference[g]+s.reference[f]-h[f]-s.floating[g],_=h[f]-s.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=S?S[v]:0;(!M||!await(o.isElement==null?void 0:o.isElement(S)))&&(M=a.floating[v]||s.floating[g]);const T=w/2-_/2,P=M/2-y[g]/2-1,C=Vs(d[p],P),A=Vs(d[m],P),O=C,F=M-y[g]-A,N=M/2-y[g]/2+T,H=ey(O,N,F),B=!l.arrow&&Kl(r)!=null&&N!==H&&s.reference[g]/2-(N<O?C:A)-y[g]/2<0,z=B?N<O?N-O:N-F:0;return{[f]:h[f]+z,data:{[f]:H,centerOffset:N-H-z,...B&&{alignmentOffset:z}},reset:B}}}),I4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=zr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=Br(r),m=sr(a),v=Br(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(v||!y?[jf(a)]:S4(a)),S=g!=="none";!h&&S&&_.push(...A4(a,y,g,w));const M=[a,..._],T=await l.detectOverflow(e,x),P=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&P.push(T[p]),d){const N=M4(r,o,w);P.push(T[N[0]],T[N[1]])}if(C=[...C,{placement:r,overflows:P}],!P.every(N=>N<=0)){var A,O;const N=(((A=s.flip)==null?void 0:A.index)||0)+1,H=M[N];if(H&&(!(d==="alignment"?m!==sr(H):!1)||C.every(k=>sr(k.placement)===m?k.overflows[0]>0:!0)))return{data:{index:N,overflows:C},reset:{placement:H}};let B=(O=C.filter(z=>z.overflows[0]<=0).sort((z,k)=>z.overflows[1]-k.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(f){case"bestFit":{var F;const z=(F=C.filter(k=>{if(S){const U=sr(k.placement);return U===m||U==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(U=>U>0).reduce((U,$)=>U+$,0)]).sort((k,U)=>k[1]-U[1])[0])==null?void 0:F[0];z&&(B=z);break}case"initialPlacement":B=a;break}if(r!==B)return{reset:{placement:B}}}return{}}}};function Ab(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Pb(t){return v4.some(e=>t[e]>=0)}const D4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:i}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const o=await i.detectOverflow(e,{...s,elementContext:"reference"}),a=Ab(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Pb(a)}}}case"escaped":{const o=await i.detectOverflow(e,{...s,altBoundary:!0}),a=Ab(o,n.floating);return{data:{escapedOffsets:a,escaped:Pb(a)}}}default:return{}}}}},AC=new Set(["left","top"]);async function k4(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Br(n),a=Kl(n),l=sr(n)==="y",c=AC.has(o)?-1:1,u=s&&l?-1:1,d=zr(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const F4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await k4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},O4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r,platform:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:p=>{let{x:m,y:v}=p;return{x:m,y:v}}},...c}=zr(t,e),u={x:n,y:i},d=await s.detectOverflow(e,c),h=sr(Br(r)),f=uv(h);let g=u[f],y=u[h];if(o){const p=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=g+d[p],w=g-d[m];g=ey(v,g,w)}if(a){const p=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=y+d[p],w=y-d[m];y=ey(v,y,w)}const x=l.fn({...e,[f]:g,[h]:y});return{...x,data:{x:x.x-n,y:x.y-i,enabled:{[f]:o,[h]:a}}}}}},z4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zr(t,e),u={x:n,y:i},d=sr(r),h=uv(d);let f=u[h],g=u[d];const y=zr(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const v=h==="y"?"height":"width",w=s.reference[h]-s.floating[v]+x.mainAxis,_=s.reference[h]+s.reference[v]-x.mainAxis;f<w?f=w:f>_&&(f=_)}if(c){var p,m;const v=h==="y"?"width":"height",w=AC.has(Br(r)),_=s.reference[d]-s.floating[v]+(w&&((p=o.offset)==null?void 0:p[d])||0)+(w?0:x.crossAxis),S=s.reference[d]+s.reference[v]+(w?0:((m=o.offset)==null?void 0:m[d])||0)-(w?x.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[h]:f,[d]:g}}}},B4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=zr(t,e),u=await o.detectOverflow(e,c),d=Br(r),h=Kl(r),f=sr(r)==="y",{width:g,height:y}=s.floating;let x,p;d==="top"||d==="bottom"?(x=d,p=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,x=h==="end"?"top":"bottom");const m=y-u.top-u.bottom,v=g-u.left-u.right,w=Vs(y-u[x],m),_=Vs(g-u[p],v),S=!e.middlewareData.shift;let M=w,T=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=v),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(M=m),S&&!h){const C=Yn(u.left,0),A=Yn(u.right,0),O=Yn(u.top,0),F=Yn(u.bottom,0);f?T=g-2*(C!==0||A!==0?C+A:Yn(u.left,u.right)):M=y-2*(O!==0||F!==0?O+F:Yn(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:M});const P=await o.getDimensions(a.floating);return g!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Cp(){return typeof window<"u"}function Ql(t){return PC(t)?(t.nodeName||"").toLowerCase():"#document"}function Kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yr(t){var e;return(e=(PC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PC(t){return Cp()?t instanceof Node||t instanceof Kn(t).Node:!1}function Hi(t){return Cp()?t instanceof Element||t instanceof Kn(t).Element:!1}function fr(t){return Cp()?t instanceof HTMLElement||t instanceof Kn(t).HTMLElement:!1}function Rb(t){return!Cp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kn(t).ShadowRoot}const U4=new Set(["inline","contents"]);function cd(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ji(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!U4.has(r)}const V4=new Set(["table","td","th"]);function H4(t){return V4.has(Ql(t))}const j4=[":popover-open",":modal"];function Ap(t){return j4.some(e=>{try{return t.matches(e)}catch{return!1}})}const G4=["transform","translate","scale","rotate","perspective"],W4=["transform","translate","scale","rotate","perspective","filter"],$4=["paint","layout","strict","content"];function fv(t){const e=pv(),n=Hi(t)?ji(t):t;return G4.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||W4.some(i=>(n.willChange||"").includes(i))||$4.some(i=>(n.contain||"").includes(i))}function q4(t){let e=Hs(t);for(;fr(e)&&!Ll(e);){if(fv(e))return e;if(Ap(e))return null;e=Hs(e)}return null}function pv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const X4=new Set(["html","body","#document"]);function Ll(t){return X4.has(Ql(t))}function ji(t){return Kn(t).getComputedStyle(t)}function Pp(t){return Hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(Ql(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rb(t)&&t.host||yr(t);return Rb(e)?e.host:e}function RC(t){const e=Hs(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&cd(e)?e:RC(e)}function Tu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=RC(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Kn(r);if(s){const a=ny(o);return e.concat(o,o.visualViewport||[],cd(r)?r:[],a&&n?Tu(a):[])}return e.concat(r,Tu(r,[],n))}function ny(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LC(t){const e=ji(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=fr(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Hf(n)!==s||Hf(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function mv(t){return Hi(t)?t:t.contextElement}function dl(t){const e=mv(t);if(!fr(e))return lr(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=LC(e);let o=(s?Hf(n.width):n.width)/i,a=(s?Hf(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Y4=lr(0);function NC(t){const e=Kn(t);return!pv()||!e.visualViewport?Y4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Z4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kn(t)?!1:e}function Yo(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=mv(t);let o=lr(1);e&&(i?Hi(i)&&(o=dl(i)):o=dl(t));const a=Z4(s,n,i)?NC(s):lr(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=Kn(s),f=i&&Hi(i)?Kn(i):i;let g=h,y=ny(g);for(;y&&i&&f!==g;){const x=dl(y),p=y.getBoundingClientRect(),m=ji(y),v=p.left+(y.clientLeft+parseFloat(m.paddingLeft))*x.x,w=p.top+(y.clientTop+parseFloat(m.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=v,c+=w,g=Kn(y),y=ny(g)}}return Gf({width:u,height:d,x:l,y:c})}function Rp(t,e){const n=Pp(t).scrollLeft;return e?e.left+n:Yo(yr(t)).left+n}function IC(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Rp(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function J4(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=yr(i),a=e?Ap(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=lr(1);const u=lr(0),d=fr(i);if((d||!d&&!s)&&((Ql(i)!=="body"||cd(o))&&(l=Pp(i)),fr(i))){const f=Yo(i);c=dl(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const h=o&&!d&&!s?IC(o,l):lr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function K4(t){return Array.from(t.getClientRects())}function Q4(t){const e=yr(t),n=Pp(t),i=t.ownerDocument.body,r=Yn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Yn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+Rp(t);const a=-n.scrollTop;return ji(i).direction==="rtl"&&(o+=Yn(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}const Lb=25;function eO(t,e){const n=Kn(t),i=yr(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=pv();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const c=Rp(i);if(c<=0){const u=i.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(i.clientWidth-d.clientWidth-f);g<=Lb&&(s-=g)}else c<=Lb&&(s+=c);return{width:s,height:o,x:a,y:l}}const tO=new Set(["absolute","fixed"]);function nO(t,e){const n=Yo(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=fr(t)?dl(t):lr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function Nb(t,e,n){let i;if(e==="viewport")i=eO(t,n);else if(e==="document")i=Q4(yr(t));else if(Hi(e))i=nO(e,n);else{const r=NC(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Gf(i)}function DC(t,e){const n=Hs(t);return n===e||!Hi(n)||Ll(n)?!1:ji(n).position==="fixed"||DC(n,e)}function iO(t,e){const n=e.get(t);if(n)return n;let i=Tu(t,[],!1).filter(a=>Hi(a)&&Ql(a)!=="body"),r=null;const s=ji(t).position==="fixed";let o=s?Hs(t):t;for(;Hi(o)&&!Ll(o);){const a=ji(o),l=fv(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&tO.has(r.position)||cd(o)&&!l&&DC(t,o))?i=i.filter(u=>u!==o):r=a,o=Hs(o)}return e.set(t,i),i}function rO(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?Ap(e)?[]:iO(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=Nb(e,u,r);return c.top=Yn(d.top,c.top),c.right=Vs(d.right,c.right),c.bottom=Vs(d.bottom,c.bottom),c.left=Yn(d.left,c.left),c},Nb(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sO(t){const{width:e,height:n}=LC(t);return{width:e,height:n}}function oO(t,e,n){const i=fr(e),r=yr(e),s=n==="fixed",o=Yo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=lr(0);function c(){l.x=Rp(r)}if(i||!i&&!s)if((Ql(e)!=="body"||cd(r))&&(a=Pp(e)),i){const f=Yo(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&c();s&&!i&&r&&c();const u=r&&!i&&!s?IC(r,a):lr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Wm(t){return ji(t).position==="static"}function Ib(t,e){if(!fr(t)||ji(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yr(t)===n&&(n=n.ownerDocument.body),n}function kC(t,e){const n=Kn(t);if(Ap(t))return n;if(!fr(t)){let r=Hs(t);for(;r&&!Ll(r);){if(Hi(r)&&!Wm(r))return r;r=Hs(r)}return n}let i=Ib(t,e);for(;i&&H4(i)&&Wm(i);)i=Ib(i,e);return i&&Ll(i)&&Wm(i)&&!fv(i)?n:i||q4(t)||n}const aO=async function(t){const e=this.getOffsetParent||kC,n=this.getDimensions,i=await n(t.floating);return{reference:oO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function lO(t){return ji(t).direction==="rtl"}const cO={convertOffsetParentRelativeRectToViewportRelativeRect:J4,getDocumentElement:yr,getClippingRect:rO,getOffsetParent:kC,getElementRects:aO,getClientRects:K4,getDimensions:sO,getScale:dl,isElement:Hi,isRTL:lO};function FC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uO(t,e){let n=null,i;const r=yr(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const g=Jd(d),y=Jd(r.clientWidth-(u+h)),x=Jd(r.clientHeight-(d+f)),p=Jd(u),v={rootMargin:-g+"px "+-y+"px "+-x+"px "+-p+"px",threshold:Yn(0,Vs(1,l))||1};let w=!0;function _(S){const M=S[0].intersectionRatio;if(M!==l){if(!w)return o();M?o(!1,M):i=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!FC(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(_,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(t)}return o(!0),s}function dO(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=mv(t),u=r||s?[...c?Tu(c):[],...Tu(e)]:[];u.forEach(p=>{r&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?uO(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(p=>{let[m]=p;m&&m.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,y=l?Yo(t):null;l&&x();function x(){const p=Yo(t);y&&!FC(y,p)&&n(),y=p,g=requestAnimationFrame(x)}return n(),()=>{var p;u.forEach(m=>{r&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d==null||d(),(p=f)==null||p.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const hO=F4,fO=O4,pO=I4,mO=B4,gO=D4,Db=N4,yO=z4,xO=(t,e,n)=>{const i=new Map,r={platform:cO,...n},s={...r.platform,_c:i};return L4(t,e,{...r,platform:s})};var vO=typeof document<"u",wO=function(){},cf=vO?E.useLayoutEffect:wO;function Wf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Wf(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Wf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function OC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kb(t,e){const n=OC(t);return Math.round(e*n)/n}function $m(t){const e=E.useRef(t);return cf(()=>{e.current=t}),e}function bO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=E.useState(i);Wf(h,i)||f(i);const[g,y]=E.useState(null),[x,p]=E.useState(null),m=E.useCallback(k=>{k!==S.current&&(S.current=k,y(k))},[]),v=E.useCallback(k=>{k!==M.current&&(M.current=k,p(k))},[]),w=s||g,_=o||x,S=E.useRef(null),M=E.useRef(null),T=E.useRef(u),P=l!=null,C=$m(l),A=$m(r),O=$m(c),F=E.useCallback(()=>{if(!S.current||!M.current)return;const k={placement:e,strategy:n,middleware:h};A.current&&(k.platform=A.current),xO(S.current,M.current,k).then(U=>{const $={...U,isPositioned:O.current!==!1};N.current&&!Wf(T.current,$)&&(T.current=$,ad.flushSync(()=>{d($)}))})},[h,e,n,A,O]);cf(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[c]);const N=E.useRef(!1);cf(()=>(N.current=!0,()=>{N.current=!1}),[]),cf(()=>{if(w&&(S.current=w),_&&(M.current=_),w&&_){if(C.current)return C.current(w,_,F);F()}},[w,_,F,C,P]);const H=E.useMemo(()=>({reference:S,floating:M,setReference:m,setFloating:v}),[m,v]),B=E.useMemo(()=>({reference:w,floating:_}),[w,_]),z=E.useMemo(()=>{const k={position:n,left:0,top:0};if(!B.floating)return k;const U=kb(B.floating,u.x),$=kb(B.floating,u.y);return a?{...k,transform:"translate("+U+"px, "+$+"px)",...OC(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:$}},[n,a,B.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:F,refs:H,elements:B,floatingStyles:z}),[u,F,H,B,z])}const _O=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?Db({element:i.current,padding:r}).fn(n):{}:i?Db({element:i,padding:r}).fn(n):{}}}},MO=(t,e)=>({...hO(t),options:[t,e]}),SO=(t,e)=>({...fO(t),options:[t,e]}),EO=(t,e)=>({...yO(t),options:[t,e]}),TO=(t,e)=>({...pO(t),options:[t,e]}),CO=(t,e)=>({...mO(t),options:[t,e]}),AO=(t,e)=>({...gO(t),options:[t,e]}),PO=(t,e)=>({..._O(t),options:[t,e]});var RO="Arrow",zC=E.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return b.jsx(jn.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});zC.displayName=RO;var LO=zC;function NO(t){const[e,n]=E.useState(void 0);return Us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var BC="Popper",[UC,VC]=Sp(BC),[KY,HC]=UC(BC),jC="PopperAnchor",GC=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=HC(jC,n),o=E.useRef(null),a=Vi(e,o),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(i==null?void 0:i.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),i?null:b.jsx(jn.div,{...r,ref:a})});GC.displayName=jC;var gv="PopperContent",[IO,DO]=UC(gv),WC=E.forwardRef((t,e)=>{var le,Pe,pe,we,Re,K;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...y}=t,x=HC(gv,n),[p,m]=E.useState(null),v=Vi(e,se=>m(se)),[w,_]=E.useState(null),S=NO(w),M=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,P=i+(s!=="center"?"-"+s:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],O=A.length>0,F={padding:C,boundary:A.filter(FO),altBoundary:O},{refs:N,floatingStyles:H,placement:B,isPositioned:z,middlewareData:k}=bO({strategy:"fixed",placement:P,whileElementsMounted:(...se)=>dO(...se,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[MO({mainAxis:r+T,alignmentAxis:o}),l&&SO({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?EO():void 0,...F}),l&&TO({...F}),CO({...F,apply:({elements:se,rects:ue,availableWidth:Se,availableHeight:fe})=>{const{width:D,height:L}=ue.reference,Y=se.floating.style;Y.setProperty("--radix-popper-available-width",`${Se}px`),Y.setProperty("--radix-popper-available-height",`${fe}px`),Y.setProperty("--radix-popper-anchor-width",`${D}px`),Y.setProperty("--radix-popper-anchor-height",`${L}px`)}}),w&&PO({element:w,padding:a}),OO({arrowWidth:M,arrowHeight:T}),h&&AO({strategy:"referenceHidden",...F})]}),[U,$]=XC(B),ee=Bs(g);Us(()=>{z&&(ee==null||ee())},[z,ee]);const re=(le=k.arrow)==null?void 0:le.x,q=(Pe=k.arrow)==null?void 0:Pe.y,J=((pe=k.arrow)==null?void 0:pe.centerOffset)!==0,[j,W]=E.useState();return Us(()=>{p&&W(window.getComputedStyle(p).zIndex)},[p]),b.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(we=k.transformOrigin)==null?void 0:we.x,(Re=k.transformOrigin)==null?void 0:Re.y].join(" "),...((K=k.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(IO,{scope:n,placedSide:U,onArrowChange:_,arrowX:re,arrowY:q,shouldHideArrow:J,children:b.jsx(jn.div,{"data-side":U,"data-align":$,...y,ref:v,style:{...y.style,animation:z?void 0:"none"}})})})});WC.displayName=gv;var $C="PopperArrow",kO={top:"bottom",right:"left",bottom:"top",left:"right"},qC=E.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=DO($C,i),o=kO[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx(LO,{...r,ref:n,style:{...r.style,display:"block"}})})});qC.displayName=$C;function FO(t){return t!==null}var OO=t=>({name:"transformOrigin",options:t,fn(e){var x,p,m;const{placement:n,rects:i,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=XC(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((p=r.arrow)==null?void 0:p.x)??0)+a/2,f=(((m=r.arrow)==null?void 0:m.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=o?d:`${h}px`,y=`${-l}px`):c==="top"?(g=o?d:`${h}px`,y=`${i.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=o?d:`${f}px`):c==="left"&&(g=`${i.floating.width+l}px`,y=o?d:`${f}px`),{data:{x:g,y}}}});function XC(t){const[e,n="center"]=t.split("-");return[e,n]}var zO=GC,BO=WC,UO=qC,VO=Symbol("radix.slottable");function HO(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VO,e}var[Lp]=Sp("Tooltip",[VC]),yv=VC(),YC="TooltipProvider",jO=700,Fb="tooltip.open",[GO,ZC]=Lp(YC),JC=t=>{const{__scopeTooltip:e,delayDuration:n=jO,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=E.useRef(!0),a=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),b.jsx(GO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};JC.displayName=YC;var KC="Tooltip",[QY,Np]=Lp(KC),iy="TooltipTrigger",WO=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=Np(iy,n),s=ZC(iy,n),o=yv(n),a=E.useRef(null),l=Vi(e,a,r.onTriggerChange),c=E.useRef(!1),u=E.useRef(!1),d=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),b.jsx(zO,{asChild:!0,...o,children:b.jsx(jn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:jt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:jt(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:jt(t.onBlur,r.onClose),onClick:jt(t.onClick,r.onClose)})})});WO.displayName=iy;var $O="TooltipPortal",[eZ,qO]=Lp($O,{forceMount:void 0}),Nl="TooltipContent",QC=E.forwardRef((t,e)=>{const n=qO(Nl,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=Np(Nl,t.__scopeTooltip);return b.jsx(rv,{present:i||o.open,children:o.disableHoverableContent?b.jsx(eA,{side:r,...s,ref:e}):b.jsx(XO,{side:r,...s,ref:e})})}),XO=E.forwardRef((t,e)=>{const n=Np(Nl,t.__scopeTooltip),i=ZC(Nl,t.__scopeTooltip),r=E.useRef(null),s=Vi(e,r),[o,a]=E.useState(null),{trigger:l,onClose:c}=n,u=r.current,{onPointerInTransitChange:d}=i,h=E.useCallback(()=>{a(null),d(!1)},[d]),f=E.useCallback((g,y)=>{const x=g.currentTarget,p={x:g.clientX,y:g.clientY},m=QO(p,x.getBoundingClientRect()),v=ez(p,m),w=tz(y.getBoundingClientRect()),_=iz([...v,...w]);a(_),d(!0)},[d]);return E.useEffect(()=>()=>h(),[h]),E.useEffect(()=>{if(l&&u){const g=x=>f(x,u),y=x=>f(x,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",y)}}},[l,u,f,h]),E.useEffect(()=>{if(o){const g=y=>{const x=y.target,p={x:y.clientX,y:y.clientY},m=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),v=!nz(p,o);m?h():v&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,h]),b.jsx(eA,{...t,ref:s})}),[YO,ZO]=Lp(KC,{isInside:!1}),JO=HO("TooltipContent"),eA=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Np(Nl,n),c=yv(n),{onClose:u}=l;return E.useEffect(()=>(document.addEventListener(Fb,u),()=>document.removeEventListener(Fb,u)),[u]),E.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),b.jsx(iv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:b.jsxs(BO,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(JO,{children:i}),b.jsx(YO,{scope:n,isInside:!0,children:b.jsx(xk,{id:l.contentId,role:"tooltip",children:r||i})})]})})});QC.displayName=Nl;var tA="TooltipArrow",KO=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=yv(n);return ZO(tA,n).isInside?null:b.jsx(UO,{...r,...i,ref:e})});KO.displayName=tA;function QO(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function ez(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function tz(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function nz(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>i!=h>i&&n<(d-c)*(i-u)/(h-u)+c&&(r=!r)}return r}function iz(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),rz(e)}function rz(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sz=JC,nA=QC;const oz=sz,az=E.forwardRef(({className:t,sideOffset:e=4,...n},i)=>b.jsx(nA,{ref:i,sideOffset:e,className:Js("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));az.displayName=nA.displayName;var Ip=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lz={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ps,ax,fE,cz=(fE=class{constructor(){We(this,ps,lz);We(this,ax,!1)}setTimeoutProvider(t){ke(this,ps,t)}setTimeout(t,e){return Z(this,ps).setTimeout(t,e)}clearTimeout(t){Z(this,ps).clearTimeout(t)}setInterval(t,e){return Z(this,ps).setInterval(t,e)}clearInterval(t){Z(this,ps).clearInterval(t)}},ps=new WeakMap,ax=new WeakMap,fE),ry=new cz;function uz(t){setTimeout(t,0)}var Dp=typeof window>"u"||"Deno"in globalThis;function Ai(){}function dz(t,e){return typeof t=="function"?t(e):t}function hz(t){return typeof t=="number"&&t>=0&&t!==1/0}function fz(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sy(t,e){return typeof t=="function"?t(e):t}function pz(t,e){return typeof t=="function"?t(e):t}function Ob(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==xv(o,e.options))return!1}else if(!Au(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function zb(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Cu(e.options.mutationKey)!==Cu(s))return!1}else if(!Au(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function xv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Cu)(t)}function Cu(t){return JSON.stringify(t,(e,n)=>oy(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Au(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Au(t[n],e[n])):!1}var mz=Object.prototype.hasOwnProperty;function iA(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=Bb(t)&&Bb(e);if(!i&&!(oy(t)&&oy(e)))return e;const s=(i?t:Object.keys(t)).length,o=i?e:Object.keys(e),a=o.length,l=i?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=i?u:o[u],h=t[d],f=e[d];if(h===f){l[d]=h,(i?u<s:mz.call(t,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const g=iA(h,f,n+1);l[d]=g,g===h&&c++}return s===a&&c===s?t:l}function Bb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function oy(t){if(!Ub(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ub(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ub(t){return Object.prototype.toString.call(t)==="[object Object]"}function gz(t){return new Promise(e=>{ry.setTimeout(e,t)})}function yz(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iA(t,e):e}function xz(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function vz(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var vv=Symbol();function rA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wz(t,e,n){let i=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??(r=e()),i||(i=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var Ro,ms,gl,pE,bz=(pE=class extends Ip{constructor(){super();We(this,Ro);We(this,ms);We(this,gl);ke(this,gl,e=>{if(!Dp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,ms)||this.setEventListener(Z(this,gl))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,ms))==null||e.call(this),ke(this,ms,void 0))}setEventListener(e){var n;ke(this,gl,e),(n=Z(this,ms))==null||n.call(this),ke(this,ms,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){Z(this,Ro)!==e&&(ke(this,Ro,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,Ro)=="boolean"?Z(this,Ro):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ro=new WeakMap,ms=new WeakMap,gl=new WeakMap,pE),sA=new bz;function _z(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var Mz=uz;function Sz(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=Mz;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var En=Sz(),yl,gs,xl,mE,Ez=(mE=class extends Ip{constructor(){super();We(this,yl,!0);We(this,gs);We(this,xl);ke(this,xl,e=>{if(!Dp&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){Z(this,gs)||this.setEventListener(Z(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,gs))==null||e.call(this),ke(this,gs,void 0))}setEventListener(e){var n;ke(this,xl,e),(n=Z(this,gs))==null||n.call(this),ke(this,gs,e(this.setOnline.bind(this)))}setOnline(e){Z(this,yl)!==e&&(ke(this,yl,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return Z(this,yl)}},yl=new WeakMap,gs=new WeakMap,xl=new WeakMap,mE),$f=new Ez;function Tz(t){return Math.min(1e3*2**t,3e4)}function oA(t){return(t??"online")==="online"?$f.isOnline():!0}var ay=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aA(t){let e=!1,n=0,i;const r=_z(),s=()=>r.status!=="pending",o=y=>{var x;if(!s()){const p=new ay(y);h(p),(x=t.onCancel)==null||x.call(t,p)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>sA.isFocused()&&(t.networkMode==="always"||$f.isOnline())&&t.canRun(),u=()=>oA(t.networkMode)&&t.canRun(),d=y=>{s()||(i==null||i(),r.resolve(y))},h=y=>{s()||(i==null||i(),r.reject(y))},f=()=>new Promise(y=>{var x;i=p=>{(s()||c())&&y(p)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;i=void 0,s()||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(s())return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(d).catch(p=>{var S;if(s())return;const m=t.retry??(Dp?0:3),v=t.retryDelay??Tz,w=typeof v=="function"?v(n,p):v,_=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,p);if(e||!_){h(p);return}n++,(S=t.onFail)==null||S.call(t,n,p),gz(w).then(()=>c()?void 0:f()).then(()=>{e?h(p):g()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),r)}}var Lo,gE,lA=(gE=class{constructor(){We(this,Lo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hz(this.gcTime)&&ke(this,Lo,ry.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dp?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Lo)&&(ry.clearTimeout(Z(this,Lo)),ke(this,Lo,void 0))}},Lo=new WeakMap,gE),No,vl,oi,Io,Yt,Qu,Do,Pi,Tr,yE,Cz=(yE=class extends lA{constructor(e){super();We(this,Pi);We(this,No);We(this,vl);We(this,oi);We(this,Io);We(this,Yt);We(this,Qu);We(this,Do);ke(this,Do,!1),ke(this,Qu,e.defaultOptions),this.setOptions(e.options),this.observers=[],ke(this,Io,e.client),ke(this,oi,Z(this,Io).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ke(this,No,Hb(this.options)),this.state=e.state??Z(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Z(this,Yt))==null?void 0:e.promise}setOptions(e){if(this.options={...Z(this,Qu),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hb(this.options);n.data!==void 0&&(this.setState(Vb(n.data,n.dataUpdatedAt)),ke(this,No,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,oi).remove(this)}setData(e,n){const i=yz(this.state.data,e,this.options);return fn(this,Pi,Tr).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){fn(this,Pi,Tr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,r;const n=(i=Z(this,Yt))==null?void 0:i.promise;return(r=Z(this,Yt))==null||r.cancel(e),n?n.then(Ai).catch(Ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,No))}isActive(){return this.observers.some(e=>pz(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>sy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fz(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Yt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Yt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Z(this,oi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Z(this,Yt)&&(Z(this,Do)?Z(this,Yt).cancel({revert:!0}):Z(this,Yt).cancelRetry()),this.scheduleGc()),Z(this,oi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,Pi,Tr).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,d,h,f,g,y,x,p,m,v;if(this.state.fetchStatus!=="idle"&&((l=Z(this,Yt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Yt))return Z(this,Yt).continueRetry(),Z(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const i=new AbortController,r=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ke(this,Do,!0),i.signal)})},s=()=>{const w=rA(this.options,n),S=(()=>{const M={client:Z(this,Io),queryKey:this.queryKey,meta:this.meta};return r(M),M})();return ke(this,Do,!1),this.options.persister?this.options.persister(w,S,this):w(S)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,Io),state:this.state,fetchFn:s};return r(w),w})();(c=this.options.behavior)==null||c.onFetch(a,this),ke(this,vl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&fn(this,Pi,Tr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),ke(this,Yt,aA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof ay&&w.revert&&this.setState({...Z(this,vl),fetchStatus:"idle"}),i.abort()},onFail:(w,_)=>{fn(this,Pi,Tr).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{fn(this,Pi,Tr).call(this,{type:"pause"})},onContinue:()=>{fn(this,Pi,Tr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await Z(this,Yt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(f=(h=Z(this,oi).config).onSuccess)==null||f.call(h,w,this),(y=(g=Z(this,oi).config).onSettled)==null||y.call(g,w,this.state.error,this),w}catch(w){if(w instanceof ay){if(w.silent)return Z(this,Yt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw fn(this,Pi,Tr).call(this,{type:"error",error:w}),(p=(x=Z(this,oi).config).onError)==null||p.call(x,w,this),(v=(m=Z(this,oi).config).onSettled)==null||v.call(m,this.state.data,w,this),w}finally{this.scheduleGc()}}},No=new WeakMap,vl=new WeakMap,oi=new WeakMap,Io=new WeakMap,Yt=new WeakMap,Qu=new WeakMap,Do=new WeakMap,Pi=new WeakSet,Tr=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Az(i.data,this.options),fetchMeta:e.meta??null};case"success":const r={...i,...Vb(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,vl,e.manual?r:void 0),r;case"error":const s=e.error;return{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Z(this,oi).notify({query:this,type:"updated",action:e})})},yE);function Az(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vb(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function jb(t){return{onFetch:(e,n)=>{var u,d,h,f,g;const i=e.options,r=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=v=>{wz(v,()=>e.signal,()=>y=!0)},p=rA(e.options,e.fetchOptions),m=async(v,w,_)=>{if(y)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const M=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return x(A),A})(),T=await p(M),{maxPages:P}=e.options,C=_?vz:xz;return{pages:C(v.pages,T,P),pageParams:C(v.pageParams,w,P)}};if(r&&s.length){const v=r==="backward",w=v?Pz:Gb,_={pages:s,pageParams:o},S=w(i,_);a=await m(_,S,v)}else{const v=t??s.length;do{const w=l===0?o[0]??i.initialPageParam:Gb(i,a);if(l>0&&w==null)break;a=await m(a,w),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Gb(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function Pz(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var ed,Qi,xn,ko,er,as,xE,Rz=(xE=class extends lA{constructor(e){super();We(this,er);We(this,ed);We(this,Qi);We(this,xn);We(this,ko);ke(this,ed,e.client),this.mutationId=e.mutationId,ke(this,xn,e.mutationCache),ke(this,Qi,[]),this.state=e.state||Lz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Z(this,Qi).includes(e)||(Z(this,Qi).push(e),this.clearGcTimeout(),Z(this,xn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ke(this,Qi,Z(this,Qi).filter(n=>n!==e)),this.scheduleGc(),Z(this,xn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Z(this,Qi).length||(this.state.status==="pending"?this.scheduleGc():Z(this,xn).remove(this))}continue(){var e;return((e=Z(this,ko))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,h,f,g,y,x,p,m,v,w,_,S,M;const n=()=>{fn(this,er,as).call(this,{type:"continue"})},i={client:Z(this,ed),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,ko,aA({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{fn(this,er,as).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{fn(this,er,as).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,xn).canRun(this)}));const r=this.state.status==="pending",s=!Z(this,ko).canStart();try{if(r)n();else{fn(this,er,as).call(this,{type:"pending",variables:e,isPaused:s}),Z(this,xn).config.onMutate&&await Z(this,xn).config.onMutate(e,this,i);const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,i));P!==this.state.context&&fn(this,er,as).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const T=await Z(this,ko).start();return await((c=(l=Z(this,xn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this,i)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,i)),await((f=(h=Z(this,xn).config).onSettled)==null?void 0:f.call(h,T,null,this.state.variables,this.state.context,this,i)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,T,null,e,this.state.context,i)),fn(this,er,as).call(this,{type:"success",data:T}),T}catch(T){try{await((p=(x=Z(this,xn).config).onError)==null?void 0:p.call(x,T,e,this.state.context,this,i))}catch(P){Promise.reject(P)}try{await((v=(m=this.options).onError)==null?void 0:v.call(m,T,e,this.state.context,i))}catch(P){Promise.reject(P)}try{await((_=(w=Z(this,xn).config).onSettled)==null?void 0:_.call(w,void 0,T,this.state.variables,this.state.context,this,i))}catch(P){Promise.reject(P)}try{await((M=(S=this.options).onSettled)==null?void 0:M.call(S,void 0,T,e,this.state.context,i))}catch(P){Promise.reject(P)}throw fn(this,er,as).call(this,{type:"error",error:T}),T}finally{Z(this,xn).runNext(this)}}},ed=new WeakMap,Qi=new WeakMap,xn=new WeakMap,ko=new WeakMap,er=new WeakSet,as=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{Z(this,Qi).forEach(i=>{i.onMutationUpdate(e)}),Z(this,xn).notify({mutation:this,type:"updated",action:e})})},xE);function Lz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Ri,td,vE,Nz=(vE=class extends Ip{constructor(e={}){super();We(this,Pr);We(this,Ri);We(this,td);this.config=e,ke(this,Pr,new Set),ke(this,Ri,new Map),ke(this,td,0)}build(e,n,i){const r=new Rz({client:e,mutationCache:this,mutationId:++Rd(this,td)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){Z(this,Pr).add(e);const n=Kd(e);if(typeof n=="string"){const i=Z(this,Ri).get(n);i?i.push(e):Z(this,Ri).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,Pr).delete(e)){const n=Kd(e);if(typeof n=="string"){const i=Z(this,Ri).get(n);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&Z(this,Ri).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Kd(e);if(typeof n=="string"){const i=Z(this,Ri).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const n=Kd(e);if(typeof n=="string"){const r=(i=Z(this,Ri).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{Z(this,Pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,Pr).clear(),Z(this,Ri).clear()})}getAll(){return Array.from(Z(this,Pr))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>zb(n,i))}findAll(e={}){return this.getAll().filter(n=>zb(e,n))}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ai))))}},Pr=new WeakMap,Ri=new WeakMap,td=new WeakMap,vE);function Kd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var tr,wE,Iz=(wE=class extends Ip{constructor(e={}){super();We(this,tr);this.config=e,ke(this,tr,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??xv(r,n);let o=this.get(s);return o||(o=new Cz({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){Z(this,tr).has(e.queryHash)||(Z(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,tr).get(e)}getAll(){return[...Z(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Ob(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>Ob(e,i)):n}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,wE),Tt,ys,xs,wl,bl,vs,_l,Ml,bE,Dz=(bE=class{constructor(t={}){We(this,Tt);We(this,ys);We(this,xs);We(this,wl);We(this,bl);We(this,vs);We(this,_l);We(this,Ml);ke(this,Tt,t.queryCache||new Iz),ke(this,ys,t.mutationCache||new Nz),ke(this,xs,t.defaultOptions||{}),ke(this,wl,new Map),ke(this,bl,new Map),ke(this,vs,0)}mount(){Rd(this,vs)._++,Z(this,vs)===1&&(ke(this,_l,sA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Tt).onFocus())})),ke(this,Ml,$f.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Tt).onOnline())})))}unmount(){var t,e;Rd(this,vs)._--,Z(this,vs)===0&&((t=Z(this,_l))==null||t.call(this),ke(this,_l,void 0),(e=Z(this,Ml))==null||e.call(this),ke(this,Ml,void 0))}isFetching(t){return Z(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Z(this,Tt).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return Z(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),r=Z(this,Tt).get(i.queryHash),s=r==null?void 0:r.state.data,o=dz(e,s);if(o!==void 0)return Z(this,Tt).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>Z(this,Tt).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,Tt);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,Tt);return En.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=En.batch(()=>Z(this,Tt).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Ai).catch(Ai)}invalidateQueries(t,e={}){return En.batch(()=>(Z(this,Tt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=En.batch(()=>Z(this,Tt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ai)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Ai)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,Tt).build(this,e);return n.isStaleByTime(sy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ai).catch(Ai)}fetchInfiniteQuery(t){return t.behavior=jb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ai).catch(Ai)}ensureInfiniteQueryData(t){return t.behavior=jb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $f.isOnline()?Z(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Tt)}getMutationCache(){return Z(this,ys)}getDefaultOptions(){return Z(this,xs)}setDefaultOptions(t){ke(this,xs,t)}setQueryDefaults(t,e){Z(this,wl).set(Cu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,wl).values()],n={};return e.forEach(i=>{Au(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){Z(this,bl).set(Cu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,bl).values()],n={};return e.forEach(i=>{Au(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,Tt).clear(),Z(this,ys).clear()}},Tt=new WeakMap,ys=new WeakMap,xs=new WeakMap,wl=new WeakMap,bl=new WeakMap,vs=new WeakMap,_l=new WeakMap,Ml=new WeakMap,bE),kz=E.createContext(void 0),Fz=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(kz.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pu.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const Wb="popstate";function Oz(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return ly("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:qf(r)}return Bz(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zz(){return Math.random().toString(36).substr(2,8)}function $b(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n,i){return n===void 0&&(n=null),Pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ec(e):e,{state:n,key:e&&e.key||i||zz()})}function qf(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Bz(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=_s.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Pu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=_s.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:p})}function h(x,p){a=_s.Push;let m=ly(y.location,x,p);c=u()+1;let v=$b(m,c),w=y.createHref(m);try{o.pushState(v,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function f(x,p){a=_s.Replace;let m=ly(y.location,x,p);c=u();let v=$b(m,c),w=y.createHref(m);o.replaceState(v,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function g(x){let p=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof x=="string"?x:qf(x);return m=m.replace(/ $/,"%20"),Dt(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Wb,d),l=x,()=>{r.removeEventListener(Wb,d),l=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(x){return o.go(x)}};return y}var qb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qb||(qb={}));function Uz(t,e,n){return n===void 0&&(n="/"),Vz(t,e,n)}function Vz(t,e,n,i){let r=typeof e=="string"?ec(e):e,s=bv(r.pathname||"/",n);if(s==null)return null;let o=cA(t);Hz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=eB(s);a=Jz(o[l],c)}return a}function cA(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ns([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cA(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Yz(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of uA(s.path))r(s,o,l)}),e}function uA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=uA(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Hz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Zz(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const jz=/^:[\w-]+$/,Gz=3,Wz=2,$z=1,qz=10,Xz=-2,Xb=t=>t==="*";function Yz(t,e){let n=t.split("/"),i=n.length;return n.some(Xb)&&(i+=Xz),e&&(i+=Wz),n.filter(r=>!Xb(r)).reduce((r,s)=>r+(jz.test(s)?Gz:s===""?$z:qz),i)}function Zz(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Jz(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Kz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Ns([s,d.pathname]),pathnameBase:sB(Ns([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ns([s,d.pathnameBase]))}return o}function Kz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Qz(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Qz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function eB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const tB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nB=t=>tB.test(t);function iB(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ec(t):t,s;if(n)if(nB(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),wv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Yb(n.substring(1),"/"):s=Yb(n,e)}else s=e;return{pathname:s,search:oB(i),hash:aB(r)}}function Yb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _v(t,e){let n=rB(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Mv(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ec(t):(r=Pu({},t),Dt(!r.pathname||!r.pathname.includes("?"),qm("?","pathname","search",r)),Dt(!r.pathname||!r.pathname.includes("#"),qm("#","pathname","hash",r)),Dt(!r.search||!r.search.includes("#"),qm("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=iB(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),sB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dA=["post","put","patch","delete"];new Set(dA);const cB=["get",...dA];new Set(cB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ru.apply(this,arguments)}const Sv=E.createContext(null),uB=E.createContext(null),Ks=E.createContext(null),kp=E.createContext(null),qr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),hA=E.createContext(null);function dB(t,e){let{relative:n}=e===void 0?{}:e;tc()||Dt(!1);let{basename:i,navigator:r}=E.useContext(Ks),{hash:s,pathname:o,search:a}=pA(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ns([i,o])),r.createHref({pathname:l,search:a,hash:s})}function tc(){return E.useContext(kp)!=null}function nc(){return tc()||Dt(!1),E.useContext(kp).location}function fA(t){E.useContext(Ks).static||E.useLayoutEffect(t)}function $i(){let{isDataRoute:t}=E.useContext(qr);return t?SB():hB()}function hB(){tc()||Dt(!1);let t=E.useContext(Sv),{basename:e,future:n,navigator:i}=E.useContext(Ks),{matches:r}=E.useContext(qr),{pathname:s}=nc(),o=JSON.stringify(_v(r,n.v7_relativeSplatPath)),a=E.useRef(!1);return fA(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=Mv(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ns([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,t])}function Ev(){let{matches:t}=E.useContext(qr),e=t[t.length-1];return e?e.params:{}}function pA(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=E.useContext(Ks),{matches:r}=E.useContext(qr),{pathname:s}=nc(),o=JSON.stringify(_v(r,i.v7_relativeSplatPath));return E.useMemo(()=>Mv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function fB(t,e){return pB(t,e)}function pB(t,e,n,i){tc()||Dt(!1);let{navigator:r}=E.useContext(Ks),{matches:s}=E.useContext(qr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=nc(),u;if(e){var d;let x=typeof e=="string"?ec(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||Dt(!1),u=x}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Uz(t,{pathname:f}),y=vB(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ns([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ns([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return e&&y?E.createElement(kp.Provider,{value:{location:Ru({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_s.Pop}},y):y}function mB(){let t=MB(),e=lB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:r},n):null,null)}const gB=E.createElement(mB,null);class yB extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(qr.Provider,{value:this.props.routeContext},E.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xB(t){let{routeContext:e,match:n,children:i}=t,r=E.useContext(Sv);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(qr.Provider,{value:e},i)}function vB(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Dt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,y=null,x=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||gB,l&&(c<0&&h===0?(EB("route-fallback"),g=!0,x=null):c===h&&(g=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),m=()=>{let v;return f?v=y:g?v=x:d.route.Component?v=E.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,E.createElement(xB,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(yB,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var mA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mA||{}),gA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gA||{});function wB(t){let e=E.useContext(Sv);return e||Dt(!1),e}function bB(t){let e=E.useContext(uB);return e||Dt(!1),e}function _B(t){let e=E.useContext(qr);return e||Dt(!1),e}function yA(t){let e=_B(),n=e.matches[e.matches.length-1];return n.route.id||Dt(!1),n.route.id}function MB(){var t;let e=E.useContext(hA),n=bB(),i=yA();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function SB(){let{router:t}=wB(mA.UseNavigateStable),e=yA(gA.UseNavigateStable),n=E.useRef(!1);return fA(()=>{n.current=!0}),E.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ru({fromRouteId:e},s)))},[t,e])}const Zb={};function EB(t,e,n){Zb[t]||(Zb[t]=!0)}function TB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function CB(t){let{to:e,replace:n,state:i,relative:r}=t;tc()||Dt(!1);let{future:s,static:o}=E.useContext(Ks),{matches:a}=E.useContext(qr),{pathname:l}=nc(),c=$i(),u=Mv(e,_v(a,s.v7_relativeSplatPath),l,r==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:i,relative:r}),[c,d,r,n,i]),null}function Mn(t){Dt(!1)}function AB(t){let{basename:e="/",children:n=null,location:i,navigationType:r=_s.Pop,navigator:s,static:o=!1,future:a}=t;tc()&&Dt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Ru({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=ec(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=i,y=E.useMemo(()=>{let x=bv(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:g},navigationType:r}},[l,u,d,h,f,g,r]);return y==null?null:E.createElement(Ks.Provider,{value:c},E.createElement(kp.Provider,{children:n,value:y}))}function PB(t){let{children:e,location:n}=t;return fB(cy(e),n)}new Promise(()=>{});function cy(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(i,r)=>{if(!E.isValidElement(i))return;let s=[...e,r];if(i.type===E.Fragment){n.push.apply(n,cy(i.props.children,s));return}i.type!==Mn&&Dt(!1),!i.props.index||!i.props.children||Dt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=cy(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uy.apply(this,arguments)}function RB(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function LB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NB(t,e){return t.button===0&&(!e||e==="_self")&&!LB(t)}const IB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DB="6";try{window.__reactRouterVersion=DB}catch{}const kB="startTransition",Jb=IE[kB];function FB(t){let{basename:e,children:n,future:i,window:r}=t,s=E.useRef();s.current==null&&(s.current=Oz({window:r,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=E.useCallback(d=>{c&&Jb?Jb(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.useEffect(()=>TB(i),[i]),E.createElement(AB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const OB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tv=E.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=RB(e,IB),{basename:f}=E.useContext(Ks),g,y=!1;if(typeof c=="string"&&zB.test(c)&&(g=c,OB))try{let v=new URL(window.location.href),w=c.startsWith("//")?new URL(v.protocol+c):new URL(c),_=bv(w.pathname,f);w.origin===v.origin&&_!=null?c=_+w.search+w.hash:y=!0}catch{}let x=dB(c,{relative:r}),p=BB(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function m(v){i&&i(v),v.defaultPrevented||p(v)}return E.createElement("a",uy({},h,{href:g||x,onClick:y||s?i:m,ref:n,target:l}))});var Kb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kb||(Kb={}));var Qb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qb||(Qb={}));function BB(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$i(),c=nc(),u=pA(t,{relative:o});return E.useCallback(d=>{if(NB(d,n)){d.preventDefault();let h=i!==void 0?i:qf(c)===qf(u);l(t,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}const Cv=E.createContext({});function js(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const xA=typeof window<"u",Fp=xA?E.useLayoutEffect:E.useEffect,Op=E.createContext(null);function Av(t,e){t.indexOf(e)===-1&&t.push(e)}function Xf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gi=(t,e,n)=>n>e?e:n<t?t:n;let Lu=()=>{};const Ur={},vA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wA(t){return typeof t=="object"&&t!==null}const bA=t=>/^0[^.\s]+$/u.test(t);function _A(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vn=t=>t,UB=(t,e)=>n=>e(t(n)),ud=(...t)=>t.reduce(UB),Il=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Pv{constructor(){this.subscriptions=[]}add(e){return Av(this.subscriptions,e),()=>Xf(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=t=>t*1e3,ui=t=>t/1e3;function Rv(t,e){return e?t*(1e3/e):0}const MA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VB=1e-7,HB=12;function jB(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=MA(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>VB&&++a<HB);return o}function dd(t,e,n,i){if(t===e&&n===i)return Vn;const r=s=>jB(s,0,1,t,n);return s=>s===0||s===1?s:MA(r(s),e,i)}const SA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EA=t=>e=>1-t(1-e),TA=dd(.33,1.53,.69,.99),Lv=EA(TA),CA=SA(Lv),AA=t=>(t*=2)<1?.5*Lv(t):.5*(2-Math.pow(2,-10*(t-1))),Nv=t=>1-Math.sin(Math.acos(t)),PA=EA(Nv),RA=SA(Nv),GB=dd(.42,0,1,1),WB=dd(0,0,.58,1),LA=dd(.42,0,.58,1),$B=t=>Array.isArray(t)&&typeof t[0]!="number",NA=t=>Array.isArray(t)&&typeof t[0]=="number",qB={linear:Vn,easeIn:GB,easeInOut:LA,easeOut:WB,circIn:Nv,circInOut:RA,circOut:PA,backIn:Lv,backInOut:CA,backOut:TA,anticipate:AA},XB=t=>typeof t=="string",e_=t=>{if(NA(t)){Lu(t.length===4);const[e,n,i,r]=t;return dd(e,n,i,r)}else if(XB(t))return qB[t];return t},Qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YB(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&r?n:i;return d&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{i.delete(u),o.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(l),n.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ZB=40;function IA(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Qd.reduce((v,w)=>(v[w]=YB(s),v),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:g}=o,y=()=>{const v=Ur.useManualTiming?r.timestamp:performance.now();n=!1,Ur.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,ZB),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),g.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(y))},x=()=>{n=!0,i=!0,r.isProcessing||t(y)};return{schedule:Qd.reduce((v,w)=>{const _=o[w];return v[w]=(S,M=!1,T=!1)=>(n||x(),_.schedule(S,M,T)),v},{}),cancel:v=>{for(let w=0;w<Qd.length;w++)o[Qd[w]].cancel(v)},state:r,steps:o}}const{schedule:Je,cancel:pi,state:Zt,steps:Xm}=IA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let uf;function JB(){uf=void 0}const Tn={now:()=>(uf===void 0&&Tn.set(Zt.isProcessing||Ur.useManualTiming?Zt.timestamp:performance.now()),uf),set:t=>{uf=t,queueMicrotask(JB)}},DA=t=>e=>typeof e=="string"&&e.startsWith(t),kA=DA("--"),KB=DA("var(--"),Iv=t=>KB(t)?QB.test(t.split("/*")[0].trim()):!1,QB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function t_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ic={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nu={...ic,transform:t=>Gi(0,1,t)},eh={...ic,default:1},Qc=t=>Math.round(t*1e5)/1e5,Dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e5(t){return t==null}const t5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kv=(t,e)=>n=>!!(typeof n=="string"&&t5.test(n)&&n.startsWith(t)||e&&!e5(n)&&Object.prototype.hasOwnProperty.call(n,e)),FA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Dv);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},n5=t=>Gi(0,255,t),Ym={...ic,transform:t=>Math.round(n5(t))},Eo={test:kv("rgb","red"),parse:FA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ym.transform(t)+", "+Ym.transform(e)+", "+Ym.transform(n)+", "+Qc(Nu.transform(i))+")"};function i5(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const dy={test:kv("#"),parse:i5,transform:Eo.transform},hd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ls=hd("deg"),cr=hd("%"),be=hd("px"),r5=hd("vh"),s5=hd("vw"),n_={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},Ya={test:kv("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+cr.transform(Qc(e))+", "+cr.transform(Qc(n))+", "+Qc(Nu.transform(i))+")"},Ft={test:t=>Eo.test(t)||dy.test(t)||Ya.test(t),parse:t=>Eo.test(t)?Eo.parse(t):Ya.test(t)?Ya.parse(t):dy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eo.transform(t):Ya.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},o5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dv))==null?void 0:e.length)||0)+(((n=t.match(o5))==null?void 0:n.length)||0)>0}const OA="number",zA="color",l5="var",c5="var(",i_="${}",u5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(u5,l=>(Ft.test(l)?(i.color.push(s),r.push(zA),n.push(Ft.parse(l))):l.startsWith(c5)?(i.var.push(s),r.push(l5),n.push(l)):(i.number.push(s),r.push(OA),n.push(parseFloat(l))),++s,i_)).split(i_);return{values:n,split:a,indexes:i,types:r}}function BA(t){return Iu(t).values}function UA(t){const{split:e,types:n}=Iu(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===OA?s+=Qc(r[o]):a===zA?s+=Ft.transform(r[o]):s+=r[o]}return s}}const d5=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function h5(t){const e=BA(t);return UA(t)(e.map(d5))}const zi={test:a5,parse:BA,createTransformer:UA,getAnimatableNone:h5};function Zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Zm(l,a,t+1/3),s=Zm(l,a,t),o=Zm(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Yf(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,Jm=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},p5=[dy,Eo,Ya],m5=t=>p5.find(e=>e.test(t));function r_(t){const e=m5(t);if(!e)return!1;let n=e.parse(t);return e===Ya&&(n=f5(n)),n}const s_=(t,e)=>{const n=r_(t),i=r_(e);if(!n||!i)return Yf(t,e);const r={...n};return s=>(r.red=Jm(n.red,i.red,s),r.green=Jm(n.green,i.green,s),r.blue=Jm(n.blue,i.blue,s),r.alpha=vt(n.alpha,i.alpha,s),Eo.transform(r))},hy=new Set(["none","hidden"]);function g5(t,e){return hy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y5(t,e){return n=>vt(t,e,n)}function Fv(t){return typeof t=="number"?y5:typeof t=="string"?Iv(t)?Yf:Ft.test(t)?s_:w5:Array.isArray(t)?VA:typeof t=="object"?Ft.test(t)?s_:x5:Yf}function VA(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Fv(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function x5(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Fv(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function v5(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}const w5=(t,e)=>{const n=zi.createTransformer(e),i=Iu(t),r=Iu(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hy.has(t)&&!r.values.length||hy.has(e)&&!i.values.length?g5(t,e):ud(VA(v5(i,r),r.values),n):Yf(t,e)};function HA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):Fv(t)(t,e)}const b5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Je.update(e,n),stop:()=>pi(e),now:()=>Zt.isProcessing?Zt.timestamp:Tn.now()}},jA=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Zf=2e4;function Ov(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Zf;)e+=n,i=t.next(e);return e>=Zf?1/0:e}function _5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(Ov(i),Zf);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:ui(r)}}const M5=5;function GA(t,e,n){const i=Math.max(e-M5,0);return Rv(n-t(i),e-i)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Km=.001;function S5({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:i=Ct.mass}){let r,s,o=1-e;o=Gi(Ct.minDamping,Ct.maxDamping,o),t=Gi(Ct.minDuration,Ct.maxDuration,ui(t)),o<1?(r=c=>{const u=c*o,d=u*t,h=u-n,f=fy(c,o),g=Math.exp(-d);return Km-h/f*g},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=fy(Math.pow(c,2),o);return(-r(c)+Km>0?-1:1)*((h-f)*g)/y}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Km+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=T5(r,s,a);if(t=Oi(t),isNaN(l))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const E5=12;function T5(t,e,n){let i=n;for(let r=1;r<E5;r++)i=i-t(i)/e(i);return i}function fy(t,e){return t*Math.sqrt(1-e*e)}const C5=["duration","bounce"],A5=["stiffness","damping","mass"];function o_(t,e){return e.some(n=>t[n]!==void 0)}function P5(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!o_(t,A5)&&o_(t,C5))if(e.velocity=0,t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Gi(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ct.mass,stiffness:r,damping:s}}else{const n=S5({...t,velocity:0});e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function Jf(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=P5({...n,velocity:-ui(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),x=o-s,p=ui(Math.sqrt(l/u)),m=Math.abs(x)<5;i||(i=m?Ct.restSpeed.granular:Ct.restSpeed.default),r||(r=m?Ct.restDelta.granular:Ct.restDelta.default);let v;if(y<1){const _=fy(p,y);v=S=>{const M=Math.exp(-y*p*S);return o-M*((g+y*p*x)/_*Math.sin(_*S)+x*Math.cos(_*S))}}else if(y===1)v=_=>o-Math.exp(-p*_)*(x+(g+p*x)*_);else{const _=p*Math.sqrt(y*y-1);v=S=>{const M=Math.exp(-y*p*S),T=Math.min(_*S,300);return o-M*((g+y*p*x)*Math.sinh(T)+_*x*Math.cosh(T))/_}}const w={calculatedDuration:f&&d||null,next:_=>{const S=v(_);if(f)a.done=_>=d;else{let M=_===0?g:0;y<1&&(M=_===0?Oi(g):GA(v,_,S));const T=Math.abs(M)<=i,P=Math.abs(o-S)<=r;a.done=T&&P}return a.value=a.done?o:S,a},toString:()=>{const _=Math.min(Ov(w),Zf),S=jA(M=>w.next(_*M).value,_,30);return _+"ms "+S},toTransition:()=>{}};return w}Jf.applyToOptions=t=>{const e=_5(t,100,Jf);return t.ease=e.ease,t.duration=Oi(e.duration),t.type="keyframes",t};function py({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let y=n*e;const x=d+y,p=o===void 0?x:o(x);p!==x&&(y=p-d);const m=T=>-y*Math.exp(-T/i),v=T=>p+m(T),w=T=>{const P=m(T),C=v(T);h.done=Math.abs(P)<=c,h.value=h.done?p:C};let _,S;const M=T=>{f(h.value)&&(_=T,S=Jf({keyframes:[h.value,g(h.value)],velocity:GA(v,T,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:T=>{let P=!1;return!S&&_===void 0&&(P=!0,w(T),M(T)),_!==void 0&&T>=_?S.next(T-_):(!P&&w(T),h)}}}function R5(t,e,n){const i=[],r=n||Ur.mix||HA,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vn:e;a=ud(l,a)}i.push(a)}return i}function zv(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Lu(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=R5(e,i,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Il(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Gi(t[0],t[s-1],u)):c}function L5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Il(0,e,i);t.push(vt(n,1,r))}}function WA(t){const e=[0];return L5(e,t.length-1),e}function N5(t,e){return t.map(n=>n*e)}function I5(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function eu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=$B(i)?i.map(e_):e_(i),s={done:!1,value:e[0]},o=N5(n&&n.length===e.length?n:WA(e),t),a=zv(o,e,{ease:Array.isArray(r)?r:I5(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const D5=t=>t!==null;function Bv(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(D5),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const k5={decay:py,inertia:py,tween:eu,keyframes:eu,spring:Jf};function $A(t){typeof t.type=="string"&&(t.type=k5[t.type])}class Uv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const F5=t=>t/100;class zp extends Uv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$A(e);const{type:n=eu,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||eu;l!==eu&&typeof a[0]!="number"&&(this.mixKeyframes=ud(F5,HA(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ov(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,w=i;if(d){const T=Math.min(this.currentTime,r)/a;let P=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(h==="reverse"?(C=1-C,f&&(C-=f/a)):h==="mirror"&&(w=o)),v=Gi(0,1,C)*a}const _=m?{done:!1,value:u[0]}:w.next(v);s&&(_.value=s(_.value));let{done:S}=_;!m&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return M&&g!==py&&(_.value=Bv(u,this.options,x,this.speed)),y&&y(_.value),M&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return ui(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(this.currentTime)}set time(e){var n;e=Oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=b5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function O5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const To=t=>t*180/Math.PI,my=t=>{const e=To(Math.atan2(t[1],t[0]));return gy(e)},z5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:my,rotateZ:my,skewX:t=>To(Math.atan(t[1])),skewY:t=>To(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gy=t=>(t=t%360,t<0&&(t+=360),t),a_=my,l_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),c_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:l_,scaleY:c_,scale:t=>(l_(t)+c_(t))/2,rotateX:t=>gy(To(Math.atan2(t[6],t[5]))),rotateY:t=>gy(To(Math.atan2(-t[2],t[0]))),rotateZ:a_,rotate:a_,skewX:t=>To(Math.atan(t[4])),skewY:t=>To(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yy(t){return t.includes("scale")?1:0}function xy(t,e){if(!t||t==="none")return yy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=B5,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=z5,r=a}if(!r)return yy(e);const s=i[e],o=r[1].split(",").map(V5);return typeof s=="function"?s(o):o[s]}const U5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return xy(n,e)};function V5(t){return parseFloat(t.trim())}const rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sc=new Set(rc),u_=t=>t===ic||t===be,H5=new Set(["x","y","z"]),j5=rc.filter(t=>!H5.has(t));function G5(t){const e=[];return j5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ms={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xy(e,"x"),y:(t,{transform:e})=>xy(e,"y")};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const zo=new Set;let vy=!1,wy=!1,by=!1;function qA(){if(wy){const t=Array.from(zo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=G5(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}wy=!1,vy=!1,zo.forEach(t=>t.complete(by)),zo.clear()}function XA(){zo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wy=!0)})}function W5(){by=!0,XA(),qA(),by=!1}class Vv{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zo.add(this),vy||(vy=!0,Je.read(XA),Je.resolveKeyframes(qA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}O5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zo.delete(this)}cancel(){this.state==="scheduled"&&(zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $5=t=>t.startsWith("--");function q5(t,e,n){$5(e)?t.style.setProperty(e,n):t.style[e]=n}const X5={};function YA(t,e){const n=_A(t);return()=>X5[e]??n()}const ZA=YA(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),JA=YA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,d_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vc([0,.65,.55,1]),circOut:Vc([.55,0,1,.45]),backIn:Vc([.31,.01,.66,-.59]),backOut:Vc([.33,1.53,.69,.99])};function KA(t,e){if(t)return typeof t=="function"?JA()?jA(t,e):"ease-out":NA(t)?Vc(t):Array.isArray(t)?t.map(n=>KA(n,e)||d_.easeOut):d_[t]}function Y5(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=KA(a,r);Array.isArray(d)&&(u.easing=d);const h={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function QA(t){return typeof t=="function"&&"applyToOptions"in t}function Z5({type:t,...e}){return QA(t)&&JA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class e3 extends Uv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Lu(typeof e.type!="string");const c=Z5(e);this.animation=Y5(n,i,r,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=Bv(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):q5(n,i,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,i,r;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((r=(i=this.animation).commitStyles)==null||r.call(i))}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ui(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ZA()?(this.animation.timeline=e,Vn):n(this)}}const t3={anticipate:AA,backInOut:CA,circInOut:RA};function J5(t){return t in t3}function K5(t){typeof t.ease=="string"&&J5(t.ease)&&(t.ease=t3[t.ease])}const Qm=10;class Q5 extends e3{constructor(e){K5(e),$A(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new zp({...o,autoplay:!1}),l=Math.max(Qm,Tn.now()-this.startTime),c=Gi(0,Qm,l-Qm);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const h_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zi.test(t)||t==="0")&&!t.startsWith("url("));function eU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tU(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=h_(r,e),a=h_(s,e);return!o||!a?!1:eU(t)||(n==="spring"||QA(n))&&i}function _y(t){t.duration=0,t.type="keyframes"}const nU=new Set(["opacity","clipPath","filter","transform"]),iU=_A(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rU(t){var u;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return iU()&&n&&nU.has(n)&&(n!=="transform"||!c)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const sU=40;class oU extends Uv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Tn.now();const h={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||Vv;this.keyframeResolver=new f(a,(y,x,p)=>this.onKeyframesResolved(y,x,h,!p),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,i,r){var x,p;this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=i;this.resolvedAt=Tn.now(),tU(e,s,o,a)||((Ur.instantAnimations||!l)&&(u==null||u(Bv(e,i,n))),e[0]=e[e.length-1],_y(i),i.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>sU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},f=!c&&rU(h),g=(p=(x=h.motionValue)==null?void 0:x.owner)==null?void 0:p.current,y=f?new Q5({...h,element:g}):new zp(h);y.finished.then(()=>{this.notifyFinished()}).catch(Vn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),W5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function n3(t,e,n,i=0,r=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}const aU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lU(t){const e=aU.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function i3(t,e,n=1){const[i,r]=lU(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return vA(o)?parseFloat(o):o}return Iv(r)?i3(r,e,n+1):r}const cU={type:"spring",stiffness:500,damping:25,restSpeed:10},uU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dU={type:"keyframes",duration:.8},hU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fU=(t,{keyframes:e})=>e.length>2?dU:sc.has(t)?t.startsWith("scale")?uU(e[1]):cU:hU,pU=t=>t!==null;function mU(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(pU),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[s]}function r3(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function Hv(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?r3(n,t):n}function gU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jv=(t,e,n,i={},r,s)=>o=>{const a=Hv(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Oi(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};gU(a)||Object.assign(u,fU(t,u)),u.duration&&(u.duration=Oi(u.duration)),u.repeatDelay&&(u.repeatDelay=Oi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(_y(u),u.delay===0&&(d=!0)),(Ur.instantAnimations||Ur.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(d=!0,_y(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const h=mU(u.keyframes,a);if(h!==void 0){Je.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new zp(u):new oU(u)};function f_(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Gv(t,e,n,i){if(typeof e=="function"){const[r,s]=f_(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=f_(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function hl(t,e,n){const i=t.getProps();return Gv(i,e,n!==void 0?n:i.custom,t)}const s3=new Set(["width","height","top","left","right","bottom",...rc]),p_=30,yU=t=>!isNaN(parseFloat(t)),tu={current:void 0};class xU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=Tn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return tu.current&&tu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,p_);return Rv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(t,e){return new xU(t,e)}const My=t=>Array.isArray(t);function vU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Di(n))}function wU(t){return My(t)?t[t.length-1]||0:t}function bU(t,e){const n=hl(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=wU(s[o]);vU(t,o,a)}}const Qt=t=>!!(t&&t.getVelocity);function _U(t){return!!(Qt(t)&&t.add)}function Sy(t,e){const n=t.getValue("willChange");if(_U(n))return n.add(e);if(!n&&Ur.WillChange){const i=new Ur.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Wv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const MU="framerAppearId",o3="data-"+Wv(MU);function a3(t){return t.props[o3]}function SU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function l3(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s,transitionEnd:o,...a}=e;const l=t.getDefaultTransition();s=s?r3(s,l):l;const c=s==null?void 0:s.reduceMotion;i&&(s=i);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),g=a[h];if(g===void 0||d&&SU(d,h))continue;const y={delay:n,...Hv(s||{},h)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===x&&!y.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const w=a3(t);if(w){const _=window.MotionHandoffAnimation(w,h,Je);_!==null&&(y.startTime=_,p=!0)}}Sy(t,h);const m=c??t.shouldReduceMotion;f.start(jv(h,f,g,m&&s3.has(h)?{type:!1}:y,t,p));const v=f.animation;v&&u.push(v)}if(o){const h=()=>Je.update(()=>{o&&bU(t,o)});u.length?Promise.all(u).then(h):h()}return u}function Ey(t,e,n={}){var l;const i=hl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(l3(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return EU(t,e,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function EU(t,e,n=0,i=0,r=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Ey(l,e,{...o,delay:n+(typeof i=="function"?0:i)+n3(t.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function TU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Ey(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Ey(t,e,n);else{const r=typeof e=="function"?hl(t,e,n.custom):e;i=Promise.all(l3(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const CU={test:t=>t==="auto",parse:t=>t},c3=t=>e=>e.test(t),u3=[ic,be,cr,ls,s5,r5,CU],m_=t=>u3.find(c3(t));function AU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bA(t):!0}const PU=new Set(["brightness","contrast","saturate","opacity"]);function RU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Dv)||[];if(!i)return t;const r=n.replace(i,"");let s=PU.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const LU=/\b([a-z-]*)\(.*?\)/gu,Ty={...zi,getAnimatableNone:t=>{const e=t.match(LU);return e?e.map(RU).join(" "):t}},Cy={...zi,getAnimatableNone:t=>{const e=zi.parse(t);return zi.createTransformer(t)(e.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},g_={...ic,transform:Math.round},NU={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:eh,scaleX:eh,scaleY:eh,scaleZ:eh,skew:ls,skewX:ls,skewY:ls,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Nu,originX:n_,originY:n_,originZ:be},$v={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,inset:be,insetBlock:be,insetBlockStart:be,insetBlockEnd:be,insetInline:be,insetInlineStart:be,insetInlineEnd:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,paddingBlock:be,paddingBlockStart:be,paddingBlockEnd:be,paddingInline:be,paddingInlineStart:be,paddingInlineEnd:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,marginBlock:be,marginBlockStart:be,marginBlockEnd:be,marginInline:be,marginInlineStart:be,marginInlineEnd:be,fontSize:be,backgroundPositionX:be,backgroundPositionY:be,...NU,zIndex:g_,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:g_},IU={...$v,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Ty,WebkitFilter:Ty,mask:Cy,WebkitMask:Cy},d3=t=>IU[t],DU=new Set([Ty,Cy]);function h3(t,e){let n=d3(t);return DU.has(n)||(n=zi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kU=new Set(["auto","none","0"]);function FU(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!kU.has(s)&&Iu(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=h3(n,r)}class OU extends Vv{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Iv(d))){const h=i3(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!s3.has(i)||e.length!==2)return;const[r,s]=e,o=m_(r),a=m_(s),l=t_(r),c=t_(s);if(l!==c&&Ms[i]){this.needsMeasurement=!0;return}if(o!==a)if(u_(o)&&u_(a))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Ms[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||AU(e[r]))&&i.push(r);i.length&&FU(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ms[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Ms[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const zU=new Set(["opacity","clipPath","filter","transform"]);function f3(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(i=>i!=null)}const p3=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Kf(t){return wA(t)&&"offsetHeight"in t}const{schedule:qv}=IA(queueMicrotask,!1),Ti={x:!1,y:!1};function m3(){return Ti.x||Ti.y}function BU(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function g3(t,e){const n=f3(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function UU(t){return!(t.pointerType==="touch"||m3())}function VU(t,e,n={}){const[i,r,s]=g3(t,n);return i.forEach(o=>{let a=!1,l=!1,c;const u=()=>{o.removeEventListener("pointerleave",g)},d=x=>{c&&(c(x),c=void 0),u()},h=x=>{a=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),l&&(l=!1,d(x))},f=()=>{a=!0,window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",h,r)},g=x=>{if(x.pointerType!=="touch"){if(a){l=!0;return}d(x)}},y=x=>{if(!UU(x))return;l=!1;const p=e(o,x);typeof p=="function"&&(c=p,o.addEventListener("pointerleave",g,r))};o.addEventListener("pointerenter",y,r),o.addEventListener("pointerdown",f,r)}),s}const y3=(t,e)=>e?t===e?!0:y3(t,e.parentElement):!1,Xv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jU(t){return HU.has(t.tagName)||t.isContentEditable===!0}const GU=new Set(["INPUT","SELECT","TEXTAREA"]);function WU(t){return GU.has(t.tagName)||t.isContentEditable===!0}const df=new WeakSet;function y_(t){return e=>{e.key==="Enter"&&t(e)}}function eg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $U=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=y_(()=>{if(df.has(n))return;eg(n,"down");const r=y_(()=>{eg(n,"up")}),s=()=>eg(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function x_(t){return Xv(t)&&!m3()}const v_=new WeakSet;function qU(t,e,n={}){const[i,r,s]=g3(t,n),o=a=>{const l=a.currentTarget;if(!x_(a)||v_.has(a))return;df.add(l),n.stopPropagation&&v_.add(a);const c=e(l,a),u=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),df.has(l)&&df.delete(l),x_(f)&&typeof c=="function"&&c(f,{success:g})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||y3(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",h,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),Kf(a)&&(a.addEventListener("focus",c=>$U(c,r)),!jU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Yv(t){return wA(t)&&"ownerSVGElement"in t}const hf=new WeakMap;let cs;const x3=(t,e,n)=>(i,r)=>r&&r[0]?r[0][t+"Size"]:Yv(i)&&"getBBox"in i?i.getBBox()[e]:i[n],XU=x3("inline","width","offsetWidth"),YU=x3("block","height","offsetHeight");function ZU({target:t,borderBoxSize:e}){var n;(n=hf.get(t))==null||n.forEach(i=>{i(t,{get width(){return XU(t,e)},get height(){return YU(t,e)}})})}function JU(t){t.forEach(ZU)}function KU(){typeof ResizeObserver>"u"||(cs=new ResizeObserver(JU))}function QU(t,e){cs||KU();const n=f3(t);return n.forEach(i=>{let r=hf.get(i);r||(r=new Set,hf.set(i,r)),r.add(e),cs==null||cs.observe(i)}),()=>{n.forEach(i=>{const r=hf.get(i);r==null||r.delete(e),r!=null&&r.size||cs==null||cs.unobserve(i)})}}const ff=new Set;let Za;function eV(){Za=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};ff.forEach(e=>e(t))},window.addEventListener("resize",Za)}function tV(t){return ff.add(t),Za||eV(),()=>{ff.delete(t),!ff.size&&typeof Za=="function"&&(window.removeEventListener("resize",Za),Za=void 0)}}function Ay(t,e){return typeof t=="function"?tV(t):QU(t,e)}function v3(t,e){let n;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return Je.preUpdate(i,!0),()=>pi(i)}function nV(t){return Yv(t)&&t.tagName==="svg"}function iV(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],r=t[1+n],s=t[2+n],o=t[3+n],a=zv(r,s,o);return e?a(i):a}function rV(t,e,n={}){const i=t.get();let r=null,s=i,o;const a=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},c=()=>{l();const u=b_(t.get()),d=b_(s);u!==d&&(r=new zp({keyframes:[u,d],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o}))};if(t.attach((u,d)=>{s=u,o=h=>d(w_(h,a)),Je.postRender(()=>{var h;c(),(h=t.events.animationStart)==null||h.notify(),r==null||r.then(()=>{var f;(f=t.events.animationComplete)==null||f.notify()})})},l),Qt(e)){const u=e.on("change",h=>t.set(w_(h,a))),d=t.on("destroy",u);return()=>{u(),d()}}return l}function w_(t,e){return e?t+e:t}function b_(t){return typeof t=="number"?t:parseFloat(t)}const sV=[...u3,Ft,zi],oV=t=>sV.find(c3(t)),__=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:__(),y:__()}),M_=()=>({min:0,max:0}),Vt=()=>({x:M_(),y:M_()}),aV=new WeakMap;function Bp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Du(t){return typeof t=="string"||Array.isArray(t)}const Zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jv=["initial",...Zv];function Up(t){return Bp(t.animate)||Jv.some(e=>Du(t[e]))}function w3(t){return!!(Up(t)||t.variants)}function lV(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Qt(r))t.addValue(i,r);else if(Qt(s))t.addValue(i,Di(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Di(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Py={current:null},b3={current:!1},cV=typeof window<"u";function uV(){if(b3.current=!0,!!cV)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Py.current=t.matches;t.addEventListener("change",e),e()}else Py.current=!1}const S_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Qf={};function _3(t){Qf=t}function dV(){return Qf}class hV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,skipAnimations:s,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Tn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Je.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Up(n),this.isVariantNode=w3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&Qt(g)&&g.set(c[f])}}mount(e){var n,i;if(this.hasBeenMounted)for(const r in this.initialValues)(n=this.values.get(r))==null||n.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=e,aV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(b3.current||uV(),this.shouldReduceMotion=Py.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&zU.has(e)&&this.current instanceof HTMLElement){const{factory:o,keyframes:a,times:l,ease:c,duration:u}=n.accelerate,d=new e3({element:this.current,name:e,keyframes:a,times:l,ease:c,duration:Oi(u)}),h=o(d);this.valueSubscriptions.set(e,()=>{h(),d.cancel()});return}const i=sc.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Je.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qf){const n=Qf[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<S_.length;i++){const r=S_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=lV(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Di(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vA(i)||bA(i))?i=parseFloat(i):!oV(i)&&zi.test(n)&&(i=h3(e,n)),this.setBaseTarget(e,Qt(i)?i.get():i)),Qt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Gv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Qt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){qv.render(this.render)}}class M3 extends hV{constructor(){super(...arguments),this.KeyframeResolver=OU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Qs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function S3({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function fV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function tg(t){return t===void 0||t===1}function Ry({scale:t,scaleX:e,scaleY:n}){return!tg(t)||!tg(e)||!tg(n)}function vo(t){return Ry(t)||E3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function E3(t){return E_(t.x)||E_(t.y)}function E_(t){return t&&t!=="0%"}function ep(t,e,n){const i=t-n,r=e*i;return n+r}function T_(t,e,n,i,r){return r!==void 0&&(t=ep(t,r,i)),ep(t,n,i)+e}function Ly(t,e=0,n=1,i,r){t.min=T_(t.min,e,n,i,r),t.max=T_(t.max,e,n,i,r)}function T3(t,{x:e,y:n}){Ly(t.x,e.translate,e.scale,e.originPoint),Ly(t.y,n.translate,n.scale,n.originPoint)}const C_=.999999999999,A_=1.0000000000001;function mV(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,T3(t,o)),i&&vo(s.latestValues)&&Qa(t,s.latestValues))}e.x<A_&&e.x>C_&&(e.x=1),e.y<A_&&e.y>C_&&(e.y=1)}function Ka(t,e){t.min=t.min+e,t.max=t.max+e}function P_(t,e,n,i,r=.5){const s=vt(t.min,t.max,r);Ly(t,e,n,s,i)}function Qa(t,e){P_(t.x,e.x,e.scaleX,e.scale,e.originX),P_(t.y,e.y,e.scaleY,e.scale,e.originY)}function C3(t,e){return S3(pV(t.getBoundingClientRect(),e))}function gV(t,e,n){const i=C3(t,n),{scroll:r}=e;return r&&(Ka(i.x,r.offset.x),Ka(i.y,r.offset.y)),i}const yV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xV=rc.length;function vV(t,e,n){let i="",r=!0;for(let s=0;s<xV;s++){const o=rc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=p3(a,$v[o]);if(!l){r=!1;const u=yV[o]||o;i+=`${u}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Kv(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(sc.has(l)){o=!0;continue}else if(kA(l)){r[l]=c;continue}else{const u=p3(c,$v[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||n?i.transform=vV(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}function A3(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function R_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ec={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=R_(t,e.target.x),i=R_(t,e.target.y);return`${n}% ${i}%`}},wV={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=zi.parse(t);if(r.length>5)return i;const s=zi.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=vt(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}},Ny={borderRadius:{...Ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ec,borderTopRightRadius:Ec,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec,boxShadow:wV};function P3(t,{layout:e,layoutId:n}){return sc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ny[t]||t==="opacity")}function Qv(t,e,n){var o;const i=t.style,r=e==null?void 0:e.style,s={};if(!i)return s;for(const a in i)(Qt(i[a])||r&&Qt(r[a])||P3(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function bV(t){return window.getComputedStyle(t)}class _V extends M3{constructor(){super(...arguments),this.type="html",this.renderInstance=A3}readValueFromInstance(e,n){var i;if(sc.has(n))return(i=this.projection)!=null&&i.isProjecting?yy(n):U5(e,n);{const r=bV(e),s=(kA(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C3(e,n)}build(e,n,i){Kv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Qv(e,n,i)}}const MV={offset:"stroke-dashoffset",array:"stroke-dasharray"},SV={offset:"strokeDashoffset",array:"strokeDasharray"};function EV(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?MV:SV;t[s.offset]=`${-i}`,t[s.array]=`${e} ${n}`}const TV=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function R3(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Kv(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const f of TV)d[f]!==void 0&&(h[f]=d[f],delete d[f]);e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),r!==void 0&&EV(d,r,s,o,!1)}const L3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),N3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CV(t,e,n,i){A3(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(L3.has(r)?r:Wv(r),e.attrs[r])}function I3(t,e,n){const i=Qv(t,e,n);for(const r in t)if(Qt(t[r])||Qt(e[r])){const s=rc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}class AV extends M3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sc.has(n)){const i=d3(n);return i&&i.default||0}return n=L3.has(n)?n:Wv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return I3(e,n,i)}build(e,n,i){R3(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){CV(e,n,i,r)}mount(e){this.isSVGTag=N3(e.tagName),super.mount(e)}}const PV=Jv.length;function D3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?D3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PV;n++){const i=Jv[n],r=t.props[i];(Du(r)||r===!1)&&(e[i]=r)}return e}function k3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const RV=[...Zv].reverse(),LV=Zv.length;function NV(t){return e=>Promise.all(e.map(({animation:n,options:i})=>TU(t,n,i)))}function IV(t){let e=NV(t),n=L_(),i=!0;const r=l=>(c,u)=>{var h;const d=hl(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:g,...y}=d;c={...c,...y,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=D3(t.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let x=0;x<LV;x++){const p=RV[x],m=n[p],v=c[p]!==void 0?c[p]:u[p],w=Du(v),_=p===l?m.isActive:null;_===!1&&(g=x);let S=v===u[p]&&v!==c[p]&&w;if(S&&i&&t.manuallyAnimateOnMount&&(S=!1),m.protectedKeys={...f},!m.isActive&&_===null||!v&&!m.prevProp||Bp(v)||typeof v=="boolean")continue;if(p==="exit"&&m.isActive&&_!==!0){m.prevResolvedValues&&(f={...f,...m.prevResolvedValues});continue}const M=DV(m.prevProp,v);let T=M||p===l&&m.isActive&&!S&&w||x>g&&w,P=!1;const C=Array.isArray(v)?v:[v];let A=C.reduce(r(p),{});_===!1&&(A={});const{prevResolvedValues:O={}}=m,F={...O,...A},N=z=>{T=!0,h.has(z)&&(P=!0,h.delete(z)),m.needsAnimating[z]=!0;const k=t.getValue(z);k&&(k.liveStyle=!1)};for(const z in F){const k=A[z],U=O[z];if(f.hasOwnProperty(z))continue;let $=!1;My(k)&&My(U)?$=!k3(k,U):$=k!==U,$?k!=null?N(z):h.add(z):k!==void 0&&h.has(z)?N(z):m.protectedKeys[z]=!0}m.prevProp=v,m.prevResolvedValues=A,m.isActive&&(f={...f,...A}),i&&t.blockInitialAnimation&&(T=!1);const H=S&&M;T&&(!H||P)&&d.push(...C.map(z=>{const k={type:p};if(typeof z=="string"&&i&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,$=hl(U,z);if(U.enteringChildren&&$){const{delayChildren:ee}=$.transition||{};k.delay=n3(U.enteringChildren,t,ee)}}return{animation:z,options:k}}))}if(h.size){const x={};if(typeof c.initial!="boolean"){const p=hl(t,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(x.transition=p.transition)}h.forEach(p=>{const m=t.getBaseTarget(p),v=t.getValue(p);v&&(v.liveStyle=!0),x[p]=m??null}),d.push({animation:x})}let y=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=L_()}}}function DV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!k3(e,t):!1}function lo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L_(){return{animate:lo(!0),whileInView:lo(),whileHover:lo(),whileTap:lo(),whileDrag:lo(),whileFocus:lo(),exit:lo()}}function N_(t,e){t.min=e.min,t.max=e.max}function _i(t,e){N_(t.x,e.x),N_(t.y,e.y)}function I_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const F3=1e-4,kV=1-F3,FV=1+F3,O3=.01,OV=0-O3,zV=0+O3;function Cn(t){return t.max-t.min}function BV(t,e,n){return Math.abs(t-e)<=n}function D_(t,e,n,i=.5){t.origin=i,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Cn(n)/Cn(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kV&&t.scale<=FV||isNaN(t.scale))&&(t.scale=1),(t.translate>=OV&&t.translate<=zV||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,i){D_(t.x,e.x,n.x,i?i.originX:void 0),D_(t.y,e.y,n.y,i?i.originY:void 0)}function k_(t,e,n){t.min=n.min+e.min,t.max=t.min+Cn(e)}function UV(t,e,n){k_(t.x,e.x,n.x),k_(t.y,e.y,n.y)}function F_(t,e,n){t.min=e.min-n.min,t.max=t.min+Cn(e)}function tp(t,e,n){F_(t.x,e.x,n.x),F_(t.y,e.y,n.y)}function O_(t,e,n,i,r){return t-=e,t=ep(t,1/n,i),r!==void 0&&(t=ep(t,1/r,i)),t}function VV(t,e=0,n=1,i=.5,r,s=t,o=t){if(cr.test(e)&&(e=parseFloat(e),e=vt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=vt(s.min,s.max,i);t===s&&(a-=e),t.min=O_(t.min,e,n,a,r),t.max=O_(t.max,e,n,a,r)}function z_(t,e,[n,i,r],s,o){VV(t,e[n],e[i],e[r],e.scale,s,o)}const HV=["x","scaleX","originX"],jV=["y","scaleY","originY"];function B_(t,e,n,i){z_(t.x,e,HV,n?n.x:void 0,i?i.x:void 0),z_(t.y,e,jV,n?n.y:void 0,i?i.y:void 0)}function U_(t){return t.translate===0&&t.scale===1}function z3(t){return U_(t.x)&&U_(t.y)}function V_(t,e){return t.min===e.min&&t.max===e.max}function GV(t,e){return V_(t.x,e.x)&&V_(t.y,e.y)}function H_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function B3(t,e){return H_(t.x,e.x)&&H_(t.y,e.y)}function j_(t){return Cn(t.x)/Cn(t.y)}function G_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ji(t){return[t("x"),t("y")]}function WV(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:g}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),h&&(i+=`rotateY(${h}deg) `),f&&(i+=`skewX(${f}deg) `),g&&(i+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const U3=["TopLeft","TopRight","BottomLeft","BottomRight"],$V=U3.length,W_=t=>typeof t=="string"?parseFloat(t):t,$_=t=>typeof t=="number"||be.test(t);function qV(t,e,n,i,r,s){r?(t.opacity=vt(0,n.opacity??1,XV(i)),t.opacityExit=vt(e.opacity??1,0,YV(i))):s&&(t.opacity=vt(e.opacity??1,n.opacity??1,i));for(let o=0;o<$V;o++){const a=`border${U3[o]}Radius`;let l=q_(e,a),c=q_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$_(l)===$_(c)?(t[a]=Math.max(vt(W_(l),W_(c),i),0),(cr.test(c)||cr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,i))}function q_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XV=V3(0,.5,PA),YV=V3(.5,.95,Vn);function V3(t,e,n){return i=>i<t?0:i>e?1:n(Il(t,e,i))}function ZV(t,e,n){const i=Qt(t)?t:Di(t);return i.start(jv("",i,e,n)),i.animation}function ku(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const JV=(t,e)=>t.depth-e.depth;class KV{constructor(){this.children=[],this.isDirty=!1}add(e){Av(this.children,e),this.isDirty=!0}remove(e){Xf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JV),this.isDirty=!1,this.children.forEach(e)}}function QV(t,e){const n=Tn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(pi(i),t(s-e))};return Je.setup(i,!0),()=>pi(i)}function pf(t){return Qt(t)?t.get():t}class e6{constructor(){this.members=[]}add(e){Av(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const r=i.instance;r&&r.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Xf(this.members,i)}e.scheduleRender()}remove(e){if(Xf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r],o=s.instance;if(s.isPresent!==!1&&(!o||o.isConnected!==!1)){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const r=i.options.layoutDependency,s=e.options.layoutDependency;if(!(r!==void 0&&s!==void 0&&r===s)){const l=i.instance;l&&l.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ng=["","X","Y","Z"],t6=1e3;let n6=0;function ig(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function H3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=a3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Je,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&H3(i)}function j3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=n6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s6),this.nodes.forEach(c6),this.nodes.forEach(u6),this.nodes.forEach(o6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new KV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Yv(o)&&!nV(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=QV(h,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(Z_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||m6,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),p=!this.targetLayout||!B3(this.targetLayout,f),m=!d&&h;if(this.options.layoutRoot||this.resumeFrom||m||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...Hv(g,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,m)}else d||Z_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l6),this.nodes.forEach(i6),this.nodes.forEach(r6)):this.nodes.forEach(Y_),this.clearAllSnapshots();const a=Tn.now();Zt.delta=Gi(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,Xm.update.process(Zt),Xm.preRender.process(Zt),Xm.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a6),this.sharedNodes.forEach(h6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!z3(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||vo(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),g6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Vt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(y6))){const{scroll:u}=this.root;u&&(Ka(a.x,u.offset.x),Ka(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Vt();if(_i(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&_i(a,o),Ka(a.x,d.offset.x),Ka(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Vt();_i(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vo(u.latestValues)&&Qa(l,u.latestValues)}return vo(this.latestValues)&&Qa(l,this.latestValues),l}removeTransform(o){const a=Vt();_i(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vo(c.latestValues))continue;Ry(c.latestValues)&&c.updateSnapshot();const u=Vt(),d=c.measurePageBox();_i(u,d),B_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return vo(this.latestValues)&&B_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Zt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),T3(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||E3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),tp(this.relativeTargetOrigin,a,l),_i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;_i(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;mV(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Vt());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I_(this.prevProjectionDelta.x,this.projectionDelta.x),I_(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!G_(this.projectionDelta.x,this.prevProjectionDelta.x)||!G_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Vt(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=f!==g,x=this.getStack(),p=!x||x.members.length<=1,m=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(p6));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const _=w/1e3;J_(d.x,o.x,_),J_(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f6(this.relativeTarget,this.relativeTargetOrigin,h,_),v&&GV(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Vt()),_i(v,this.relativeTarget)),y&&(this.animationValues=u,qV(u,c,this.latestValues,_,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Di(0)),this.motionValue.jump(0,!1),this.currentAnimation=ZV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&G3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Vt();const d=Cn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Cn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}_i(a,l),Qa(a,u),nu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ig("z",o,c,this.animationValues);for(let u=0;u<ng.length;u++)ig(`rotate${ng[u]}`,o,c,this.animationValues),ig(`skew${ng[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=pf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=pf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=WV(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Ny){if(u[g]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:p}=Ny[g],m=d==="none"?u[g]:y(u[g],c);if(x){const v=x.length;for(let w=0;w<v;w++)o[x[w]]=m}else p?this.options.visualElement.renderState.vars[g]=m:o[g]=m}this.options.layoutId&&(o.pointerEvents=c===this?pf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(X_),this.root.sharedNodes.clear()}}}function i6(t){t.updateLayout()}function r6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ji(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Cn(h);h.min=i[d].min,h.max=h.min+f}):G3(s,e.layoutBox,i)&&Ji(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Cn(i[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Ja();nu(a,i,e.layoutBox);const l=Ja();o?nu(l,t.applyTransform(r,!0),e.measuredBox):nu(l,i,e.layoutBox);const c=!z3(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Vt();tp(g,e.layoutBox,h.layoutBox);const y=Vt();tp(y,i,f.layoutBox),B3(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function s6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function a6(t){t.clearSnapshot()}function X_(t){t.clearMeasurements()}function Y_(t){t.isLayoutDirty=!1}function l6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Z_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c6(t){t.resolveTargetDelta()}function u6(t){t.calcProjection()}function d6(t){t.resetSkewAndRotation()}function h6(t){t.removeLeadSnapshot()}function J_(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function K_(t,e,n,i){t.min=vt(e.min,n.min,i),t.max=vt(e.max,n.max,i)}function f6(t,e,n,i){K_(t.x,e.x,n.x,i),K_(t.y,e.y,n.y,i)}function p6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m6={duration:.45,ease:[.4,0,.1,1]},Q_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eM=Q_("applewebkit/")&&!Q_("chrome/")?Math.round:Vn;function tM(t){t.min=eM(t.min),t.max=eM(t.max)}function g6(t){tM(t.x),tM(t.y)}function G3(t,e,n){return t==="position"||t==="preserve-aspect"&&!BV(j_(e),j_(n),.2)}function y6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const x6=j3({attachResizeListener:(t,e)=>ku(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),rg={current:void 0},W3=j3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rg.current){const t=new x6({});t.mount(window),t.setOptions({layoutScroll:!0}),rg.current=t}return rg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fd=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function v6(...t){return e=>{let n=!1;const i=t.map(r=>{const s=nM(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():nM(t[r],null)}}}}function w6(...t){return E.useCallback(v6(...t),t)}class b6 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,r=Kf(i)&&i.offsetWidth||0,s=Kf(i)&&i.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _6({children:t,isPresent:e,anchorX:n,anchorY:i,root:r,pop:s}){var h;const o=E.useId(),a=E.useRef(null),l=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=E.useContext(fd),u=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),d=w6(a,u);return E.useInsertionEffect(()=>{const{width:f,height:g,top:y,left:x,right:p,bottom:m}=l.current;if(e||s===!1||!a.current||!f||!g)return;const v=n==="left"?`left: ${x}`:`right: ${p}`,w=i==="bottom"?`bottom: ${m}`:`top: ${y}`;a.current.dataset.motionPopId=o;const _=document.createElement("style");c&&(_.nonce=c);const S=r??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${v}px !important;
            ${w}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[e]),b.jsx(b6,{isPresent:e,childRef:a,sizeRef:l,pop:s,children:s===!1?t:E.cloneElement(t,{ref:d})})}const M6=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,anchorY:l,root:c})=>{const u=js(S6),d=E.useId();let h=!0,f=E.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:r,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;i&&i()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,i]);return s&&h&&(f={...f}),E.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),t=b.jsx(_6,{pop:o==="popLayout",isPresent:n,anchorX:a,anchorY:l,root:c,children:t}),b.jsx(Op.Provider,{value:f,children:t})};function S6(){return new Map}function $3(t=!0){const e=E.useContext(Op);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=E.useId();E.useEffect(()=>{if(t)return r(s)},[t]);const o=E.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const th=t=>t.key||"";function iM(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const E6=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[u,d]=$3(o),h=E.useMemo(()=>iM(t),[t]),f=o&&!u?[]:h.map(th),g=E.useRef(!0),y=E.useRef(h),x=js(()=>new Map),p=E.useRef(new Set),[m,v]=E.useState(h),[w,_]=E.useState(h);Fp(()=>{g.current=!1,y.current=h;for(let T=0;T<w.length;T++){const P=th(w[T]);f.includes(P)?(x.delete(P),p.current.delete(P)):x.get(P)!==!0&&x.set(P,!1)}},[w,f.length,f.join("-")]);const S=[];if(h!==m){let T=[...h];for(let P=0;P<w.length;P++){const C=w[P],A=th(C);f.includes(A)||(T.splice(P,0,C),S.push(C))}return s==="wait"&&S.length&&(T=S),_(iM(T)),v(h),null}const{forceRender:M}=E.useContext(Cv);return b.jsx(b.Fragment,{children:w.map(T=>{const P=th(T),C=o&&!u?!1:h===w||f.includes(P),A=()=>{if(p.current.has(P))return;if(p.current.add(P),x.has(P))x.set(P,!0);else return;let O=!0;x.forEach(F=>{F||(O=!1)}),O&&(M==null||M(),_(y.current),o&&(d==null||d()),i&&i())};return b.jsx(M6,{isPresent:C,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:c,onExitComplete:C?void 0:A,anchorX:a,anchorY:l,children:T},P)})})},q3=E.createContext({strict:!1}),rM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sM=!1;function T6(){if(sM)return;const t={};for(const e in rM)t[e]={isEnabled:n=>rM[e].some(i=>!!n[i])};_3(t),sM=!0}function X3(){return T6(),dV()}function C6(t){const e=X3();for(const n in t)e[n]={...e[n],...t[n]};_3(e)}const A6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function np(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A6.has(t)}let Y3=t=>!np(t);function P6(t){typeof t=="function"&&(Y3=e=>e.startsWith("on")?!np(e):t(e))}try{P6(require("@emotion/is-prop-valid").default)}catch{}function R6(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Y3(r)||n===!0&&np(r)||!e&&!np(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const Vp=E.createContext({});function L6(t,e){if(Up(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Du(n)?n:void 0,animate:Du(i)?i:void 0}}return t.inherit!==!1?e:{}}function N6(t){const{initial:e,animate:n}=L6(t,E.useContext(Vp));return E.useMemo(()=>({initial:e,animate:n}),[oM(e),oM(n)])}function oM(t){return Array.isArray(t)?t.join(" "):t}const ew=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z3(t,e,n){for(const i in e)!Qt(e[i])&&!P3(i,n)&&(t[i]=e[i])}function I6({transformTemplate:t},e){return E.useMemo(()=>{const n=ew();return Kv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function D6(t,e){const n=t.style||{},i={};return Z3(i,n,t),Object.assign(i,I6(t,e)),i}function k6(t,e){const n={},i=D6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const J3=()=>({...ew(),attrs:{}});function F6(t,e,n,i){const r=E.useMemo(()=>{const s=J3();return R3(s,e,N3(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Z3(s,t.style,t),r.style={...s,...r.style}}return r}const O6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tw(t){return typeof t!="string"||t.includes("-")?!1:!!(O6.indexOf(t)>-1||/[A-Z]/u.test(t))}function z6(t,e,n,{latestValues:i},r,s=!1,o){const l=(o??tw(t)?F6:k6)(e,i,r,t),c=R6(e,typeof t=="string",s),u=t!==E.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=E.useMemo(()=>Qt(d)?d.get():d,[d]);return E.createElement(t,{...u,children:h})}function B6({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:U6(n,i,r,t),renderState:e()}}function U6(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=pf(s[h]);let{initial:o,animate:a}=t;const l=Up(t),c=w3(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Bp(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const g=Gv(t,h[f]);if(g){const{transitionEnd:y,transition:x,...p}=g;for(const m in p){let v=p[m];if(Array.isArray(v)){const w=u?v.length-1:0;v=v[w]}v!==null&&(r[m]=v)}for(const m in y)r[m]=y[m]}}}return r}const K3=t=>(e,n)=>{const i=E.useContext(Vp),r=E.useContext(Op),s=()=>B6(t,e,i,r);return n?s():js(s)},V6=K3({scrapeMotionValuesFromProps:Qv,createRenderState:ew}),H6=K3({scrapeMotionValuesFromProps:I3,createRenderState:J3}),j6=Symbol.for("motionComponentSymbol");function G6(t,e,n){const i=E.useRef(n);E.useInsertionEffect(()=>{i.current=n});const r=E.useRef(null);return E.useCallback(s=>{var a;s&&((a=t.onMount)==null||a.call(t,s)),e&&(s?e.mount(s):e.unmount());const o=i.current;if(typeof o=="function")if(s){const l=o(s);typeof l=="function"&&(r.current=l)}else r.current?(r.current(),r.current=null):o(s);else o&&(o.current=s)},[e])}const Q3=E.createContext({});function Fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W6(t,e,n,i,r,s){var v,w;const{visualElement:o}=E.useContext(Vp),a=E.useContext(q3),l=E.useContext(Op),c=E.useContext(fd),u=c.reducedMotion,d=c.skipAnimations,h=E.useRef(null),f=E.useRef(!1);i=i||a.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:s}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const g=h.current,y=E.useContext(Q3);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&$6(h.current,n,r,y);const x=E.useRef(!1);E.useInsertionEffect(()=>{g&&x.current&&g.update(n,l)});const p=n[o3],m=E.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return Fp(()=>{f.current=!0,g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),m.current&&g.animationState&&g.animationState.animateChanges())}),E.useEffect(()=>{g&&(!m.current&&g.animationState&&g.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,p)}),m.current=!1),g.enteringChildren=void 0)}),g}function $6(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eP(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Fa(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}function eP(t){if(t)return t.options.allowProjection!==!1?t.projection:eP(t.parent)}function sg(t,{forwardMotionProps:e=!1,type:n}={},i,r){i&&C6(i);const s=n?n==="svg":tw(t),o=s?H6:V6;function a(c,u){let d;const h={...E.useContext(fd),...c,layoutId:q6(c)},{isStatic:f}=h,g=N6(c),y=o(c,f);if(!f&&xA){X6();const x=Y6(h);d=x.MeasureLayout,g.visualElement=W6(t,y,h,r,x.ProjectionNode,s)}return b.jsxs(Vp.Provider,{value:g,children:[d&&g.visualElement?b.jsx(d,{visualElement:g.visualElement,...h}):null,z6(t,c,G6(y,g.visualElement,u),y,f,e,s)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(a);return l[j6]=t,l}function q6({layoutId:t}){const e=E.useContext(Cv).id;return e&&t!==void 0?e+"-"+t:t}function X6(t,e){E.useContext(q3).strict}function Y6(t){const e=X3(),{drag:n,layout:i}=e;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Z6(t,e){if(typeof Proxy>"u")return sg;const n=new Map,i=(s,o)=>sg(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,sg(o,void 0,t,e)),n.get(o))})}const J6=(t,e)=>e.isSVG??tw(t)?new AV(e):new _V(e,{allowProjection:t!==E.Fragment});class K6 extends Qs{constructor(e){super(e),e.animationState||(e.animationState=IV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Q6=0;class eH extends Qs{constructor(){super(...arguments),this.id=Q6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tH={animation:{Feature:K6},exit:{Feature:eH}};function pd(t){return{point:{x:t.pageX,y:t.pageY}}}const nH=t=>e=>Xv(e)&&t(e,pd(e));function iu(t,e,n,i){return ku(t,e,nH(n),i)}const tP=({current:t})=>t?t.ownerDocument.defaultView:null,aM=(t,e)=>Math.abs(t-e);function iH(t,e){const n=aM(t.x,e.x),i=aM(t.y,e.y);return Math.sqrt(n**2+i**2)}const lM=new Set(["auto","scroll"]);class nP{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ag(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=iH(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:x}=f,{timestamp:p}=Zt;this.history.push({...x,timestamp:p});const{onStart:m,onMove:v}=this.handlers;g||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=og(g,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:p}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ag(f.type==="pointercancel"?this.lastMoveEventInfo:og(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,m),x&&x(f,m)},!Xv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const l=pd(e),c=og(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Zt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,ag(c,this.history)),this.removeListeners=ud(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(lM.has(i.overflowX)||lM.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:r.x-n.x,y:r.y-n.y};s.x===0&&s.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,r),Je.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pi(this.updatePoint)}}function og(t,e){return e?{point:e(t.point)}:t}function cM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ag({point:t},e){return{point:t,delta:cM(t,iP(e)),offset:cM(t,rH(e)),velocity:sH(e,.1)}}function rH(t){return t[0]}function iP(t){return t[t.length-1]}function sH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=iP(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Oi(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&r.timestamp-i.timestamp>Oi(e)*2&&(i=t[1]);const s=ui(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oH(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?vt(n,t,i.max):Math.min(t,n)),t}function uM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aH(t,{top:e,left:n,bottom:i,right:r}){return{x:uM(t.x,n,r),y:uM(t.y,e,i)}}function dM(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function lH(t,e){return{x:dM(t.x,e.x),y:dM(t.y,e.y)}}function cH(t,e){let n=.5;const i=Cn(t),r=Cn(e);return r>i?n=Il(e.min,e.max-i,t.min):i>r&&(n=Il(t.min,t.max-r,e.min)),Gi(0,1,n)}function uH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iy=.35;function dH(t=Iy){return t===!1?t=0:t===!0&&(t=Iy),{x:hM(t,"left","right"),y:hM(t,"top","bottom")}}function hM(t,e,n){return{min:fM(t,e),max:fM(t,n)}}function fM(t,e){return typeof t=="number"?t:t[e]||0}const hH=new WeakMap;class fH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{n&&this.snapToCursor(pd(d).point),this.stopAnimation()},o=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BU(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(p=>{let m=this.getAxisMotionValue(p).get()||0;if(cr.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[p];w&&(m=Cn(w)*(parseFloat(m)/100))}}this.originPoint[p]=m}),y&&Je.update(()=>y(d,h),!1,!0),Sy(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=mH(p),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),x&&Je.update(()=>x(d,h),!1,!0)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new nP(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:tP(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Je.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!nh(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=oH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&Fa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=aH(i.layoutBox,e):this.constraints=!1,this.elastic=dH(n),r!==this.constraints&&!Fa(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ji(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fa(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=gV(i,r.root,this.visualElement.getTransformPagePoint());let o=lH(r.layout.layoutBox,s);if(n){const a=n(fV(o));this.hasMutatedConstraints=!!a,a&&(o=S3(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ji(u=>{if(!nh(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,g={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Sy(this.visualElement,e),i.start(jv(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ji(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ji(n=>{const{drag:i}=this.getProps();if(!nh(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n],l=s.get()||0;s.set(e[n]-vt(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Fa(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ji(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=cH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ji(o=>{if(!nh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(vt(l,c,r[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;hH.set(this.visualElement,this);const e=this.visualElement.current,n=iu(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps(),h=c.target,f=h!==e&&WU(h);u&&d&&!f&&this.start(c)});let i;const r=()=>{const{dragConstraints:c}=this.getProps();Fa(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),i||(i=pH(e,c.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Je.read(r);const a=ku(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ji(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Iy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function pM(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function pH(t,e,n){const i=Ay(t,pM(n)),r=Ay(e,pM(n));return()=>{i(),r()}}function nh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gH extends Qs{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new fH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const lg=t=>(e,n)=>{t&&Je.update(()=>t(e,n),!1,!0)};class yH extends Qs{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new nP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:lg(e),onStart:lg(n),onMove:lg(i),onEnd:(s,o)=>{delete this.session,r&&Je.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let cg=!1;class xH extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),cg&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),cg=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;cg=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rP(t){const[e,n]=$3(),i=E.useContext(Cv);return b.jsx(xH,{...t,layoutGroup:i,switchLayoutGroup:E.useContext(Q3),isPresent:e,safeToRemove:n})}const vH={pan:{Feature:yH},drag:{Feature:gH,ProjectionNode:W3,MeasureLayout:rP}};function mM(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Je.postRender(()=>s(e,pd(e)))}class wH extends Qs{mount(){const{current:e}=this.node;e&&(this.unmount=VU(e,(n,i)=>(mM(this.node,i,"Start"),r=>mM(this.node,r,"End"))))}unmount(){}}class bH extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ud(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gM(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Je.postRender(()=>s(e,pd(e)))}class _H extends Qs{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=qU(e,(r,s)=>(gM(this.node,s,"Start"),(o,{success:a})=>gM(this.node,o,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(i==null?void 0:i.tap)===!1})}unmount(){}}const Dy=new WeakMap,ug=new WeakMap,MH=t=>{const e=Dy.get(t.target);e&&e(t)},SH=t=>{t.forEach(MH)};function EH({root:t,...e}){const n=t||document;ug.has(n)||ug.set(n,{});const i=ug.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(SH,{root:t,...e})),i[r]}function TH(t,e,n){const i=EH(e);return Dy.set(t,n),i.observe(t),()=>{Dy.delete(t),i.unobserve(t)}}const CH={some:0,all:1};class AH extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:CH[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return TH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PH(e,n))&&this.startObserver()}unmount(){}}function PH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RH={inView:{Feature:AH},tap:{Feature:_H},focus:{Feature:bH},hover:{Feature:wH}},LH={layout:{ProjectionNode:W3,MeasureLayout:rP}},NH={...tH,...RH,...vH,...LH},$e=Z6(NH,J6),IH=50,yM=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),DH=()=>({time:0,x:yM(),y:yM()}),kH={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function xM(t,e,n,i){const r=n[e],{length:s,position:o}=kH[e],a=r.current,l=n.time;r.current=t[`scroll${o}`],r.scrollLength=t[`scroll${s}`]-t[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Il(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>IH?0:Rv(r.current-a,c)}function FH(t,e,n){xM(t,"x",e,n),xM(t,"y",e,n),e.time=n}function OH(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(Kf(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();n.x+=r.left-s.left,n.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();n.x+=r,n.y+=s;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return n}const ky={start:0,center:.5,end:1};function vM(t,e,n=0){let i=0;if(t in ky&&(t=ky[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const zH=[0,0];function BH(t,e,n,i){let r=Array.isArray(t)?t:zH,s=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,ky[t]?t:"0"]),s=vM(r[0],n,i),o=vM(r[1],e),s-o}const UH={All:[[0,0],[1,1]]},VH={x:0,y:0};function HH(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function jH(t,e,n){const{offset:i=UH.All}=n,{target:r=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=r!==t?OH(r,t):VH,l=r===t?{width:t.scrollWidth,height:t.scrollHeight}:HH(r),c={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const d=i.length;for(let h=0;h<d;h++){const f=BH(i[h],c[o],l[o],a[s]);!u&&f!==e[s].interpolatorOffsets[h]&&(u=!0),e[s].offset[h]=f}u&&(e[s].interpolate=zv(e[s].offset,WA(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Gi(0,1,e[s].interpolate(e[s].current))}function GH(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function WH(t,e,n,i={}){return{measure:r=>{GH(t,i.target,n),FH(t,n,r),(i.offset||i.target)&&jH(t,n,i)},notify:()=>e(n)}}const ga=new WeakMap,wM=new WeakMap,dg=new WeakMap,bM=new WeakMap,ih=new WeakMap,_M=t=>t===document.scrollingElement?window:t;function sP(t,{container:e=document.scrollingElement,trackContentSize:n=!1,...i}={}){if(!e)return Vn;let r=dg.get(e);r||(r=new Set,dg.set(e,r));const s=DH(),o=WH(e,t,s,i);if(r.add(o),!ga.has(e)){const l=()=>{for(const h of r)h.measure(Zt.timestamp);Je.preUpdate(c)},c=()=>{for(const h of r)h.notify()},u=()=>Je.read(l);ga.set(e,u);const d=_M(e);window.addEventListener("resize",u),e!==document.documentElement&&wM.set(e,Ay(e,u)),d.addEventListener("scroll",u),u()}if(n&&!ih.has(e)){const l=ga.get(e),c={width:e.scrollWidth,height:e.scrollHeight};bM.set(e,c);const u=()=>{const h=e.scrollWidth,f=e.scrollHeight;(c.width!==h||c.height!==f)&&(l(),c.width=h,c.height=f)},d=Je.read(u,!0);ih.set(e,d)}const a=ga.get(e);return Je.read(a,!1,!0),()=>{var d;pi(a);const l=dg.get(e);if(!l||(l.delete(o),l.size))return;const c=ga.get(e);ga.delete(e),c&&(_M(e).removeEventListener("scroll",c),(d=wM.get(e))==null||d(),window.removeEventListener("resize",c));const u=ih.get(e);u&&(pi(u),ih.delete(e)),bM.delete(e)}}function oP(t){return typeof window<"u"&&!t&&ZA()}const MM=new Map;function $H(t){const e={value:0},n=sP(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function aP({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const r=MM.get(e)??new Map;MM.set(e,r);const s=n.target??"self",o=r.get(s)??{},a=i+(n.offset??[]).join(",");return o[a]||(o[a]=oP(n.target)?new ScrollTimeline({source:e,axis:i}):$H({container:e,...n})),o[a]}function qH(t,e){const n=aP(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),v3(r=>{i.time=i.iterationDuration*r},n))})}function XH(t){return t.length===2}function YH(t,e){return XH(t)?sP(n=>{t(n[e.axis].progress,n)},e):v3(t,aP(e))}function lP(t,{axis:e="y",container:n=document.scrollingElement,...i}={}){if(!n)return Vn;const r={axis:e,container:n,...i};return typeof t=="function"?YH(t,r):qH(t,r)}const ZH=()=>({scrollX:Di(0),scrollY:Di(0),scrollXProgress:Di(0),scrollYProgress:Di(0)}),rh=t=>t?!t.current:!1;function SM(t,e,n){return{factory:i=>lP(i,{...e,axis:t,container:n}),times:[0,1],keyframes:[0,1],ease:i=>i,duration:1}}function nw({container:t,target:e,...n}={}){const i=js(ZH);if(!e&&oP()){const a=(t==null?void 0:t.current)||void 0;i.scrollXProgress.accelerate=SM("x",n,a),i.scrollYProgress.accelerate=SM("y",n,a)}const r=E.useRef(null),s=E.useRef(!1),o=E.useCallback(()=>(r.current=lP((a,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var a;(a=r.current)==null||a.call(r)}),[t,e,JSON.stringify(n.offset)]);return Fp(()=>{if(s.current=!1,rh(t)||rh(e)){s.current=!0;return}else return o()},[o]),E.useEffect(()=>{if(s.current)return Lu(!rh(t)),Lu(!rh(e)),o()},[o]),i}function ip(t){const e=js(()=>Di(t)),{isStatic:n}=E.useContext(fd);if(n){const[,i]=E.useState(t);E.useEffect(()=>e.on("change",i),[])}return e}function cP(t,e){const n=ip(e()),i=()=>n.set(e());return i(),Fp(()=>{const r=()=>Je.preRender(i,!1,!0),s=t.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),pi(i)}}),n}function JH(t){tu.current=[],t();const e=cP(tu.current,t);return tu.current=void 0,e}function Fn(t,e,n,i){if(typeof t=="function")return JH(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return KH(t,e,n,i);const o=typeof e=="function"?e:iV(e,n,i),a=Array.isArray(t)?EM(t,o):EM([t],([c])=>o(c)),l=Array.isArray(t)?void 0:t.accelerate;return l&&!l.isTransformed&&typeof e!="function"&&Array.isArray(n)&&(i==null?void 0:i.clamp)!==!1&&(a.accelerate={...l,times:e,keyframes:n,isTransformed:!0}),a}function EM(t,e){const n=js(()=>[]);return cP(t,()=>{n.length=0;const i=t.length;for(let r=0;r<i;r++)n[r]=t[r].get();return e(n)})}function KH(t,e,n,i){const r=js(()=>Object.keys(n)),s=js(()=>({}));for(const o of r)s[o]=Fn(t,e,n[o],i);return s}function QH(t,e={}){const{isStatic:n}=E.useContext(fd),i=()=>Qt(t)?t.get():t;if(n)return Fn(i);const r=ip(i());return E.useInsertionEffect(()=>rV(r,t,e),[r,JSON.stringify(e)]),r}function TM(t,e={}){return QH(t,{type:"spring",...e})}const ej=["Home","Verticals","Contact"],tj=()=>{const[t,e]=E.useState(!1);E.useRef(null);const n=$i(),[i,r]=E.useState(null),[s,o]=E.useState(null);E.useEffect(()=>{r(localStorage.getItem("token")),o(localStorage.getItem("role"))},[]),E.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const a=c=>{var d;const u={Home:"hero",Verticals:"verticals",Contact:"mentor-contact"};(d=document.getElementById(u[c]))==null||d.scrollIntoView({behavior:"smooth"}),e(!1)},l=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),n("/login"),window.location.reload()};return b.jsxs(b.Fragment,{children:[b.jsx($e.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-transparent font-sans",children:b.jsxs("div",{className:"w-full px-10 py-10 flex items-center justify-between",children:[b.jsx($e.button,{whileTap:{scale:.9},onClick:()=>e(!0),className:`text-white hover:text-blue-500 transition-colors ${t?"opacity-0 pointer-events-none":"opacity-100"}`,children:b.jsx(Qk,{size:32})}),b.jsxs("div",{className:"flex items-center gap-4",children:[!i&&b.jsx(b.Fragment,{children:b.jsx($e.div,{whileHover:{scale:1.05},children:b.jsx(Tv,{to:"/login",className:`hidden sm:block px-4 py-2 rounded-lg\r
                               border border-white/20 bg-white/10\r
                               backdrop-blur-md text-sm text-white font-medium`,children:"Admin Login"})})}),i&&b.jsx(b.Fragment,{children:b.jsx("button",{onClick:l,className:"hidden sm:block text-sm text-red-400 font-medium hover:text-red-300 transition-colors",children:"Logout"})})]})]})}),b.jsx(E6,{children:t&&b.jsxs(b.Fragment,{children:[b.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"fixed inset-0 z-[110] bg-black/40 backdrop-blur-sm"}),b.jsxs($e.div,{initial:{x:-20,y:-20,opacity:0,scale:.95},animate:{x:0,y:0,opacity:1,scale:1},exit:{x:-20,y:-20,opacity:0,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`fixed top-6 left-6 z-[120] w-[320px] bg-black border border-white/10 \r
                         rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] p-10 overflow-hidden`,children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-600/10 rounded-full blur-3xl -mr-16 -mt-16"}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"flex flex-col gap-10",children:[b.jsx("div",{className:"flex justify-start",children:b.jsx($e.button,{whileTap:{scale:.9},onClick:()=>e(!1),className:"text-white/60 hover:text-white transition-colors",children:b.jsx(lv,{size:32})})}),b.jsxs("div",{className:"flex flex-col gap-6",children:[ej.map((c,u)=>b.jsx($e.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.05*u},children:b.jsxs("button",{onClick:()=>a(c),className:`group relative text-3xl font-bold text-white hover:text-blue-500 \r
                                   transition-all duration-300 text-left uppercase tracking-tight`,children:[b.jsx("span",{className:"relative z-10",children:c}),b.jsx($e.div,{className:"absolute -bottom-1 left-0 h-1 bg-blue-500 w-0 group-hover:w-full transition-all duration-300"})]})},c)),i&&b.jsx(b.Fragment,{children:b.jsx($e.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.25},onClick:l,className:"text-lg font-bold text-red-500 hover:text-red-400 mt-4 transition-colors uppercase text-left",children:"Logout"})})]})]})})]})]})})]})},nj="modulepreload",ij=function(t){return"/"+t},CM={},rj=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=ij(l),l in CM)return;CM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":nj,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iw="134",sj={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},oj={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uP=0,Fy=1,dP=2,aj=3,lj=0,rw=1,hP=2,el=3,Zo=0,Lt=1,Jo=2,sw=1,cj=2,Ir=0,fl=1,Oy=2,zy=3,By=4,fP=5,bo=100,pP=101,mP=102,Uy=103,Vy=104,gP=200,yP=201,xP=202,vP=203,ow=204,aw=205,wP=206,bP=207,_P=208,MP=209,SP=210,EP=0,TP=1,CP=2,rp=3,AP=4,PP=5,RP=6,LP=7,md=0,NP=1,IP=2,Is=0,DP=1,kP=2,FP=3,OP=4,zP=5,Hp=300,oa=301,aa=302,Fu=303,Ou=304,oc=306,gd=307,zu=1e3,an=1001,Bu=1002,Bt=1003,sp=1004,uj=1004,op=1005,dj=1005,Wt=1006,lw=1007,hj=1007,la=1008,fj=1008,Vr=1009,BP=1010,UP=1011,Uu=1012,VP=1013,ru=1014,rr=1015,Bo=1016,HP=1017,jP=1018,GP=1019,pl=1020,WP=1021,Uo=1022,cn=1023,$P=1024,qP=1025,XP=cn,Vo=1026,Dl=1027,YP=1028,ZP=1029,JP=1030,KP=1031,QP=1032,eR=1033,Hy=33776,jy=33777,Gy=33778,Wy=33779,$y=35840,qy=35841,Xy=35842,Yy=35843,tR=36196,Zy=37492,Jy=37496,nR=37808,iR=37809,rR=37810,sR=37811,oR=37812,aR=37813,lR=37814,cR=37815,uR=37816,dR=37817,hR=37818,fR=37819,pR=37820,mR=37821,gR=36492,yR=37840,xR=37841,vR=37842,wR=37843,bR=37844,_R=37845,MR=37846,SR=37847,ER=37848,TR=37849,CR=37850,AR=37851,PR=37852,RR=37853,LR=2200,NR=2201,IR=2202,Vu=2300,Hu=2301,gf=2302,Co=2400,Ao=2401,ju=2402,jp=2500,cw=2501,DR=0,pj=1,mj=2,hn=3e3,eo=3001,Gp=3007,Wp=3002,kR=3003,uw=3004,dw=3005,hw=3006,FR=3200,OR=3201,ca=0,zR=1,gj=0,yf=7680,yj=7681,xj=7682,vj=7683,wj=34055,bj=34056,_j=5386,Mj=512,Sj=513,Ej=514,Tj=515,Cj=516,Aj=517,Pj=518,BR=519,kl=35044,Fl=35048,Rj=35040,Lj=35045,Nj=35049,Ij=35041,Dj=35046,kj=35050,Fj=35042,Oj="100",Ky="300 es";class to{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}let sh=1234567;const Ho=Math.PI/180,Gu=180/Math.PI,rn=[];for(let t=0;t<256;t++)rn[t]=(t<16?"0":"")+t.toString(16);const zj=typeof crypto<"u"&&"randomUUID"in crypto;function Qn(){if(zj)return crypto.randomUUID().toUpperCase();const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(rn[t&255]+rn[t>>8&255]+rn[t>>16&255]+rn[t>>24&255]+"-"+rn[e&255]+rn[e>>8&255]+"-"+rn[e>>16&15|64]+rn[e>>24&255]+"-"+rn[n&63|128]+rn[n>>8&255]+"-"+rn[n>>16&255]+rn[n>>24&255]+rn[i&255]+rn[i>>8&255]+rn[i>>16&255]+rn[i>>24&255]).toUpperCase()}function on(t,e,n){return Math.max(e,Math.min(n,t))}function fw(t,e){return(t%e+e)%e}function Bj(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Uj(t,e,n){return t!==e?(n-t)/(e-t):0}function su(t,e,n){return(1-n)*t+n*e}function Vj(t,e,n,i){return su(t,e,1-Math.exp(-n*i))}function Hj(t,e=1){return e-Math.abs(fw(t,e*2)-e)}function jj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Gj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Wj(t,e){return t+Math.floor(Math.random()*(e-t+1))}function $j(t,e){return t+Math.random()*(e-t)}function qj(t){return t*(.5-Math.random())}function Xj(t){return t!==void 0&&(sh=t%2147483647),sh=sh*16807%2147483647,(sh-1)/2147483646}function Yj(t){return t*Ho}function Zj(t){return t*Gu}function Qy(t){return(t&t-1)===0&&t!==0}function UR(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function VR(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Jj(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),h=o((e-i)/2),f=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*f,a*c);break;case"YXY":t.set(l*f,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var AM=Object.freeze({__proto__:null,DEG2RAD:Ho,RAD2DEG:Gu,generateUUID:Qn,clamp:on,euclideanModulo:fw,mapLinear:Bj,inverseLerp:Uj,lerp:su,damp:Vj,pingpong:Hj,smoothstep:jj,smootherstep:Gj,randInt:Wj,randFloat:$j,randFloatSpread:qj,seededRandom:Xj,degToRad:Yj,radToDeg:Zj,isPowerOfTwo:Qy,ceilPowerOfTwo:UR,floorPowerOfTwo:VR,setQuaternionFromProperEuler:Jj});class te{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}te.prototype.isVector2=!0;class $t{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],g=i[8],y=r[0],x=r[3],p=r[6],m=r[1],v=r[4],w=r[7],_=r[2],S=r[5],M=r[8];return s[0]=o*y+a*m+l*_,s[3]=o*x+a*v+l*S,s[6]=o*p+a*w+l*M,s[1]=c*y+u*m+d*_,s[4]=c*x+u*v+d*S,s[7]=c*p+u*w+d*M,s[2]=h*y+f*m+g*_,s[5]=h*x+f*v+g*S,s[8]=h*p+f*w+g*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,g=n*d+i*h+r*f;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=d*y,e[1]=(r*c-u*i)*y,e[2]=(a*i-r*o)*y,e[3]=h*y,e[4]=(u*n-r*l)*y,e[5]=(r*s-a*n)*y,e[6]=f*y,e[7]=(i*l-c*n)*y,e[8]=(o*n-i*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=n*s+i*l,r[3]=n*o+i*c,r[6]=n*a+i*u,r[1]=-i*s+n*l,r[4]=-i*o+n*c,r[7]=-i*a+n*u,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}$t.prototype.isMatrix3=!0;function HR(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const Kj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function tl(t,e){return new Kj[t](e)}function $p(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function PM(t,e=0){let n=3735928559^e,i=1103547991^e;for(let r=0,s;r<t.length;r++)s=t.charCodeAt(r),n=Math.imul(n^s,2654435761),i=Math.imul(i^s,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&i)+(n>>>0)}let ya;class ua{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ya===void 0&&(ya=$p("canvas")),ya.width=e.width,ya.height=e.height;const i=ya.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=ya}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let Qj=0;class qt extends to{constructor(e=qt.DEFAULT_IMAGE,n=qt.DEFAULT_MAPPING,i=an,r=an,s=Wt,o=la,a=cn,l=Vr,c=1,u=hn){super(),Object.defineProperty(this,"id",{value:Qj++}),this.uuid=Qn(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new te(0,0),this.repeat=new te(1,1),this.center=new te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=Qn()),!n&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(hg(r[o].image)):s.push(hg(r[o]))}else s=hg(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Hp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case zu:e.x=e.x-Math.floor(e.x);break;case an:e.x=e.x<0?0:1;break;case Bu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case zu:e.y=e.y-Math.floor(e.y);break;case an:e.y=e.y<0?0:1;break;case Bu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}qt.DEFAULT_IMAGE=void 0;qt.DEFAULT_MAPPING=Hp;qt.prototype.isTexture=!0;function hg(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ua.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class nt{constructor(e=0,n=0,i=0,r=1){this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],g=l[9],y=l[2],x=l[6],p=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+y)<.1&&Math.abs(g+x)<.1&&Math.abs(c+f+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,w=(f+1)/2,_=(p+1)/2,S=(u+h)/4,M=(d+y)/4,T=(g+x)/4;return v>w&&v>_?v<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(v),r=S/i,s=M/i):w>_?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=S/r,s=T/r):_<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(_),i=M/s,r=T/s),this.set(i,r,s,n),this}let m=Math.sqrt((x-g)*(x-g)+(d-y)*(d-y)+(h-u)*(h-u));return Math.abs(m)<.001&&(m=1),this.x=(x-g)/m,this.y=(d-y)/m,this.z=(h-u)/m,this.w=Math.acos((c+f+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}nt.prototype.isVector4=!0;class Bi extends to{constructor(e,n,i={}){super(),this.width=e,this.height=n,this.depth=1,this.scissor=new nt(0,0,e,n),this.scissorTest=!1,this.viewport=new nt(0,0,e,n),this.texture=new qt(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:n,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Wt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Bi.prototype.isWebGLRenderTarget=!0;class jR extends Bi{constructor(e,n,i){super(e,n);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone();return this}}jR.prototype.isWebGLMultipleRenderTargets=!0;class pw extends Bi{constructor(e,n,i){super(e,n,i),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}pw.prototype.isWebGLMultisampleRenderTarget=!0;class un{constructor(e=0,n=0,i=0,r=1){this._x=e,this._y=n,this._z=i,this._w=r}static slerp(e,n,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,n,r)}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],f=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=f,e[n+2]=g,e[n+3]=y;return}if(d!==y||l!==h||c!==f||u!==g){let x=1-a;const p=l*h+c*f+u*g+d*y,m=p>=0?1:-1,v=1-p*p;if(v>Number.EPSILON){const _=Math.sqrt(v),S=Math.atan2(_,p*m);x=Math.sin(x*S)/_,a=Math.sin(a*S)/_}const w=a*m;if(l=l*x+h*w,c=c*x+f*w,u=u*x+g*w,d=d*x+y*w,x===1-a){const _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],f=s[o+2],g=s[o+3];return e[n]=a*g+u*d+l*f-c*h,e[n+1]=l*g+u*h+c*d-a*f,e[n+2]=c*g+u*f+a*h-l*d,e[n+3]=u*g-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),f=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*g,this._y=c*f*d-h*u*g,this._z=c*u*g+h*f*d,this._w=c*u*d-h*f*g;break;case"YXZ":this._x=h*u*d+c*f*g,this._y=c*f*d-h*u*g,this._z=c*u*g-h*f*d,this._w=c*u*d+h*f*g;break;case"ZXY":this._x=h*u*d-c*f*g,this._y=c*f*d+h*u*g,this._z=c*u*g+h*f*d,this._w=c*u*d-h*f*g;break;case"ZYX":this._x=h*u*d-c*f*g,this._y=c*f*d+h*u*g,this._z=c*u*g-h*f*d,this._w=c*u*d+h*f*g;break;case"YZX":this._x=h*u*d+c*f*g,this._y=c*f*d+h*u*g,this._z=c*u*g-h*f*d,this._w=c*u*d-h*f*g;break;case"XZY":this._x=h*u*d-c*f*g,this._y=c*f*d-h*u*g,this._z=c*u*g+h*f*d,this._w=c*u*d+h*f*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=i+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(i>a&&i>d){const f=2*Math.sqrt(1+i-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-i-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(on(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-n;return this._w=f*o+n*this._w,this._x=f*i+n*this._x,this._y=f*r+n*this._y,this._z=f*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}un.prototype.isQuaternion=!0;class R{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(RM.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(RM.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*r-a*i,u=l*i+a*n-s*r,d=l*r+s*i-o*n,h=-s*n-o*i-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return fg.copy(this).projectOnVector(e),this.sub(fg)}reflect(e){return this.sub(fg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(on(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}R.prototype.isVector3=!0;const fg=new R,RM=new un;class ri{constructor(e=new R(1/0,1/0,1/0),n=new R(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<n&&(n=u),d<i&&(i=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<n&&(n=u),d<i&&(i=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Tc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),pg.copy(n.boundingBox),pg.applyMatrix4(e.matrixWorld),this.union(pg));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Tc),Tc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cc),oh.subVectors(this.max,Cc),xa.subVectors(e.a,Cc),va.subVectors(e.b,Cc),wa.subVectors(e.c,Cc),Qr.subVectors(va,xa),es.subVectors(wa,va),co.subVectors(xa,wa);let n=[0,-Qr.z,Qr.y,0,-es.z,es.y,0,-co.z,co.y,Qr.z,0,-Qr.x,es.z,0,-es.x,co.z,0,-co.x,-Qr.y,Qr.x,0,-es.y,es.x,0,-co.y,co.x,0];return!mg(n,xa,va,wa,oh)||(n=[1,0,0,0,1,0,0,0,1],!mg(n,xa,va,wa,oh))?!1:(ah.crossVectors(Qr,es),n=[ah.x,ah.y,ah.z],mg(n,xa,va,wa,oh))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Tc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Tc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ri.prototype.isBox3=!0;const wr=[new R,new R,new R,new R,new R,new R,new R,new R],Tc=new R,pg=new ri,xa=new R,va=new R,wa=new R,Qr=new R,es=new R,co=new R,Cc=new R,oh=new R,ah=new R,uo=new R;function mg(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){uo.fromArray(t,s);const a=r.x*Math.abs(uo.x)+r.y*Math.abs(uo.y)+r.z*Math.abs(uo.z),l=e.dot(uo),c=n.dot(uo),u=i.dot(uo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const eG=new ri,LM=new R,gg=new R,yg=new R;class no{constructor(e=new R,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):eG.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){yg.subVectors(e,this.center);const n=yg.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.add(yg.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return gg.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(LM.copy(e.center).add(gg)),this.expandByPoint(LM.copy(e.center).sub(gg)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const br=new R,xg=new R,lh=new R,ts=new R,vg=new R,ch=new R,wg=new R;class io{constructor(e=new R,n=new R(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,br)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=br.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(br.copy(this.direction).multiplyScalar(n).add(this.origin),br.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){xg.copy(e).add(n).multiplyScalar(.5),lh.copy(n).sub(e).normalize(),ts.copy(this.origin).sub(xg);const s=e.distanceTo(n)*.5,o=-this.direction.dot(lh),a=ts.dot(this.direction),l=-ts.dot(lh),c=ts.lengthSq(),u=Math.abs(1-o*o);let d,h,f,g;if(u>0)if(d=o*l-a,h=o*a-l,g=s*u,d>=0)if(h>=-g)if(h<=g){const y=1/u;d*=y,h*=y,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-g?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=g?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(lh).multiplyScalar(h).add(xg),f}intersectSphere(e,n){br.subVectors(e.center,this.origin);const i=br.dot(this.direction),r=br.dot(br)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,br)!==null}intersectTriangle(e,n,i,r,s){vg.subVectors(n,e),ch.subVectors(i,e),wg.crossVectors(vg,ch);let o=this.direction.dot(wg),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ts.subVectors(this.origin,e);const l=a*this.direction.dot(ch.crossVectors(ts,ch));if(l<0)return null;const c=a*this.direction.dot(vg.cross(ts));if(c<0||l+c>o)return null;const u=-a*ts.dot(wg);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Te{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,r,s,o,a,l,c,u,d,h,f,g,y,x){const p=this.elements;return p[0]=e,p[4]=n,p[8]=i,p[12]=r,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=d,p[14]=h,p[3]=f,p[7]=g,p[11]=y,p[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Te().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/ba.setFromMatrixColumn(e,0).length(),s=1/ba.setFromMatrixColumn(e,1).length(),o=1/ba.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*u,f=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=f+g*c,n[5]=h-y*c,n[9]=-a*l,n[2]=y-h*c,n[6]=g+f*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,f=l*d,g=c*u,y=c*d;n[0]=h+y*a,n[4]=g*a-f,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=f*a-g,n[6]=y+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,f=l*d,g=c*u,y=c*d;n[0]=h-y*a,n[4]=-o*d,n[8]=g+f*a,n[1]=f+g*a,n[5]=o*u,n[9]=y-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,f=o*d,g=a*u,y=a*d;n[0]=l*u,n[4]=g*c-f,n[8]=h*c+y,n[1]=l*d,n[5]=y*c+h,n[9]=f*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,f=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=y-h*d,n[8]=g*d+f,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=f*d+g,n[10]=h-y*d}else if(e.order==="XZY"){const h=o*l,f=o*c,g=a*l,y=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+y,n[5]=o*u,n[9]=f*d-g,n[2]=g*d-f,n[6]=a*u,n[10]=y*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tG,e,nG)}lookAt(e,n,i){const r=this.elements;return $n.subVectors(e,n),$n.lengthSq()===0&&($n.z=1),$n.normalize(),ns.crossVectors(i,$n),ns.lengthSq()===0&&(Math.abs(i.z)===1?$n.x+=1e-4:$n.z+=1e-4,$n.normalize(),ns.crossVectors(i,$n)),ns.normalize(),uh.crossVectors($n,ns),r[0]=ns.x,r[4]=uh.x,r[8]=$n.x,r[1]=ns.y,r[5]=uh.y,r[9]=$n.y,r[2]=ns.z,r[6]=uh.z,r[10]=$n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],g=i[2],y=i[6],x=i[10],p=i[14],m=i[3],v=i[7],w=i[11],_=i[15],S=r[0],M=r[4],T=r[8],P=r[12],C=r[1],A=r[5],O=r[9],F=r[13],N=r[2],H=r[6],B=r[10],z=r[14],k=r[3],U=r[7],$=r[11],ee=r[15];return s[0]=o*S+a*C+l*N+c*k,s[4]=o*M+a*A+l*H+c*U,s[8]=o*T+a*O+l*B+c*$,s[12]=o*P+a*F+l*z+c*ee,s[1]=u*S+d*C+h*N+f*k,s[5]=u*M+d*A+h*H+f*U,s[9]=u*T+d*O+h*B+f*$,s[13]=u*P+d*F+h*z+f*ee,s[2]=g*S+y*C+x*N+p*k,s[6]=g*M+y*A+x*H+p*U,s[10]=g*T+y*O+x*B+p*$,s[14]=g*P+y*F+x*z+p*ee,s[3]=m*S+v*C+w*N+_*k,s[7]=m*M+v*A+w*H+_*U,s[11]=m*T+v*O+w*B+_*$,s[15]=m*P+v*F+w*z+_*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14],g=e[3],y=e[7],x=e[11],p=e[15];return g*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*f-i*l*f)+y*(+n*l*f-n*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+x*(+n*c*d-n*a*f-s*o*d+i*o*f+s*a*u-i*c*u)+p*(-r*a*u-n*l*d+n*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],g=e[12],y=e[13],x=e[14],p=e[15],m=d*x*c-y*h*c+y*l*f-a*x*f-d*l*p+a*h*p,v=g*h*c-u*x*c-g*l*f+o*x*f+u*l*p-o*h*p,w=u*y*c-g*d*c+g*a*f-o*y*f-u*a*p+o*d*p,_=g*d*l-u*y*l-g*a*h+o*y*h+u*a*x-o*d*x,S=n*m+i*v+r*w+s*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/S;return e[0]=m*M,e[1]=(y*h*s-d*x*s-y*r*f+i*x*f+d*r*p-i*h*p)*M,e[2]=(a*x*s-y*l*s+y*r*c-i*x*c-a*r*p+i*l*p)*M,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*f-i*l*f)*M,e[4]=v*M,e[5]=(u*x*s-g*h*s+g*r*f-n*x*f-u*r*p+n*h*p)*M,e[6]=(g*l*s-o*x*s-g*r*c+n*x*c+o*r*p-n*l*p)*M,e[7]=(o*h*s-u*l*s+u*r*c-n*h*c-o*r*f+n*l*f)*M,e[8]=w*M,e[9]=(g*d*s-u*y*s-g*i*f+n*y*f+u*i*p-n*d*p)*M,e[10]=(o*y*s-g*a*s+g*i*c-n*y*c-o*i*p+n*a*p)*M,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*f-n*a*f)*M,e[12]=_*M,e[13]=(u*y*r-g*d*r+g*i*h-n*y*h-u*i*x+n*d*x)*M,e[14]=(g*a*r-o*y*r-g*i*l+n*y*l+o*i*x-n*a*x)*M,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*h+n*a*h)*M,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,g=s*d,y=o*u,x=o*d,p=a*d,m=l*c,v=l*u,w=l*d,_=i.x,S=i.y,M=i.z;return r[0]=(1-(y+p))*_,r[1]=(f+w)*_,r[2]=(g-v)*_,r[3]=0,r[4]=(f-w)*S,r[5]=(1-(h+p))*S,r[6]=(x+m)*S,r[7]=0,r[8]=(g+v)*M,r[9]=(x-m)*M,r[10]=(1-(h+y))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=ba.set(r[0],r[1],r[2]).length();const o=ba.set(r[4],r[5],r[6]).length(),a=ba.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Mi.copy(this);const c=1/s,u=1/o,d=1/a;return Mi.elements[0]*=c,Mi.elements[1]*=c,Mi.elements[2]*=c,Mi.elements[4]*=u,Mi.elements[5]*=u,Mi.elements[6]*=u,Mi.elements[8]*=d,Mi.elements[9]*=d,Mi.elements[10]*=d,n.setFromRotationMatrix(Mi),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(n-e),c=2*s/(i-r),u=(n+e)/(n-e),d=(i+r)/(i-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,i,r,s,o){const a=this.elements,l=1/(n-e),c=1/(i-r),u=1/(o-s),d=(n+e)*l,h=(i+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}Te.prototype.isMatrix4=!0;const ba=new R,Mi=new Te,tG=new R(0,0,0),nG=new R(1,1,1),ns=new R,uh=new R,$n=new R,NM=new Te,IM=new un;let yd=class GR{constructor(e=0,n=0,i=0,r=GR.DefaultOrder){this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],f=r[10];switch(n){case"XYZ":this._y=Math.asin(on(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-on(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(on(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-on(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(on(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-on(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return NM.makeRotationFromQuaternion(e),this.setFromRotationMatrix(NM,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return IM.setFromEuler(this),this.setFromQuaternion(IM,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new R(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};yd.prototype.isEuler=!0;yd.DefaultOrder="XYZ";yd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class mw{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let iG=0;const DM=new R,_a=new un,_r=new Te,dh=new R,Ac=new R,rG=new R,sG=new un,kM=new R(1,0,0),FM=new R(0,1,0),OM=new R(0,0,1),oG={type:"added"},zM={type:"removed"};class He extends to{constructor(){super(),Object.defineProperty(this,"id",{value:iG++}),this.uuid=Qn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=He.DefaultUp.clone();const e=new R,n=new yd,i=new un,r=new R(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Te},normalMatrix:{value:new $t}}),this.matrix=new Te,this.matrixWorld=new Te,this.matrixAutoUpdate=He.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new mw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return _a.setFromAxisAngle(e,n),this.quaternion.multiply(_a),this}rotateOnWorldAxis(e,n){return _a.setFromAxisAngle(e,n),this.quaternion.premultiply(_a),this}rotateX(e){return this.rotateOnAxis(kM,e)}rotateY(e){return this.rotateOnAxis(FM,e)}rotateZ(e){return this.rotateOnAxis(OM,e)}translateOnAxis(e,n){return DM.copy(e).applyQuaternion(this.quaternion),this.position.add(DM.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(kM,e)}translateY(e){return this.translateOnAxis(FM,e)}translateZ(e){return this.translateOnAxis(OM,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(_r.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?dh.copy(e):dh.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ac.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_r.lookAt(Ac,dh,this.up):_r.lookAt(dh,Ac,this.up),this.quaternion.setFromRotationMatrix(_r),r&&(_r.extractRotation(r.matrixWorld),_a.setFromRotationMatrix(_r),this.quaternion.premultiply(_a.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(oG)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(zM)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(zM)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_r.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_r.multiply(e.parent.matrixWorld)),e.applyMatrix4(_r),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ac,e,rG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ac,sG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),f=o(e.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),h.length>0&&(i.skeletons=h),f.length>0&&(i.animations=f)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}He.DefaultUp=new R(0,1,0);He.DefaultMatrixAutoUpdate=!0;He.prototype.isObject3D=!0;const Si=new R,Mr=new R,bg=new R,Sr=new R,Ma=new R,Sa=new R,BM=new R,_g=new R,Mg=new R,Sg=new R;class It{constructor(e=new R,n=new R,i=new R){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Si.subVectors(e,n),r.cross(Si);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Si.subVectors(r,n),Mr.subVectors(i,n),bg.subVectors(e,n);const o=Si.dot(Si),a=Si.dot(Mr),l=Si.dot(bg),c=Mr.dot(Mr),u=Mr.dot(bg),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,g=(o*u-a*l)*h;return s.set(1-f-g,g,f)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Sr),Sr.x>=0&&Sr.y>=0&&Sr.x+Sr.y<=1}static getUV(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Sr),l.set(0,0),l.addScaledVector(s,Sr.x),l.addScaledVector(o,Sr.y),l.addScaledVector(a,Sr.z),l}static isFrontFacing(e,n,i,r){return Si.subVectors(i,n),Mr.subVectors(e,n),Si.cross(Mr).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Si.subVectors(this.c,this.b),Mr.subVectors(this.a,this.b),Si.cross(Mr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return It.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return It.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return It.getUV(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return It.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return It.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Ma.subVectors(r,i),Sa.subVectors(s,i),_g.subVectors(e,i);const l=Ma.dot(_g),c=Sa.dot(_g);if(l<=0&&c<=0)return n.copy(i);Mg.subVectors(e,r);const u=Ma.dot(Mg),d=Sa.dot(Mg);if(u>=0&&d<=u)return n.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Ma,o);Sg.subVectors(e,s);const f=Ma.dot(Sg),g=Sa.dot(Sg);if(g>=0&&f<=g)return n.copy(s);const y=f*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(i).addScaledVector(Sa,a);const x=u*g-f*d;if(x<=0&&d-u>=0&&f-g>=0)return BM.subVectors(s,r),a=(d-u)/(d-u+(f-g)),n.copy(r).addScaledVector(BM,a);const p=1/(x+y+h);return o=y*p,a=h*p,n.copy(i).addScaledVector(Ma,o).addScaledVector(Sa,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let aG=0;class tn extends to{constructor(){super(),Object.defineProperty(this,"id",{value:aG++}),this.uuid=Qn(),this.name="",this.type="Material",this.fog=!0,this.blending=fl,this.side=Zo,this.vertexColors=!1,this.opacity=1,this.format=cn,this.transparent=!1,this.blendSrc=ow,this.blendDst=aw,this.blendEquation=bo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=rp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=BR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yf,this.stencilZFail=yf,this.stencilZPass=yf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===sw;continue}const r=this[n];if(r===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==fl&&(i.blending=this.blending),this.side!==Zo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==cn&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}tn.prototype.isMaterial=!0;const WR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ei={h:0,s:0,l:0},hh={h:0,s:0,l:0};function Eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Tg(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Cg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class ge{constructor(e,n,i){return n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=fw(e,1),n=on(n,0,1),i=on(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=Eg(s,r,e+1/3),this.g=Eg(s,r,e),this.b=Eg(s,r,e-1/3)}return this}setStyle(e){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return n(r[4]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=WR[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n=2){return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n=2){const i=n>0?1/n:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Tg(e.r),this.g=Tg(e.g),this.b=Tg(e.b),this}copyLinearToSRGB(e){return this.r=Cg(e.r),this.g=Cg(e.g),this.b=Cg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const n=this.r,i=this.g,r=this.b,s=Math.max(n,i,r),o=Math.min(n,i,r);let a,l;const c=(o+s)/2;if(o===s)a=0,l=0;else{const u=s-o;switch(l=c<=.5?u/(s+o):u/(2-s-o),s){case n:a=(i-r)/u+(i<r?6:0);break;case i:a=(r-n)/u+2;break;case r:a=(n-i)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(Ei),Ei.h+=e,Ei.s+=n,Ei.l+=i,this.setHSL(Ei.h,Ei.s,Ei.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Ei),e.getHSL(hh);const i=su(Ei.h,hh.h,n),r=su(Ei.s,hh.s,n),s=su(Ei.l,hh.l,n);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ge.NAMES=WR;ge.prototype.isColor=!0;ge.prototype.r=1;ge.prototype.g=1;ge.prototype.b=1;class Xr extends tn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Xr.prototype.isMeshBasicMaterial=!0;const lt=new R,fh=new te;class qe{constructor(e,n,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i===!0,this.usage=kl,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new ge),n[i++]=o.r,n[i++]=o.g,n[i++]=o.b}return this}copyVector2sArray(e){const n=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new te),n[i++]=o.x,n[i++]=o.y}return this}copyVector3sArray(e){const n=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new R),n[i++]=o.x,n[i++]=o.y,n[i++]=o.z}return this}copyVector4sArray(e){const n=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new nt),n[i++]=o.x,n[i++]=o.y,n[i++]=o.z,n[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)fh.fromBufferAttribute(this,n),fh.applyMatrix3(e),this.setXY(n,fh.x,fh.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)lt.fromBufferAttribute(this,n),lt.applyMatrix3(e),this.setXYZ(n,lt.x,lt.y,lt.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)lt.x=this.getX(n),lt.y=this.getY(n),lt.z=this.getZ(n),lt.applyMatrix4(e),this.setXYZ(n,lt.x,lt.y,lt.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)lt.x=this.getX(n),lt.y=this.getY(n),lt.z=this.getZ(n),lt.applyNormalMatrix(e),this.setXYZ(n,lt.x,lt.y,lt.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)lt.x=this.getX(n),lt.y=this.getY(n),lt.z=this.getZ(n),lt.transformDirection(e),this.setXYZ(n,lt.x,lt.y,lt.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==kl&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}qe.prototype.isBufferAttribute=!0;class $R extends qe{constructor(e,n,i){super(new Int8Array(e),n,i)}}class qR extends qe{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class XR extends qe{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class YR extends qe{constructor(e,n,i){super(new Int16Array(e),n,i)}}class qp extends qe{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class ZR extends qe{constructor(e,n,i){super(new Int32Array(e),n,i)}}class Xp extends qe{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class JR extends qe{constructor(e,n,i){super(new Uint16Array(e),n,i)}}JR.prototype.isFloat16BufferAttribute=!0;class Me extends qe{constructor(e,n,i){super(new Float32Array(e),n,i)}}class KR extends qe{constructor(e,n,i){super(new Float64Array(e),n,i)}}let lG=0;const si=new Te,Ag=new He,Ea=new R,qn=new ri,Pc=new ri,Xt=new R;class Le extends to{constructor(){super(),Object.defineProperty(this,"id",{value:lG++}),this.uuid=Qn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(HR(e)>65535?Xp:qp)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new $t().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return si.makeRotationFromQuaternion(e),this.applyMatrix4(si),this}rotateX(e){return si.makeRotationX(e),this.applyMatrix4(si),this}rotateY(e){return si.makeRotationY(e),this.applyMatrix4(si),this}rotateZ(e){return si.makeRotationZ(e),this.applyMatrix4(si),this}translate(e,n,i){return si.makeTranslation(e,n,i),this.applyMatrix4(si),this}scale(e,n,i){return si.makeScale(e,n,i),this.applyMatrix4(si),this}lookAt(e){return Ag.lookAt(e),Ag.updateMatrix(),this.applyMatrix4(Ag.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ea).negate(),this.translate(Ea.x,Ea.y,Ea.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Me(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ri);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new R(-1/0,-1/0,-1/0),new R(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];qn.setFromBufferAttribute(s),this.morphTargetsRelative?(Xt.addVectors(this.boundingBox.min,qn.min),this.boundingBox.expandByPoint(Xt),Xt.addVectors(this.boundingBox.max,qn.max),this.boundingBox.expandByPoint(Xt)):(this.boundingBox.expandByPoint(qn.min),this.boundingBox.expandByPoint(qn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new no);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new R,1/0);return}if(e){const i=this.boundingSphere.center;if(qn.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Pc.setFromBufferAttribute(a),this.morphTargetsRelative?(Xt.addVectors(qn.min,Pc.min),qn.expandByPoint(Xt),Xt.addVectors(qn.max,Pc.max),qn.expandByPoint(Xt)):(qn.expandByPoint(Pc.min),qn.expandByPoint(Pc.max))}qn.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xt.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xt));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Xt.fromBufferAttribute(a,c),l&&(Ea.fromBufferAttribute(e,c),Xt.add(Ea)),r=Math.max(r,i.distanceToSquared(Xt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;n.tangent===void 0&&this.setAttribute("tangent",new qe(new Float32Array(4*a),4));const l=n.tangent.array,c=[],u=[];for(let C=0;C<a;C++)c[C]=new R,u[C]=new R;const d=new R,h=new R,f=new R,g=new te,y=new te,x=new te,p=new R,m=new R;function v(C,A,O){d.fromArray(r,C*3),h.fromArray(r,A*3),f.fromArray(r,O*3),g.fromArray(o,C*2),y.fromArray(o,A*2),x.fromArray(o,O*2),h.sub(d),f.sub(d),y.sub(g),x.sub(g);const F=1/(y.x*x.y-x.x*y.y);isFinite(F)&&(p.copy(h).multiplyScalar(x.y).addScaledVector(f,-y.y).multiplyScalar(F),m.copy(f).multiplyScalar(y.x).addScaledVector(h,-x.x).multiplyScalar(F),c[C].add(p),c[A].add(p),c[O].add(p),u[C].add(m),u[A].add(m),u[O].add(m))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let C=0,A=w.length;C<A;++C){const O=w[C],F=O.start,N=O.count;for(let H=F,B=F+N;H<B;H+=3)v(i[H+0],i[H+1],i[H+2])}const _=new R,S=new R,M=new R,T=new R;function P(C){M.fromArray(s,C*3),T.copy(M);const A=c[C];_.copy(A),_.sub(M.multiplyScalar(M.dot(A))).normalize(),S.crossVectors(T,A);const F=S.dot(u[C])<0?-1:1;l[C*4]=_.x,l[C*4+1]=_.y,l[C*4+2]=_.z,l[C*4+3]=F}for(let C=0,A=w.length;C<A;++C){const O=w[C],F=O.start,N=O.count;for(let H=F,B=F+N;H<B;H+=3)P(i[H+0]),P(i[H+1]),P(i[H+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qe(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new R,s=new R,o=new R,a=new R,l=new R,c=new R,u=new R,d=new R;if(e)for(let h=0,f=e.count;h<f;h+=3){const g=e.getX(h+0),y=e.getX(h+1),x=e.getX(h+2);r.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,x),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let h=0,f=n.count;h<f;h+=3)r.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*n,u=Math.min(l.length,o.length-c);for(let d=0,h=c;d<u;d++,h++)o[h]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Xt.fromBufferAttribute(e,n),Xt.normalize(),e.setXYZ(n,Xt.x,Xt.y,Xt.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,g=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?f=l[y]*a.data.stride+a.offset:f=l[y]*u;for(let p=0;p<u;p++)h[g++]=c[f++]}return new qe(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Le,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=e(h,i);l.push(f)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Le.prototype.isBufferGeometry=!0;const UM=new Te,Ta=new io,Pg=new no,is=new R,rs=new R,ss=new R,Rg=new R,Lg=new R,Ng=new R,ph=new R,mh=new R,gh=new R,yh=new te,xh=new te,vh=new te,Ig=new R,wh=new R;let Ut=class extends He{constructor(e=new Le,n=new Xr){super(),this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Pg.copy(i.boundingSphere),Pg.applyMatrix4(s),e.ray.intersectsSphere(Pg)===!1)||(UM.copy(s).invert(),Ta.copy(e.ray).applyMatrix4(UM),i.boundingBox!==null&&Ta.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,d=i.attributes.uv,h=i.attributes.uv2,f=i.groups,g=i.drawRange;if(a!==null)if(Array.isArray(r))for(let y=0,x=f.length;y<x;y++){const p=f[y],m=r[p.materialIndex],v=Math.max(p.start,g.start),w=Math.min(a.count,Math.min(p.start+p.count,g.start+g.count));for(let _=v,S=w;_<S;_+=3){const M=a.getX(_),T=a.getX(_+1),P=a.getX(_+2);o=bh(this,m,e,Ta,l,c,u,d,h,M,T,P),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=p.materialIndex,n.push(o))}}else{const y=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let p=y,m=x;p<m;p+=3){const v=a.getX(p),w=a.getX(p+1),_=a.getX(p+2);o=bh(this,r,e,Ta,l,c,u,d,h,v,w,_),o&&(o.faceIndex=Math.floor(p/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let y=0,x=f.length;y<x;y++){const p=f[y],m=r[p.materialIndex],v=Math.max(p.start,g.start),w=Math.min(l.count,Math.min(p.start+p.count,g.start+g.count));for(let _=v,S=w;_<S;_+=3){const M=_,T=_+1,P=_+2;o=bh(this,m,e,Ta,l,c,u,d,h,M,T,P),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=p.materialIndex,n.push(o))}}else{const y=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let p=y,m=x;p<m;p+=3){const v=p,w=p+1,_=p+2;o=bh(this,r,e,Ta,l,c,u,d,h,v,w,_),o&&(o.faceIndex=Math.floor(p/3),n.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};Ut.prototype.isMesh=!0;function cG(t,e,n,i,r,s,o,a){let l;if(e.side===Lt?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==Jo,a),l===null)return null;wh.copy(a),wh.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(wh);return c<n.near||c>n.far?null:{distance:c,point:wh.clone(),object:t}}function bh(t,e,n,i,r,s,o,a,l,c,u,d){is.fromBufferAttribute(r,c),rs.fromBufferAttribute(r,u),ss.fromBufferAttribute(r,d);const h=t.morphTargetInfluences;if(s&&h){ph.set(0,0,0),mh.set(0,0,0),gh.set(0,0,0);for(let g=0,y=s.length;g<y;g++){const x=h[g],p=s[g];x!==0&&(Rg.fromBufferAttribute(p,c),Lg.fromBufferAttribute(p,u),Ng.fromBufferAttribute(p,d),o?(ph.addScaledVector(Rg,x),mh.addScaledVector(Lg,x),gh.addScaledVector(Ng,x)):(ph.addScaledVector(Rg.sub(is),x),mh.addScaledVector(Lg.sub(rs),x),gh.addScaledVector(Ng.sub(ss),x)))}is.add(ph),rs.add(mh),ss.add(gh)}t.isSkinnedMesh&&(t.boneTransform(c,is),t.boneTransform(u,rs),t.boneTransform(d,ss));const f=cG(t,e,n,i,is,rs,ss,Ig);if(f){a&&(yh.fromBufferAttribute(a,c),xh.fromBufferAttribute(a,u),vh.fromBufferAttribute(a,d),f.uv=It.getUV(Ig,is,rs,ss,yh,xh,vh,new te)),l&&(yh.fromBufferAttribute(l,c),xh.fromBufferAttribute(l,u),vh.fromBufferAttribute(l,d),f.uv2=It.getUV(Ig,is,rs,ss,yh,xh,vh,new te));const g={a:c,b:u,c:d,normal:new R,materialIndex:0};It.getNormal(is,rs,ss,g.normal),f.face=g}return f}class Hr extends Le{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;g("z","y","x",-1,-1,i,n,e,o,s,0),g("z","y","x",1,-1,i,n,-e,o,s,1),g("x","z","y",1,1,e,i,n,r,o,2),g("x","z","y",1,-1,e,i,-n,r,o,3),g("x","y","z",1,-1,e,n,i,r,s,4),g("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Me(c,3)),this.setAttribute("normal",new Me(u,3)),this.setAttribute("uv",new Me(d,2));function g(y,x,p,m,v,w,_,S,M,T,P){const C=w/M,A=_/T,O=w/2,F=_/2,N=S/2,H=M+1,B=T+1;let z=0,k=0;const U=new R;for(let $=0;$<B;$++){const ee=$*A-F;for(let re=0;re<H;re++){const q=re*C-O;U[y]=q*m,U[x]=ee*v,U[p]=N,c.push(U.x,U.y,U.z),U[y]=0,U[x]=0,U[p]=S>0?1:-1,u.push(U.x,U.y,U.z),d.push(re/M),d.push(1-$/T),z+=1}}for(let $=0;$<T;$++)for(let ee=0;ee<M;ee++){const re=h+ee+H*$,q=h+ee+H*($+1),J=h+(ee+1)+H*($+1),j=h+(ee+1)+H*$;l.push(re,q,j),l.push(q,J,j),k+=6}a.addGroup(f,k,P),f+=k,h+=z}}static fromJSON(e){return new Hr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ol(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function yn(t){const e={};for(let n=0;n<t.length;n++){const i=Ol(t[n]);for(const r in i)e[r]=i[r]}return e}const QR={clone:Ol,merge:yn};var uG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jr extends tn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=uG,this.fragmentShader=dG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ol(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}jr.prototype.isShaderMaterial=!0;let xd=class extends He{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Te,this.projectionMatrix=new Te,this.projectionMatrixInverse=new Te}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};xd.prototype.isCamera=!0;class Kt extends xd{constructor(e=50,n=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gu*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ho*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gu*2*Math.atan(Math.tan(Ho*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ho*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}Kt.prototype.isPerspectiveCamera=!0;const Ca=90,Aa=1;class Yp extends He{constructor(e,n,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Kt(Ca,Aa,e,n);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new R(1,0,0)),this.add(r);const s=new Kt(Ca,Aa,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new R(-1,0,0)),this.add(s);const o=new Kt(Ca,Aa,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new R(0,1,0)),this.add(o);const a=new Kt(Ca,Aa,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new R(0,-1,0)),this.add(a);const l=new Kt(Ca,Aa,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new R(0,0,1)),this.add(l);const c=new Kt(Ca,Aa,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new R(0,0,-1)),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,o),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(n,c),e.setRenderTarget(d),e.xr.enabled=u}}class ac extends qt{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:oa,super(e,n,i,r,s,o,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}ac.prototype.isCubeTexture=!0;class Zp extends Bi{constructor(e,n,i){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=i),super(e,e,n),n=n||{},this.texture=new ac(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Wt,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=cn,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Hr(5,5,5),s=new jr({name:"CubemapFromEquirect",uniforms:Ol(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Lt,blending:Ir});s.uniforms.tEquirect.value=n;const o=new Ut(r,s),a=n.minFilter;return n.minFilter===la&&(n.minFilter=Wt),new Yp(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}Zp.prototype.isWebGLCubeRenderTarget=!0;const Dg=new R,hG=new R,fG=new $t;class nr{constructor(e=new R(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Dg.subVectors(i,n).cross(hG.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(Dg),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||fG.getNormalMatrix(e),r=this.coplanarPoint(Dg).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}nr.prototype.isPlane=!0;const Pa=new no,_h=new R;class vd{constructor(e=new nr,n=new nr,i=new nr,r=new nr,s=new nr,o=new nr){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],f=i[9],g=i[10],y=i[11],x=i[12],p=i[13],m=i[14],v=i[15];return n[0].setComponents(a-r,d-l,y-h,v-x).normalize(),n[1].setComponents(a+r,d+l,y+h,v+x).normalize(),n[2].setComponents(a+s,d+c,y+f,v+p).normalize(),n[3].setComponents(a-s,d-c,y-f,v-p).normalize(),n[4].setComponents(a-o,d-u,y-g,v-m).normalize(),n[5].setComponents(a+o,d+u,y+g,v+m).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Pa.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Pa)}intersectsSprite(e){return Pa.center.set(0,0,0),Pa.radius=.7071067811865476,Pa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pa)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(_h.x=r.normal.x>0?e.max.x:e.min.x,_h.y=r.normal.y>0?e.max.y:e.min.y,_h.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(_h)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function eL(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function pG(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,h=c.usage,f=t.createBuffer();t.bindBuffer(u,f),t.bufferData(u,d,h),c.onUploadCallback();let g=5126;return d instanceof Float32Array?g=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?n?g=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):g=5123:d instanceof Int16Array?g=5122:d instanceof Uint32Array?g=5125:d instanceof Int32Array?g=5124:d instanceof Int8Array?g=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(g=5121),{buffer:f,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const h=u.array,f=u.updateRange;t.bindBuffer(d,c),f.count===-1?t.bufferSubData(d,0,h):(n?t.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):t.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class Ko extends Le{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=n/l,f=[],g=[],y=[],x=[];for(let p=0;p<u;p++){const m=p*h-o;for(let v=0;v<c;v++){const w=v*d-s;g.push(w,-m,0),y.push(0,0,1),x.push(v/a),x.push(1-p/l)}}for(let p=0;p<l;p++)for(let m=0;m<a;m++){const v=m+c*p,w=m+c*(p+1),_=m+1+c*(p+1),S=m+1+c*p;f.push(v,w,S),f.push(w,_,S)}this.setIndex(f),this.setAttribute("position",new Me(g,3)),this.setAttribute("normal",new Me(y,3)),this.setAttribute("uv",new Me(x,2))}static fromJSON(e){return new Ko(e.width,e.height,e.widthSegments,e.heightSegments)}}var mG=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yG=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,xG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bG="vec3 transformed = vec3( position );",_G=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,MG=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,SG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,TG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,AG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,PG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,RG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,LG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,NG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,IG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,DG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kG=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,FG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,OG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,zG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,BG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,UG="gl_FragColor = linearToOutputTexel( gl_FragColor );",VG=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,HG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,GG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,WG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,$G=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,XG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,YG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,KG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,QG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eW=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,tW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,nW=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,iW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,sW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,aW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,cW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,dW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gW=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,yW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_W=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,MW=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,SW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,EW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,TW=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,CW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,LW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,NW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,IW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,DW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,FW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,OW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,zW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,BW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,UW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,VW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,HW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,GW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,WW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$W=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,qW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,XW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,YW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ZW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,JW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,KW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,QW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,e8=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,t8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,n8=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,i8=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,r8=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,s8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,o8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,a8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,l8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const c8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,u8=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,d8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,h8=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,f8=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,p8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,m8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,g8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,y8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,x8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,v8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,w8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,b8=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,M8=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S8=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,T8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,A8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,P8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,R8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,N8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,D8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,F8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,O8=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,B8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,U8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ue={alphamap_fragment:mG,alphamap_pars_fragment:gG,alphatest_fragment:yG,alphatest_pars_fragment:xG,aomap_fragment:vG,aomap_pars_fragment:wG,begin_vertex:bG,beginnormal_vertex:_G,bsdfs:MG,bumpmap_pars_fragment:SG,clipping_planes_fragment:EG,clipping_planes_pars_fragment:TG,clipping_planes_pars_vertex:CG,clipping_planes_vertex:AG,color_fragment:PG,color_pars_fragment:RG,color_pars_vertex:LG,color_vertex:NG,common:IG,cube_uv_reflection_fragment:DG,defaultnormal_vertex:kG,displacementmap_pars_vertex:FG,displacementmap_vertex:OG,emissivemap_fragment:zG,emissivemap_pars_fragment:BG,encodings_fragment:UG,encodings_pars_fragment:VG,envmap_fragment:HG,envmap_common_pars_fragment:jG,envmap_pars_fragment:GG,envmap_pars_vertex:WG,envmap_physical_pars_fragment:nW,envmap_vertex:$G,fog_vertex:qG,fog_pars_vertex:XG,fog_fragment:YG,fog_pars_fragment:ZG,gradientmap_pars_fragment:JG,lightmap_fragment:KG,lightmap_pars_fragment:QG,lights_lambert_vertex:eW,lights_pars_begin:tW,lights_toon_fragment:iW,lights_toon_pars_fragment:rW,lights_phong_fragment:sW,lights_phong_pars_fragment:oW,lights_physical_fragment:aW,lights_physical_pars_fragment:lW,lights_fragment_begin:cW,lights_fragment_maps:uW,lights_fragment_end:dW,logdepthbuf_fragment:hW,logdepthbuf_pars_fragment:fW,logdepthbuf_pars_vertex:pW,logdepthbuf_vertex:mW,map_fragment:gW,map_pars_fragment:yW,map_particle_fragment:xW,map_particle_pars_fragment:vW,metalnessmap_fragment:wW,metalnessmap_pars_fragment:bW,morphnormal_vertex:_W,morphtarget_pars_vertex:MW,morphtarget_vertex:SW,normal_fragment_begin:EW,normal_fragment_maps:TW,normal_pars_fragment:CW,normal_pars_vertex:AW,normal_vertex:PW,normalmap_pars_fragment:RW,clearcoat_normal_fragment_begin:LW,clearcoat_normal_fragment_maps:NW,clearcoat_pars_fragment:IW,output_fragment:DW,packing:kW,premultiplied_alpha_fragment:FW,project_vertex:OW,dithering_fragment:zW,dithering_pars_fragment:BW,roughnessmap_fragment:UW,roughnessmap_pars_fragment:VW,shadowmap_pars_fragment:HW,shadowmap_pars_vertex:jW,shadowmap_vertex:GW,shadowmask_pars_fragment:WW,skinbase_vertex:$W,skinning_pars_vertex:qW,skinning_vertex:XW,skinnormal_vertex:YW,specularmap_fragment:ZW,specularmap_pars_fragment:JW,tonemapping_fragment:KW,tonemapping_pars_fragment:QW,transmission_fragment:e8,transmission_pars_fragment:t8,uv_pars_fragment:n8,uv_pars_vertex:i8,uv_vertex:r8,uv2_pars_fragment:s8,uv2_pars_vertex:o8,uv2_vertex:a8,worldpos_vertex:l8,background_vert:c8,background_frag:u8,cube_vert:d8,cube_frag:h8,depth_vert:f8,depth_frag:p8,distanceRGBA_vert:m8,distanceRGBA_frag:g8,equirect_vert:y8,equirect_frag:x8,linedashed_vert:v8,linedashed_frag:w8,meshbasic_vert:b8,meshbasic_frag:_8,meshlambert_vert:M8,meshlambert_frag:S8,meshmatcap_vert:E8,meshmatcap_frag:T8,meshnormal_vert:C8,meshnormal_frag:A8,meshphong_vert:P8,meshphong_frag:R8,meshphysical_vert:L8,meshphysical_frag:N8,meshtoon_vert:I8,meshtoon_frag:D8,points_vert:k8,points_frag:F8,shadow_vert:O8,shadow_frag:z8,sprite_vert:B8,sprite_frag:U8},he={common:{diffuse:{value:new ge(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $t},uv2Transform:{value:new $t},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new te(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $t}},sprite:{diffuse:{value:new ge(16777215)},opacity:{value:1},center:{value:new te(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $t}}},Ii={basic:{uniforms:yn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.fog]),vertexShader:Ue.meshbasic_vert,fragmentShader:Ue.meshbasic_frag},lambert:{uniforms:yn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.fog,he.lights,{emissive:{value:new ge(0)}}]),vertexShader:Ue.meshlambert_vert,fragmentShader:Ue.meshlambert_frag},phong:{uniforms:yn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.fog,he.lights,{emissive:{value:new ge(0)},specular:{value:new ge(1118481)},shininess:{value:30}}]),vertexShader:Ue.meshphong_vert,fragmentShader:Ue.meshphong_frag},standard:{uniforms:yn([he.common,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.roughnessmap,he.metalnessmap,he.fog,he.lights,{emissive:{value:new ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ue.meshphysical_vert,fragmentShader:Ue.meshphysical_frag},toon:{uniforms:yn([he.common,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.gradientmap,he.fog,he.lights,{emissive:{value:new ge(0)}}]),vertexShader:Ue.meshtoon_vert,fragmentShader:Ue.meshtoon_frag},matcap:{uniforms:yn([he.common,he.bumpmap,he.normalmap,he.displacementmap,he.fog,{matcap:{value:null}}]),vertexShader:Ue.meshmatcap_vert,fragmentShader:Ue.meshmatcap_frag},points:{uniforms:yn([he.points,he.fog]),vertexShader:Ue.points_vert,fragmentShader:Ue.points_frag},dashed:{uniforms:yn([he.common,he.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ue.linedashed_vert,fragmentShader:Ue.linedashed_frag},depth:{uniforms:yn([he.common,he.displacementmap]),vertexShader:Ue.depth_vert,fragmentShader:Ue.depth_frag},normal:{uniforms:yn([he.common,he.bumpmap,he.normalmap,he.displacementmap,{opacity:{value:1}}]),vertexShader:Ue.meshnormal_vert,fragmentShader:Ue.meshnormal_frag},sprite:{uniforms:yn([he.sprite,he.fog]),vertexShader:Ue.sprite_vert,fragmentShader:Ue.sprite_frag},background:{uniforms:{uvTransform:{value:new $t},t2D:{value:null}},vertexShader:Ue.background_vert,fragmentShader:Ue.background_frag},cube:{uniforms:yn([he.envmap,{opacity:{value:1}}]),vertexShader:Ue.cube_vert,fragmentShader:Ue.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ue.equirect_vert,fragmentShader:Ue.equirect_frag},distanceRGBA:{uniforms:yn([he.common,he.displacementmap,{referencePosition:{value:new R},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ue.distanceRGBA_vert,fragmentShader:Ue.distanceRGBA_frag},shadow:{uniforms:yn([he.lights,he.fog,{color:{value:new ge(0)},opacity:{value:1}}]),vertexShader:Ue.shadow_vert,fragmentShader:Ue.shadow_frag}};Ii.physical={uniforms:yn([Ii.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new te(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ge(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ge(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new ge(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ue.meshphysical_vert,fragmentShader:Ue.meshphysical_frag};function V8(t,e,n,i,r){const s=new ge(0);let o=0,a,l,c=null,u=0,d=null;function h(g,y){let x=!1,p=y.isScene===!0?y.background:null;p&&p.isTexture&&(p=e.get(p));const m=t.xr,v=m.getSession&&m.getSession();v&&v.environmentBlendMode==="additive"&&(p=null),p===null?f(s,o):p&&p.isColor&&(f(p,1),x=!0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.mapping===oc)?(l===void 0&&(l=new Ut(new Hr(1,1,1),new jr({name:"BackgroundCubeMaterial",uniforms:Ol(Ii.cube.uniforms),vertexShader:Ii.cube.vertexShader,fragmentShader:Ii.cube.fragmentShader,side:Lt,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(w,_,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=p,l.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p.isRenderTargetTexture===!1?-1:1,(c!==p||u!==p.version||d!==t.toneMapping)&&(l.material.needsUpdate=!0,c=p,u=p.version,d=t.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null)):p&&p.isTexture&&(a===void 0&&(a=new Ut(new Ko(2,2),new jr({name:"BackgroundMaterial",uniforms:Ol(Ii.background.uniforms),vertexShader:Ii.background.vertexShader,fragmentShader:Ii.background.fragmentShader,side:Zo,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=p,p.matrixAutoUpdate===!0&&p.updateMatrix(),a.material.uniforms.uvTransform.value.copy(p.matrix),(c!==p||u!==p.version||d!==t.toneMapping)&&(a.material.needsUpdate=!0,c=p,u=p.version,d=t.toneMapping),g.unshift(a,a.geometry,a.material,0,0,null))}function f(g,y){n.buffers.color.setClear(g.r,g.g,g.b,y,r)}return{getClearColor:function(){return s},setClearColor:function(g,y=1){s.set(g),o=y,f(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(g){o=g,f(s,o)},render:h}}function H8(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=y(null);let c=l;function u(F,N,H,B,z){let k=!1;if(o){const U=g(B,H,N);c!==U&&(c=U,h(c.object)),k=x(B,z),k&&p(B,z)}else{const U=N.wireframe===!0;(c.geometry!==B.id||c.program!==H.id||c.wireframe!==U)&&(c.geometry=B.id,c.program=H.id,c.wireframe=U,k=!0)}F.isInstancedMesh===!0&&(k=!0),z!==null&&n.update(z,34963),k&&(M(F,N,H,B),z!==null&&t.bindBuffer(34963,n.get(z).buffer))}function d(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(F){return i.isWebGL2?t.bindVertexArray(F):s.bindVertexArrayOES(F)}function f(F){return i.isWebGL2?t.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function g(F,N,H){const B=H.wireframe===!0;let z=a[F.id];z===void 0&&(z={},a[F.id]=z);let k=z[N.id];k===void 0&&(k={},z[N.id]=k);let U=k[B];return U===void 0&&(U=y(d()),k[B]=U),U}function y(F){const N=[],H=[],B=[];for(let z=0;z<r;z++)N[z]=0,H[z]=0,B[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:H,attributeDivisors:B,object:F,attributes:{},index:null}}function x(F,N){const H=c.attributes,B=F.attributes;let z=0;for(const k in B){const U=H[k],$=B[k];if(U===void 0||U.attribute!==$||U.data!==$.data)return!0;z++}return c.attributesNum!==z||c.index!==N}function p(F,N){const H={},B=F.attributes;let z=0;for(const k in B){const U=B[k],$={};$.attribute=U,U.data&&($.data=U.data),H[k]=$,z++}c.attributes=H,c.attributesNum=z,c.index=N}function m(){const F=c.newAttributes;for(let N=0,H=F.length;N<H;N++)F[N]=0}function v(F){w(F,0)}function w(F,N){const H=c.newAttributes,B=c.enabledAttributes,z=c.attributeDivisors;H[F]=1,B[F]===0&&(t.enableVertexAttribArray(F),B[F]=1),z[F]!==N&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,N),z[F]=N)}function _(){const F=c.newAttributes,N=c.enabledAttributes;for(let H=0,B=N.length;H<B;H++)N[H]!==F[H]&&(t.disableVertexAttribArray(H),N[H]=0)}function S(F,N,H,B,z,k){i.isWebGL2===!0&&(H===5124||H===5125)?t.vertexAttribIPointer(F,N,H,z,k):t.vertexAttribPointer(F,N,H,B,z,k)}function M(F,N,H,B){if(i.isWebGL2===!1&&(F.isInstancedMesh||B.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;m();const z=B.attributes,k=H.getAttributes(),U=N.defaultAttributeValues;for(const $ in k){const ee=k[$];if(ee.location>=0){let re=z[$];if(re===void 0&&($==="instanceMatrix"&&F.instanceMatrix&&(re=F.instanceMatrix),$==="instanceColor"&&F.instanceColor&&(re=F.instanceColor)),re!==void 0){const q=re.normalized,J=re.itemSize,j=n.get(re);if(j===void 0)continue;const W=j.buffer,le=j.type,Pe=j.bytesPerElement;if(re.isInterleavedBufferAttribute){const pe=re.data,we=pe.stride,Re=re.offset;if(pe&&pe.isInstancedInterleavedBuffer){for(let K=0;K<ee.locationSize;K++)w(ee.location+K,pe.meshPerAttribute);F.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let K=0;K<ee.locationSize;K++)v(ee.location+K);t.bindBuffer(34962,W);for(let K=0;K<ee.locationSize;K++)S(ee.location+K,J/ee.locationSize,le,q,we*Pe,(Re+J/ee.locationSize*K)*Pe)}else{if(re.isInstancedBufferAttribute){for(let pe=0;pe<ee.locationSize;pe++)w(ee.location+pe,re.meshPerAttribute);F.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let pe=0;pe<ee.locationSize;pe++)v(ee.location+pe);t.bindBuffer(34962,W);for(let pe=0;pe<ee.locationSize;pe++)S(ee.location+pe,J/ee.locationSize,le,q,J*Pe,J/ee.locationSize*pe*Pe)}}else if(U!==void 0){const q=U[$];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(ee.location,q);break;case 3:t.vertexAttrib3fv(ee.location,q);break;case 4:t.vertexAttrib4fv(ee.location,q);break;default:t.vertexAttrib1fv(ee.location,q)}}}}_()}function T(){A();for(const F in a){const N=a[F];for(const H in N){const B=N[H];for(const z in B)f(B[z].object),delete B[z];delete N[H]}delete a[F]}}function P(F){if(a[F.id]===void 0)return;const N=a[F.id];for(const H in N){const B=N[H];for(const z in B)f(B[z].object),delete B[z];delete N[H]}delete a[F.id]}function C(F){for(const N in a){const H=a[N];if(H[F.id]===void 0)continue;const B=H[F.id];for(const z in B)f(B[z].object),delete B[z];delete H[F.id]}}function A(){O(),c!==l&&(c=l,h(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:A,resetDefaultState:O,dispose:T,releaseStatesOfGeometry:P,releaseStatesOfProgram:C,initAttributes:m,enableAttribute:v,disableUnusedAttributes:_}}function j8(t,e,n,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let h,f;if(r)h=t,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](s,c,u,d),n.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function G8(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(M){if(M==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),h=t.getParameter(35660),f=t.getParameter(3379),g=t.getParameter(34076),y=t.getParameter(34921),x=t.getParameter(36347),p=t.getParameter(36348),m=t.getParameter(36349),v=h>0,w=o||e.has("OES_texture_float"),_=v&&w,S=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:x,maxVaryings:p,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:w,floatVertexTextures:_,maxSamples:S}}function W8(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new nr,a=new $t,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){const g=d.length!==0||h||i!==0||r;return r=h,n=u(d,f,0),i=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,h,f){const g=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,p=t.get(d);if(!r||g===null||g.length===0||s&&!x)s?u(null):c();else{const m=s?0:i,v=m*4;let w=p.clippingState||null;l.value=w,w=u(g,h,v,f);for(let _=0;_!==v;++_)w[_]=n[_];p.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=m}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,f,g){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,g!==!0||x===null){const p=f+y*4,m=h.matrixWorldInverse;a.getNormalMatrix(m),(x===null||x.length<p)&&(x=new Float32Array(p));for(let v=0,w=f;v!==y;++v,w+=4)o.copy(d[v]).applyMatrix4(m,a),o.normal.toArray(x,w),x[w+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function $8(t){let e=new WeakMap;function n(o,a){return a===Fu?o.mapping=oa:a===Ou&&(o.mapping=aa),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Fu||a===Ou)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=t.getRenderTarget(),u=new Zp(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),t.setRenderTarget(c),o.addEventListener("dispose",r),n(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class wd extends xd{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}wd.prototype.isOrthographicCamera=!0;class lc extends jr{constructor(e){super(e),this.type="RawShaderMaterial"}}lc.prototype.isRawShaderMaterial=!0;const ml=4,Ds=8,Ki=Math.pow(2,Ds),tL=[.125,.215,.35,.446,.526,.582],nL=Ds-ml+1+tL.length,Ra=20,Gs={[hn]:0,[eo]:1,[Wp]:2,[uw]:3,[dw]:4,[hw]:5,[Gp]:6},kg=new wd,{_lodPlanes:Rc,_sizeLods:VM,_sigmas:Mh}=X8(),HM=new ge;let Fg=null;const wo=(1+Math.sqrt(5))/2,La=1/wo,jM=[new R(1,1,1),new R(-1,1,1),new R(1,1,-1),new R(-1,1,-1),new R(0,wo,La),new R(0,wo,-La),new R(La,0,wo),new R(-La,0,wo),new R(wo,La,0),new R(-wo,La,0)];class iL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Y8(Ra),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Fg=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=$M(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=WM(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Rc.length;e++)Rc[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Fg),e.scissorTest=!1,Sh(e,0,0,e.width,e.height)}_fromTexture(e){Fg=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:Bt,minFilter:Bt,generateMipmaps:!1,type:Vr,format:XP,encoding:q8(e)?e.encoding:Wp,depthBuffer:!1},i=GM(n);return i.depthBuffer=!e,this._pingPongRenderTarget=GM(n),i}_compileMaterial(e){const n=new Ut(Rc[0],e);this._renderer.compile(n,kg)}_sceneToCubeUV(e,n,i,r){const a=new Kt(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.outputEncoding,f=u.toneMapping;u.getClearColor(HM),u.toneMapping=Is,u.outputEncoding=hn,u.autoClear=!1;const g=new Xr({name:"PMREM.Background",side:Lt,depthWrite:!1,depthTest:!1}),y=new Ut(new Hr,g);let x=!1;const p=e.background;p?p.isColor&&(g.color.copy(p),e.background=null,x=!0):(g.color.copy(HM),x=!0);for(let m=0;m<6;m++){const v=m%3;v==0?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):v==1?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m])),Sh(r,v*Ki,m>2?Ki:0,Ki,Ki),u.setRenderTarget(r),x&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=f,u.outputEncoding=h,u.autoClear=d,e.background=p}_setEncoding(e,n){this._renderer.capabilities.isWebGL2===!0&&n.format===cn&&n.type===Vr&&n.encoding===eo?e.value=Gs[hn]:e.value=Gs[n.encoding]}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===oa||e.mapping===aa;r?this._cubemapShader==null&&(this._cubemapShader=$M()):this._equirectShader==null&&(this._equirectShader=WM());const s=r?this._cubemapShader:this._equirectShader,o=new Ut(Rc[0],s),a=s.uniforms;a.envMap.value=e,r||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),this._setEncoding(a.outputEncoding,n.texture),Sh(n,0,0,3*Ki,2*Ki),i.setRenderTarget(n),i.render(o,kg)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<nL;r++){const s=Math.sqrt(Mh[r]*Mh[r]-Mh[r-1]*Mh[r-1]),o=jM[(r-1)%jM.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ut(Rc[r],c),h=c.uniforms,f=VM[i]-1,g=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*Ra-1),y=s/g,x=isFinite(s)?1+Math.floor(u*y):Ra;x>Ra&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ra}`);const p=[];let m=0;for(let S=0;S<Ra;++S){const M=S/y,T=Math.exp(-M*M/2);p.push(T),S==0?m+=T:S<x&&(m+=2*T)}for(let S=0;S<p.length;S++)p[S]=p[S]/m;h.envMap.value=e.texture,h.samples.value=x,h.weights.value=p,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a),h.dTheta.value=g,h.mipInt.value=Ds-i,this._setEncoding(h.inputEncoding,e.texture),this._setEncoding(h.outputEncoding,e.texture);const v=VM[r],w=3*Math.max(0,Ki-2*v),_=(r===0?0:2*Ki)+2*v*(r>Ds-ml?r-Ds+ml:0);Sh(n,w,_,3*v,2*v),l.setRenderTarget(n),l.render(d,kg)}}function q8(t){return t===void 0||t.type!==Vr?!1:t.encoding===hn||t.encoding===eo||t.encoding===Gp}function X8(){const t=[],e=[],n=[];let i=Ds;for(let r=0;r<nL;r++){const s=Math.pow(2,i);e.push(s);let o=1/s;r>Ds-ml?o=tL[r-Ds+ml-1]:r==0&&(o=0),n.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,h=6,f=3,g=2,y=1,x=new Float32Array(f*h*d),p=new Float32Array(g*h*d),m=new Float32Array(y*h*d);for(let w=0;w<d;w++){const _=w%3*2/3-1,S=w>2?0:-1,M=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];x.set(M,f*h*w),p.set(u,g*h*w);const T=[w,w,w,w,w,w];m.set(T,y*h*w)}const v=new Le;v.setAttribute("position",new qe(x,f)),v.setAttribute("uv",new qe(p,g)),v.setAttribute("faceIndex",new qe(m,y)),t.push(v),i>ml&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function GM(t){const e=new Bi(3*Ki,3*Ki,t);return e.texture.mapping=oc,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Sh(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Y8(t){const e=new Float32Array(t),n=new R(0,1,0);return new lc({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Gs[hn]},outputEncoding:{value:Gs[hn]}},vertexShader:gw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${yw()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ir,depthTest:!1,depthWrite:!1})}function WM(){const t=new te(1,1);return new lc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Gs[hn]},outputEncoding:{value:Gs[hn]}},vertexShader:gw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${yw()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ir,depthTest:!1,depthWrite:!1})}function $M(){return new lc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Gs[hn]},outputEncoding:{value:Gs[hn]}},vertexShader:gw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${yw()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ir,depthTest:!1,depthWrite:!1})}function gw(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yw(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function Z8(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,c=l===Fu||l===Ou,u=l===oa||l===aa;if(c||u){if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){const h=t.getRenderTarget();n===null&&(n=new iL(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),t.setRenderTarget(h),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function J8(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function K8(t,e,n,i){const r={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],34962);const f=d.morphAttributes;for(const g in f){const y=f[g];for(let x=0,p=y.length;x<p;x++)e.update(y[x],34962)}}function c(d){const h=[],f=d.index,g=d.attributes.position;let y=0;if(f!==null){const m=f.array;y=f.version;for(let v=0,w=m.length;v<w;v+=3){const _=m[v+0],S=m[v+1],M=m[v+2];h.push(_,S,S,M,M,_)}}else{const m=g.array;y=g.version;for(let v=0,w=m.length/3-1;v<w;v+=3){const _=v+0,S=v+1,M=v+2;h.push(_,S,S,M,M,_)}}const x=new(HR(h)>65535?Xp:qp)(h,1);x.version=y;const p=s.get(d);p&&e.remove(p),s.set(d,x)}function u(d){const h=s.get(d);if(h){const f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Q8(t,e,n,i){const r=i.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,f){t.drawElements(s,f,a,h*l),n.update(f,s,1)}function d(h,f,g){if(g===0)return;let y,x;if(r)y=t,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,f,a,h*l,g),n.update(f,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function e7(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}class Jp extends qt{constructor(e=null,n=1,i=1,r=1){super(null),this.image={data:e,width:n,height:i,depth:r},this.magFilter=Bt,this.minFilter=Bt,this.wrapR=an,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Jp.prototype.isDataTexture2DArray=!0;function t7(t,e){return t[0]-e[0]}function n7(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qM(t,e){let n=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?n=127:i instanceof Int16Array?n=32767:i instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),t.divideScalar(n)}function i7(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new R,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,h){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position.length;let y=s.get(u);if(y===void 0||y.count!==g){y!==void 0&&y.texture.dispose();const m=u.morphAttributes.normal!==void 0,v=u.morphAttributes.position,w=u.morphAttributes.normal||[],_=u.attributes.position.count,S=m===!0?2:1;let M=_*S,T=1;M>e.maxTextureSize&&(T=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const P=new Float32Array(M*T*4*g),C=new Jp(P,M,T,g);C.format=cn,C.type=rr;const A=S*4;for(let O=0;O<g;O++){const F=v[O],N=w[O],H=M*T*4*O;for(let B=0;B<F.count;B++){o.fromBufferAttribute(F,B),F.normalized===!0&&qM(o,F);const z=B*A;P[H+z+0]=o.x,P[H+z+1]=o.y,P[H+z+2]=o.z,P[H+z+3]=0,m===!0&&(o.fromBufferAttribute(N,B),N.normalized===!0&&qM(o,N),P[H+z+4]=o.x,P[H+z+5]=o.y,P[H+z+6]=o.z,P[H+z+7]=0)}}y={count:g,texture:C,size:new te(M,T)},s.set(u,y)}let x=0;for(let m=0;m<f.length;m++)x+=f[m];const p=u.morphTargetsRelative?1:1-x;h.getUniforms().setValue(t,"morphTargetBaseInfluence",p),h.getUniforms().setValue(t,"morphTargetInfluences",f),h.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=f===void 0?0:f.length;let y=i[u.id];if(y===void 0||y.length!==g){y=[];for(let w=0;w<g;w++)y[w]=[w,0];i[u.id]=y}for(let w=0;w<g;w++){const _=y[w];_[0]=w,_[1]=f[w]}y.sort(n7);for(let w=0;w<8;w++)w<g&&y[w][1]?(a[w][0]=y[w][0],a[w][1]=y[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(t7);const x=u.morphAttributes.position,p=u.morphAttributes.normal;let m=0;for(let w=0;w<8;w++){const _=a[w],S=_[0],M=_[1];S!==Number.MAX_SAFE_INTEGER&&M?(x&&u.getAttribute("morphTarget"+w)!==x[S]&&u.setAttribute("morphTarget"+w,x[S]),p&&u.getAttribute("morphNormal"+w)!==p[S]&&u.setAttribute("morphNormal"+w,p[S]),r[w]=M,m+=M):(x&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),p&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),r[w]=0)}const v=u.morphTargetsRelative?1:1-m;h.getUniforms().setValue(t,"morphTargetBaseInfluence",v),h.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function r7(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class xw extends qt{constructor(e=null,n=1,i=1,r=1){super(null),this.image={data:e,width:n,height:i,depth:r},this.magFilter=Bt,this.minFilter=Bt,this.wrapR=an,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}xw.prototype.isDataTexture3D=!0;const rL=new qt,s7=new Jp,o7=new xw,sL=new ac,XM=[],YM=[],ZM=new Float32Array(16),JM=new Float32Array(9),KM=new Float32Array(4);function cc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=XM[r];if(s===void 0&&(s=new Float32Array(r),XM[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Pn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function bn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function oL(t,e){let n=YM[e];n===void 0&&(n=new Int32Array(e),YM[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function a7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function l7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pn(n,e))return;t.uniform2fv(this.addr,e),bn(n,e)}}function c7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Pn(n,e))return;t.uniform3fv(this.addr,e),bn(n,e)}}function u7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pn(n,e))return;t.uniform4fv(this.addr,e),bn(n,e)}}function d7(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Pn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),bn(n,e)}else{if(Pn(n,i))return;KM.set(i),t.uniformMatrix2fv(this.addr,!1,KM),bn(n,i)}}function h7(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Pn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),bn(n,e)}else{if(Pn(n,i))return;JM.set(i),t.uniformMatrix3fv(this.addr,!1,JM),bn(n,i)}}function f7(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Pn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),bn(n,e)}else{if(Pn(n,i))return;ZM.set(i),t.uniformMatrix4fv(this.addr,!1,ZM),bn(n,i)}}function p7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function m7(t,e){const n=this.cache;Pn(n,e)||(t.uniform2iv(this.addr,e),bn(n,e))}function g7(t,e){const n=this.cache;Pn(n,e)||(t.uniform3iv(this.addr,e),bn(n,e))}function y7(t,e){const n=this.cache;Pn(n,e)||(t.uniform4iv(this.addr,e),bn(n,e))}function x7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function v7(t,e){const n=this.cache;Pn(n,e)||(t.uniform2uiv(this.addr,e),bn(n,e))}function w7(t,e){const n=this.cache;Pn(n,e)||(t.uniform3uiv(this.addr,e),bn(n,e))}function b7(t,e){const n=this.cache;Pn(n,e)||(t.uniform4uiv(this.addr,e),bn(n,e))}function _7(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||rL,r)}function M7(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||o7,r)}function S7(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||sL,r)}function E7(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||s7,r)}function T7(t){switch(t){case 5126:return a7;case 35664:return l7;case 35665:return c7;case 35666:return u7;case 35674:return d7;case 35675:return h7;case 35676:return f7;case 5124:case 35670:return p7;case 35667:case 35671:return m7;case 35668:case 35672:return g7;case 35669:case 35673:return y7;case 5125:return x7;case 36294:return v7;case 36295:return w7;case 36296:return b7;case 35678:case 36198:case 36298:case 36306:case 35682:return _7;case 35679:case 36299:case 36307:return M7;case 35680:case 36300:case 36308:case 36293:return S7;case 36289:case 36303:case 36311:case 36292:return E7}}function C7(t,e){t.uniform1fv(this.addr,e)}function A7(t,e){const n=cc(e,this.size,2);t.uniform2fv(this.addr,n)}function P7(t,e){const n=cc(e,this.size,3);t.uniform3fv(this.addr,n)}function R7(t,e){const n=cc(e,this.size,4);t.uniform4fv(this.addr,n)}function L7(t,e){const n=cc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function N7(t,e){const n=cc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function I7(t,e){const n=cc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function D7(t,e){t.uniform1iv(this.addr,e)}function k7(t,e){t.uniform2iv(this.addr,e)}function F7(t,e){t.uniform3iv(this.addr,e)}function O7(t,e){t.uniform4iv(this.addr,e)}function z7(t,e){t.uniform1uiv(this.addr,e)}function B7(t,e){t.uniform2uiv(this.addr,e)}function U7(t,e){t.uniform3uiv(this.addr,e)}function V7(t,e){t.uniform4uiv(this.addr,e)}function H7(t,e,n){const i=e.length,r=oL(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(e[s]||rL,r[s])}function j7(t,e,n){const i=e.length,r=oL(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(e[s]||sL,r[s])}function G7(t){switch(t){case 5126:return C7;case 35664:return A7;case 35665:return P7;case 35666:return R7;case 35674:return L7;case 35675:return N7;case 35676:return I7;case 5124:case 35670:return D7;case 35667:case 35671:return k7;case 35668:case 35672:return F7;case 35669:case 35673:return O7;case 5125:return z7;case 36294:return B7;case 36295:return U7;case 36296:return V7;case 35678:case 36198:case 36298:case 36306:case 35682:return H7;case 35680:case 36300:case 36308:case 36293:return j7}}function W7(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=T7(e.type)}function aL(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=G7(e.type)}aL.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),bn(e,t)};function lL(t){this.id=t,this.seq=[],this.map={}}lL.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const Og=/(\w+)(\])?(\[|\.)?/g;function QM(t,e){t.seq.push(e),t.map[e.id]=e}function $7(t,e,n){const i=t.name,r=i.length;for(Og.lastIndex=0;;){const s=Og.exec(i),o=Og.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){QM(n,c===void 0?new W7(a,t,e):new aL(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new lL(a),QM(n,d)),n=d}}}function ks(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const r=t.getActiveUniform(e,i),s=t.getUniformLocation(e,r.name);$7(r,s,this)}}ks.prototype.setValue=function(t,e,n,i){const r=this.map[e];r!==void 0&&r.setValue(t,n,i)};ks.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};ks.upload=function(t,e,n,i){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=n[o.id];a.needsUpdate!==!1&&o.setValue(t,a.value,i)}};ks.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.id in e&&n.push(s)}return n};function eS(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let q7=0;function X7(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function cL(t){switch(t){case hn:return["Linear","( value )"];case eo:return["sRGB","( value )"];case Wp:return["RGBE","( value )"];case uw:return["RGBM","( value, 7.0 )"];case dw:return["RGBM","( value, 16.0 )"];case hw:return["RGBD","( value, 256.0 )"];case Gp:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case kR:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function tS(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&r===""?"":n.toUpperCase()+`

`+r+`

`+X7(t.getShaderSource(e))}function ho(t,e){const n=cL(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Y7(t,e){const n=cL(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Z7(t,e){let n;switch(e){case DP:n="Linear";break;case kP:n="Reinhard";break;case FP:n="OptimizedCineon";break;case OP:n="ACESFilmic";break;case zP:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function J7(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hc).join(`
`)}function K7(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Q7(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Hc(t){return t!==""}function nS(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const e9=/^[ \t]*#include +<([\w\d./]+)>/gm;function ex(t){return t.replace(e9,t9)}function t9(t,e){const n=Ue[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return ex(n)}const n9=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,i9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rS(t){return t.replace(i9,uL).replace(n9,r9)}function r9(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uL(t,e,n,i)}function uL(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function sS(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function s9(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===rw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===hP?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===el&&(e="SHADOWMAP_TYPE_VSM"),e}function o9(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case oa:case aa:e="ENVMAP_TYPE_CUBE";break;case oc:case gd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function a9(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case aa:case gd:e="ENVMAP_MODE_REFRACTION";break}return e}function l9(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case md:e="ENVMAP_BLENDING_MULTIPLY";break;case NP:e="ENVMAP_BLENDING_MIX";break;case IP:e="ENVMAP_BLENDING_ADD";break}return e}function c9(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=s9(n),c=o9(n),u=a9(n),d=l9(n),h=t.gammaFactor>0?t.gammaFactor:1,f=n.isWebGL2?"":J7(n),g=K7(s),y=r.createProgram();let x,p,m=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=[g].filter(Hc).join(`
`),x.length>0&&(x+=`
`),p=[f,g].filter(Hc).join(`
`),p.length>0&&(p+=`
`)):(x=[sS(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hc).join(`
`),p=[f,sS(n),"#define SHADER_NAME "+n.shaderName,g,"#define GAMMA_FACTOR "+h,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Is?"#define TONE_MAPPING":"",n.toneMapping!==Is?Ue.tonemapping_pars_fragment:"",n.toneMapping!==Is?Z7("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===Uo?"#define OPAQUE":"",Ue.encodings_pars_fragment,n.map?ho("mapTexelToLinear",n.mapEncoding):"",n.matcap?ho("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ho("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ho("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?ho("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?ho("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?ho("lightMapTexelToLinear",n.lightMapEncoding):"",Y7("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Hc).join(`
`)),o=ex(o),o=nS(o,n),o=iS(o,n),a=ex(a),a=nS(a,n),a=iS(a,n),o=rS(o),a=rS(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,p=["#define varying in",n.glslVersion===Ky?"":"out highp vec4 pc_fragColor;",n.glslVersion===Ky?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const v=m+x+o,w=m+p+a,_=eS(r,35633,v),S=eS(r,35632,w);if(r.attachShader(y,_),r.attachShader(y,S),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),t.debug.checkShaderErrors){const P=r.getProgramInfoLog(y).trim(),C=r.getShaderInfoLog(_).trim(),A=r.getShaderInfoLog(S).trim();let O=!0,F=!0;if(r.getProgramParameter(y,35714)===!1){O=!1;const N=tS(r,_,"vertex"),H=tS(r,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+P+`
`+N+`
`+H)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(C===""||A==="")&&(F=!1);F&&(this.diagnostics={runnable:O,programLog:P,vertexShader:{log:C,prefix:x},fragmentShader:{log:A,prefix:p}})}r.deleteShader(_),r.deleteShader(S);let M;this.getUniforms=function(){return M===void 0&&(M=new ks(r,y)),M};let T;return this.getAttributes=function(){return T===void 0&&(T=Q7(r,y)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=q7++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=S,this}function u9(t,e,n,i,r,s,o){const a=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,u=r.floatVertexTextures,d=r.maxVertexUniforms,h=r.vertexTextures;let f=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},y=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function x(M){const P=M.skeleton.bones;if(u)return 1024;{const A=Math.floor((d-20)/4),O=Math.min(A,P.length);return O<P.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+P.length+" bones. This GPU supports "+O+"."),0):O}}function p(M){let T;return M&&M.isTexture?T=M.encoding:M&&M.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),T=M.texture.encoding):T=hn,l&&M&&M.isTexture&&M.format===cn&&M.type===Vr&&M.encoding===eo&&(T=hn),T}function m(M,T,P,C,A){const O=C.fog,F=M.isMeshStandardMaterial?C.environment:null,N=(M.isMeshStandardMaterial?n:e).get(M.envMap||F),H=g[M.type],B=A.isSkinnedMesh?x(A):0;M.precision!==null&&(f=r.getMaxPrecision(M.precision),f!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",f,"instead."));let z,k;if(H){const q=Ii[H];z=q.vertexShader,k=q.fragmentShader}else z=M.vertexShader,k=M.fragmentShader;const U=t.getRenderTarget(),$=M.alphaTest>0,ee=M.clearcoat>0;return{isWebGL2:l,shaderID:H,shaderName:M.type,vertexShader:z,fragmentShader:k,defines:M.defines,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:f,instancing:A.isInstancedMesh===!0,instancingColor:A.isInstancedMesh===!0&&A.instanceColor!==null,supportsVertexTextures:h,outputEncoding:U!==null?p(U.texture):t.outputEncoding,map:!!M.map,mapEncoding:p(M.map),matcap:!!M.matcap,matcapEncoding:p(M.matcap),envMap:!!N,envMapMode:N&&N.mapping,envMapEncoding:p(N),envMapCubeUV:!!N&&(N.mapping===oc||N.mapping===gd),lightMap:!!M.lightMap,lightMapEncoding:p(M.lightMap),aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,emissiveMapEncoding:p(M.emissiveMap),bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===zR,tangentSpaceNormalMap:M.normalMapType===ca,clearcoat:ee,clearcoatMap:ee&&!!M.clearcoatMap,clearcoatRoughnessMap:ee&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:ee&&!!M.clearcoatNormalMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,specularColorMapEncoding:p(M.specularColorMap),alphaMap:!!M.alphaMap,alphaTest:$,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenColorMapEncoding:p(M.sheenColorMap),sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!A.geometry&&!!A.geometry.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!A.geometry&&!!A.geometry.attributes.color&&A.geometry.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||!!M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!O,useFog:M.fog,fogExp2:O&&O.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:c,skinning:A.isSkinnedMesh===!0&&B>0,maxBones:B,useVertexTexture:u,morphTargets:!!A.geometry&&!!A.geometry.morphAttributes.position,morphNormals:!!A.geometry&&!!A.geometry.morphAttributes.normal,morphTargetsCount:A.geometry&&A.geometry.morphAttributes.position?A.geometry.morphAttributes.position.length:0,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:M.format,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:M.toneMapped?t.toneMapping:Is,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Jo,flipSided:M.side===Lt,depthPacking:M.depthPacking!==void 0?M.depthPacking:!1,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function v(M){const T=[];if(M.shaderID?T.push(M.shaderID):(T.push(PM(M.fragmentShader)),T.push(PM(M.vertexShader))),M.defines!==void 0)for(const P in M.defines)T.push(P),T.push(M.defines[P]);if(M.isRawShaderMaterial===!1){for(let P=0;P<y.length;P++)T.push(M[y[P]]);T.push(t.outputEncoding),T.push(t.gammaFactor)}return T.push(M.customProgramCacheKey),T.join()}function w(M){const T=g[M.type];let P;if(T){const C=Ii[T];P=QR.clone(C.uniforms)}else P=M.uniforms;return P}function _(M,T){let P;for(let C=0,A=a.length;C<A;C++){const O=a[C];if(O.cacheKey===T){P=O,++P.usedTimes;break}}return P===void 0&&(P=new c9(t,T,M,s),a.push(P)),P}function S(M){if(--M.usedTimes===0){const T=a.indexOf(M);a[T]=a[a.length-1],a.pop(),M.destroy()}}return{getParameters:m,getProgramCacheKey:v,getUniforms:w,acquireProgram:_,releaseProgram:S,programs:a}}function d9(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function h9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function oS(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function aS(t){const e=[];let n=0;const i=[],r=[],s=[],o={id:-1};function a(){n=0,i.length=0,r.length=0,s.length=0}function l(f,g,y,x,p,m){let v=e[n];const w=t.get(y);return v===void 0?(v={id:f.id,object:f,geometry:g,material:y,program:w.program||o,groupOrder:x,renderOrder:f.renderOrder,z:p,group:m},e[n]=v):(v.id=f.id,v.object=f,v.geometry=g,v.material=y,v.program=w.program||o,v.groupOrder=x,v.renderOrder=f.renderOrder,v.z=p,v.group=m),n++,v}function c(f,g,y,x,p,m){const v=l(f,g,y,x,p,m);y.transmission>0?r.push(v):y.transparent===!0?s.push(v):i.push(v)}function u(f,g,y,x,p,m){const v=l(f,g,y,x,p,m);y.transmission>0?r.unshift(v):y.transparent===!0?s.unshift(v):i.unshift(v)}function d(f,g){i.length>1&&i.sort(f||h9),r.length>1&&r.sort(g||oS),s.length>1&&s.sort(g||oS)}function h(){for(let f=n,g=e.length;f<g;f++){const y=e[f];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.program=null,y.group=null}}return{opaque:i,transmissive:r,transparent:s,init:a,push:c,unshift:u,finish:h,sort:d}}function f9(t){let e=new WeakMap;function n(r,s){let o;return e.has(r)===!1?(o=new aS(t),e.set(r,[o])):s>=e.get(r).length?(o=new aS(t),e.get(r).push(o)):o=e.get(r)[s],o}function i(){e=new WeakMap}return{get:n,dispose:i}}function p9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new R,color:new ge};break;case"SpotLight":n={position:new R,direction:new R,color:new ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new R,color:new ge,distance:0,decay:0};break;case"HemisphereLight":n={direction:new R,skyColor:new ge,groundColor:new ge};break;case"RectAreaLight":n={color:new ge,position:new R,halfWidth:new R,halfHeight:new R};break}return t[e.id]=n,n}}}function m9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new te};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new te};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new te,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let g9=0;function y9(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function x9(t,e){const n=new p9,i=m9(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new R);const s=new R,o=new Te,a=new Te;function l(u,d){let h=0,f=0,g=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let y=0,x=0,p=0,m=0,v=0,w=0,_=0,S=0;u.sort(y9);const M=d!==!0?Math.PI:1;for(let P=0,C=u.length;P<C;P++){const A=u[P],O=A.color,F=A.intensity,N=A.distance,H=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)h+=O.r*F*M,f+=O.g*F*M,g+=O.b*F*M;else if(A.isLightProbe)for(let B=0;B<9;B++)r.probe[B].addScaledVector(A.sh.coefficients[B],F);else if(A.isDirectionalLight){const B=n.get(A);if(B.color.copy(A.color).multiplyScalar(A.intensity*M),A.castShadow){const z=A.shadow,k=i.get(A);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,r.directionalShadow[y]=k,r.directionalShadowMap[y]=H,r.directionalShadowMatrix[y]=A.shadow.matrix,w++}r.directional[y]=B,y++}else if(A.isSpotLight){const B=n.get(A);if(B.position.setFromMatrixPosition(A.matrixWorld),B.color.copy(O).multiplyScalar(F*M),B.distance=N,B.coneCos=Math.cos(A.angle),B.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),B.decay=A.decay,A.castShadow){const z=A.shadow,k=i.get(A);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,r.spotShadow[p]=k,r.spotShadowMap[p]=H,r.spotShadowMatrix[p]=A.shadow.matrix,S++}r.spot[p]=B,p++}else if(A.isRectAreaLight){const B=n.get(A);B.color.copy(O).multiplyScalar(F),B.halfWidth.set(A.width*.5,0,0),B.halfHeight.set(0,A.height*.5,0),r.rectArea[m]=B,m++}else if(A.isPointLight){const B=n.get(A);if(B.color.copy(A.color).multiplyScalar(A.intensity*M),B.distance=A.distance,B.decay=A.decay,A.castShadow){const z=A.shadow,k=i.get(A);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,k.shadowCameraNear=z.camera.near,k.shadowCameraFar=z.camera.far,r.pointShadow[x]=k,r.pointShadowMap[x]=H,r.pointShadowMatrix[x]=A.shadow.matrix,_++}r.point[x]=B,x++}else if(A.isHemisphereLight){const B=n.get(A);B.skyColor.copy(A.color).multiplyScalar(F*M),B.groundColor.copy(A.groundColor).multiplyScalar(F*M),r.hemi[v]=B,v++}}m>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=he.LTC_FLOAT_1,r.rectAreaLTC2=he.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=he.LTC_HALF_1,r.rectAreaLTC2=he.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=g;const T=r.hash;(T.directionalLength!==y||T.pointLength!==x||T.spotLength!==p||T.rectAreaLength!==m||T.hemiLength!==v||T.numDirectionalShadows!==w||T.numPointShadows!==_||T.numSpotShadows!==S)&&(r.directional.length=y,r.spot.length=p,r.rectArea.length=m,r.point.length=x,r.hemi.length=v,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=_,r.spotShadowMatrix.length=S,T.directionalLength=y,T.pointLength=x,T.spotLength=p,T.rectAreaLength=m,T.hemiLength=v,T.numDirectionalShadows=w,T.numPointShadows=_,T.numSpotShadows=S,r.version=g9++)}function c(u,d){let h=0,f=0,g=0,y=0,x=0;const p=d.matrixWorldInverse;for(let m=0,v=u.length;m<v;m++){const w=u[m];if(w.isDirectionalLight){const _=r.directional[h];_.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(p),h++}else if(w.isSpotLight){const _=r.spot[g];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(p),_.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(p),g++}else if(w.isRectAreaLight){const _=r.rectArea[y];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(p),a.identity(),o.copy(w.matrixWorld),o.premultiply(p),a.extractRotation(o),_.halfWidth.set(w.width*.5,0,0),_.halfHeight.set(0,w.height*.5,0),_.halfWidth.applyMatrix4(a),_.halfHeight.applyMatrix4(a),y++}else if(w.isPointLight){const _=r.point[f];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(p),f++}else if(w.isHemisphereLight){const _=r.hemi[x];_.direction.setFromMatrixPosition(w.matrixWorld),_.direction.transformDirection(p),_.direction.normalize(),x++}}}return{setup:l,setupView:c,state:r}}function lS(t,e){const n=new x9(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function v9(t,e){let n=new WeakMap;function i(s,o=0){let a;return n.has(s)===!1?(a=new lS(t,e),n.set(s,[a])):o>=n.get(s).length?(a=new lS(t,e),n.get(s).push(a)):a=n.get(s)[o],a}function r(){n=new WeakMap}return{get:i,dispose:r}}class Kp extends tn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=FR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Kp.prototype.isMeshDepthMaterial=!0;class Qp extends tn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new R,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Qp.prototype.isMeshDistanceMaterial=!0;const w9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,b9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dL(t,e,n){let i=new vd;const r=new te,s=new te,o=new nt,a=new Kp({depthPacking:OR}),l=new Qp,c={},u=n.maxTextureSize,d={0:Lt,1:Zo,2:Jo},h=new jr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new te},radius:{value:4}},vertexShader:w9,fragmentShader:b9}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const g=new Le;g.setAttribute("position",new qe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ut(g,h),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rw,this.render=function(w,_,S){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;const M=t.getRenderTarget(),T=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),C=t.state;C.setBlending(Ir),C.buffers.color.setClear(1,1,1,1),C.buffers.depth.setTest(!0),C.setScissorTest(!1);for(let A=0,O=w.length;A<O;A++){const F=w[A],N=F.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const H=N.getFrameExtents();if(r.multiply(H),s.copy(N.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/H.x),r.x=s.x*H.x,N.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/H.y),r.y=s.y*H.y,N.mapSize.y=s.y)),N.map===null&&!N.isPointLightShadow&&this.type===el){const z={minFilter:Wt,magFilter:Wt,format:cn};N.map=new Bi(r.x,r.y,z),N.map.texture.name=F.name+".shadowMap",N.mapPass=new Bi(r.x,r.y,z),N.camera.updateProjectionMatrix()}if(N.map===null){const z={minFilter:Bt,magFilter:Bt,format:cn};N.map=new Bi(r.x,r.y,z),N.map.texture.name=F.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const B=N.getViewportCount();for(let z=0;z<B;z++){const k=N.getViewport(z);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),C.viewport(o),N.updateMatrices(F,z),i=N.getFrustum(),v(_,S,N.camera,F,this.type)}!N.isPointLightShadow&&this.type===el&&p(N,S),N.needsUpdate=!1}x.needsUpdate=!1,t.setRenderTarget(M,T,P)};function p(w,_){const S=e.update(y);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,f.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(_,null,S,h,y,null),f.uniforms.shadow_pass.value=w.mapPass.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(_,null,S,f,y,null)}function m(w,_,S,M,T,P,C){let A=null;const O=M.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(O!==void 0?A=O:A=M.isPointLight===!0?l:a,t.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){const F=A.uuid,N=S.uuid;let H=c[F];H===void 0&&(H={},c[F]=H);let B=H[N];B===void 0&&(B=A.clone(),H[N]=B),A=B}return A.visible=S.visible,A.wireframe=S.wireframe,C===el?A.side=S.shadowSide!==null?S.shadowSide:S.side:A.side=S.shadowSide!==null?S.shadowSide:d[S.side],A.alphaMap=S.alphaMap,A.alphaTest=S.alphaTest,A.clipShadows=S.clipShadows,A.clippingPlanes=S.clippingPlanes,A.clipIntersection=S.clipIntersection,A.displacementMap=S.displacementMap,A.displacementScale=S.displacementScale,A.displacementBias=S.displacementBias,A.wireframeLinewidth=S.wireframeLinewidth,A.linewidth=S.linewidth,M.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(M.matrixWorld),A.nearDistance=T,A.farDistance=P),A}function v(w,_,S,M,T){if(w.visible===!1)return;if(w.layers.test(_.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&T===el)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,w.matrixWorld);const A=e.update(w),O=w.material;if(Array.isArray(O)){const F=A.groups;for(let N=0,H=F.length;N<H;N++){const B=F[N],z=O[B.materialIndex];if(z&&z.visible){const k=m(w,A,z,M,S.near,S.far,T);t.renderBufferDirect(S,null,A,k,w,B)}}}else if(O.visible){const F=m(w,A,O,M,S.near,S.far,T);t.renderBufferDirect(S,null,A,F,w,null)}}const C=w.children;for(let A=0,O=C.length;A<O;A++)v(C[A],_,S,M,T)}}function _9(t,e,n){const i=n.isWebGL2;function r(){let V=!1;const me=new nt;let ne=null;const _e=new nt(0,0,0,0);return{setMask:function(Ee){ne!==Ee&&!V&&(t.colorMask(Ee,Ee,Ee,Ee),ne=Ee)},setLocked:function(Ee){V=Ee},setClear:function(Ee,Be,kt,gt,mi){mi===!0&&(Ee*=gt,Be*=gt,kt*=gt),me.set(Ee,Be,kt,gt),_e.equals(me)===!1&&(t.clearColor(Ee,Be,kt,gt),_e.copy(me))},reset:function(){V=!1,ne=null,_e.set(-1,0,0,0)}}}function s(){let V=!1,me=null,ne=null,_e=null;return{setTest:function(Ee){Ee?J(2929):j(2929)},setMask:function(Ee){me!==Ee&&!V&&(t.depthMask(Ee),me=Ee)},setFunc:function(Ee){if(ne!==Ee){if(Ee)switch(Ee){case EP:t.depthFunc(512);break;case TP:t.depthFunc(519);break;case CP:t.depthFunc(513);break;case rp:t.depthFunc(515);break;case AP:t.depthFunc(514);break;case PP:t.depthFunc(518);break;case RP:t.depthFunc(516);break;case LP:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);ne=Ee}},setLocked:function(Ee){V=Ee},setClear:function(Ee){_e!==Ee&&(t.clearDepth(Ee),_e=Ee)},reset:function(){V=!1,me=null,ne=null,_e=null}}}function o(){let V=!1,me=null,ne=null,_e=null,Ee=null,Be=null,kt=null,gt=null,mi=null;return{setTest:function(ot){V||(ot?J(2960):j(2960))},setMask:function(ot){me!==ot&&!V&&(t.stencilMask(ot),me=ot)},setFunc:function(ot,gi,Gn){(ne!==ot||_e!==gi||Ee!==Gn)&&(t.stencilFunc(ot,gi,Gn),ne=ot,_e=gi,Ee=Gn)},setOp:function(ot,gi,Gn){(Be!==ot||kt!==gi||gt!==Gn)&&(t.stencilOp(ot,gi,Gn),Be=ot,kt=gi,gt=Gn)},setLocked:function(ot){V=ot},setClear:function(ot){mi!==ot&&(t.clearStencil(ot),mi=ot)},reset:function(){V=!1,me=null,ne=null,_e=null,Ee=null,Be=null,kt=null,gt=null,mi=null}}}const a=new r,l=new s,c=new o;let u={},d=null,h={},f=null,g=!1,y=null,x=null,p=null,m=null,v=null,w=null,_=null,S=!1,M=null,T=null,P=null,C=null,A=null;const O=t.getParameter(35661);let F=!1,N=0;const H=t.getParameter(7938);H.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL (\d)/.exec(H)[1]),F=N>=1):H.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),F=N>=2);let B=null,z={};const k=t.getParameter(3088),U=t.getParameter(2978),$=new nt().fromArray(k),ee=new nt().fromArray(U);function re(V,me,ne){const _e=new Uint8Array(4),Ee=t.createTexture();t.bindTexture(V,Ee),t.texParameteri(V,10241,9728),t.texParameteri(V,10240,9728);for(let Be=0;Be<ne;Be++)t.texImage2D(me+Be,0,6408,1,1,0,6408,5121,_e);return Ee}const q={};q[3553]=re(3553,3553,1),q[34067]=re(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),J(2929),l.setFunc(rp),se(!1),ue(Fy),J(2884),Re(Ir);function J(V){u[V]!==!0&&(t.enable(V),u[V]=!0)}function j(V){u[V]!==!1&&(t.disable(V),u[V]=!1)}function W(V){V!==d&&(t.bindFramebuffer(36160,V),d=V)}function le(V,me){return me===null&&d!==null&&(me=d),h[V]!==me?(t.bindFramebuffer(V,me),h[V]=me,i&&(V===36009&&(h[36160]=me),V===36160&&(h[36009]=me)),!0):!1}function Pe(V){return f!==V?(t.useProgram(V),f=V,!0):!1}const pe={[bo]:32774,[pP]:32778,[mP]:32779};if(i)pe[Uy]=32775,pe[Vy]=32776;else{const V=e.get("EXT_blend_minmax");V!==null&&(pe[Uy]=V.MIN_EXT,pe[Vy]=V.MAX_EXT)}const we={[gP]:0,[yP]:1,[xP]:768,[ow]:770,[SP]:776,[_P]:774,[wP]:772,[vP]:769,[aw]:771,[MP]:775,[bP]:773};function Re(V,me,ne,_e,Ee,Be,kt,gt){if(V===Ir){g===!0&&(j(3042),g=!1);return}if(g===!1&&(J(3042),g=!0),V!==fP){if(V!==y||gt!==S){if((x!==bo||v!==bo)&&(t.blendEquation(32774),x=bo,v=bo),gt)switch(V){case fl:t.blendFuncSeparate(1,771,1,771);break;case Oy:t.blendFunc(1,1);break;case zy:t.blendFuncSeparate(0,0,769,771);break;case By:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case fl:t.blendFuncSeparate(770,771,1,771);break;case Oy:t.blendFunc(770,1);break;case zy:t.blendFunc(0,769);break;case By:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}p=null,m=null,w=null,_=null,y=V,S=gt}return}Ee=Ee||me,Be=Be||ne,kt=kt||_e,(me!==x||Ee!==v)&&(t.blendEquationSeparate(pe[me],pe[Ee]),x=me,v=Ee),(ne!==p||_e!==m||Be!==w||kt!==_)&&(t.blendFuncSeparate(we[ne],we[_e],we[Be],we[kt]),p=ne,m=_e,w=Be,_=kt),y=V,S=null}function K(V,me){V.side===Jo?j(2884):J(2884);let ne=V.side===Lt;me&&(ne=!ne),se(ne),V.blending===fl&&V.transparent===!1?Re(Ir):Re(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),l.setFunc(V.depthFunc),l.setTest(V.depthTest),l.setMask(V.depthWrite),a.setMask(V.colorWrite);const _e=V.stencilWrite;c.setTest(_e),_e&&(c.setMask(V.stencilWriteMask),c.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),c.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),fe(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?J(32926):j(32926)}function se(V){M!==V&&(V?t.frontFace(2304):t.frontFace(2305),M=V)}function ue(V){V!==uP?(J(2884),V!==T&&(V===Fy?t.cullFace(1029):V===dP?t.cullFace(1028):t.cullFace(1032))):j(2884),T=V}function Se(V){V!==P&&(F&&t.lineWidth(V),P=V)}function fe(V,me,ne){V?(J(32823),(C!==me||A!==ne)&&(t.polygonOffset(me,ne),C=me,A=ne)):j(32823)}function D(V){V?J(3089):j(3089)}function L(V){V===void 0&&(V=33984+O-1),B!==V&&(t.activeTexture(V),B=V)}function Y(V,me){B===null&&L();let ne=z[B];ne===void 0&&(ne={type:void 0,texture:void 0},z[B]=ne),(ne.type!==V||ne.texture!==me)&&(t.bindTexture(V,me||q[V]),ne.type=V,ne.texture=me)}function ce(){const V=z[B];V!==void 0&&V.type!==void 0&&(t.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function ae(){try{t.compressedTexImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function xe(){try{t.texImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(){try{t.texImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ce(V){$.equals(V)===!1&&(t.scissor(V.x,V.y,V.z,V.w),$.copy(V))}function Ie(V){ee.equals(V)===!1&&(t.viewport(V.x,V.y,V.z,V.w),ee.copy(V))}function ye(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},B=null,z={},d=null,h={},f=null,g=!1,y=null,x=null,p=null,m=null,v=null,w=null,_=null,S=!1,M=null,T=null,P=null,C=null,A=null,$.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:J,disable:j,bindFramebuffer:le,bindXRFramebuffer:W,useProgram:Pe,setBlending:Re,setMaterial:K,setFlipSided:se,setCullFace:ue,setLineWidth:Se,setPolygonOffset:fe,setScissorTest:D,activeTexture:L,bindTexture:Y,unbindTexture:ce,compressedTexImage2D:ae,texImage2D:xe,texImage3D:Ae,scissor:Ce,viewport:Ie,reset:ye}}function M9(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=new WeakMap;let f,g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(D,L){return g?new OffscreenCanvas(D,L):$p("canvas")}function x(D,L,Y,ce){let ae=1;if((D.width>ce||D.height>ce)&&(ae=ce/Math.max(D.width,D.height)),ae<1||L===!0)if(typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&D instanceof ImageBitmap){const xe=L?VR:Math.floor,Ae=xe(ae*D.width),Ce=xe(ae*D.height);f===void 0&&(f=y(Ae,Ce));const Ie=Y?y(Ae,Ce):f;return Ie.width=Ae,Ie.height=Ce,Ie.getContext("2d").drawImage(D,0,0,Ae,Ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+D.width+"x"+D.height+") to ("+Ae+"x"+Ce+")."),Ie}else return"data"in D&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+D.width+"x"+D.height+")."),D;return D}function p(D){return Qy(D.width)&&Qy(D.height)}function m(D){return a?!1:D.wrapS!==an||D.wrapT!==an||D.minFilter!==Bt&&D.minFilter!==Wt}function v(D,L){return D.generateMipmaps&&L&&D.minFilter!==Bt&&D.minFilter!==Wt}function w(D,L,Y,ce,ae=1){t.generateMipmap(D);const xe=i.get(L);xe.__maxMipLevel=Math.log2(Math.max(Y,ce,ae))}function _(D,L,Y,ce){if(a===!1)return L;if(D!==null){if(t[D]!==void 0)return t[D];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+D+"'")}let ae=L;return L===6403&&(Y===5126&&(ae=33326),Y===5131&&(ae=33325),Y===5121&&(ae=33321)),L===6407&&(Y===5126&&(ae=34837),Y===5131&&(ae=34843),Y===5121&&(ae=32849)),L===6408&&(Y===5126&&(ae=34836),Y===5131&&(ae=34842),Y===5121&&(ae=ce===eo?35907:32856)),(ae===33325||ae===33326||ae===34842||ae===34836)&&e.get("EXT_color_buffer_float"),ae}function S(D){return D===Bt||D===sp||D===op?9728:9729}function M(D){const L=D.target;L.removeEventListener("dispose",M),P(L),L.isVideoTexture&&h.delete(L),o.memory.textures--}function T(D){const L=D.target;L.removeEventListener("dispose",T),C(L)}function P(D){const L=i.get(D);L.__webglInit!==void 0&&(t.deleteTexture(L.__webglTexture),i.remove(D))}function C(D){const L=D.texture,Y=i.get(D),ce=i.get(L);if(D){if(ce.__webglTexture!==void 0&&(t.deleteTexture(ce.__webglTexture),o.memory.textures--),D.depthTexture&&D.depthTexture.dispose(),D.isWebGLCubeRenderTarget)for(let ae=0;ae<6;ae++)t.deleteFramebuffer(Y.__webglFramebuffer[ae]),Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer[ae]);else t.deleteFramebuffer(Y.__webglFramebuffer),Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer&&t.deleteRenderbuffer(Y.__webglColorRenderbuffer),Y.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Y.__webglDepthRenderbuffer);if(D.isWebGLMultipleRenderTargets)for(let ae=0,xe=L.length;ae<xe;ae++){const Ae=i.get(L[ae]);Ae.__webglTexture&&(t.deleteTexture(Ae.__webglTexture),o.memory.textures--),i.remove(L[ae])}i.remove(L),i.remove(D)}}let A=0;function O(){A=0}function F(){const D=A;return D>=l&&console.warn("THREE.WebGLTextures: Trying to use "+D+" texture units while this GPU supports only "+l),A+=1,D}function N(D,L){const Y=i.get(D);if(D.isVideoTexture&&K(D),D.version>0&&Y.__version!==D.version){const ce=D.image;if(ce===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(Y,D,L);return}}n.activeTexture(33984+L),n.bindTexture(3553,Y.__webglTexture)}function H(D,L){const Y=i.get(D);if(D.version>0&&Y.__version!==D.version){re(Y,D,L);return}n.activeTexture(33984+L),n.bindTexture(35866,Y.__webglTexture)}function B(D,L){const Y=i.get(D);if(D.version>0&&Y.__version!==D.version){re(Y,D,L);return}n.activeTexture(33984+L),n.bindTexture(32879,Y.__webglTexture)}function z(D,L){const Y=i.get(D);if(D.version>0&&Y.__version!==D.version){q(Y,D,L);return}n.activeTexture(33984+L),n.bindTexture(34067,Y.__webglTexture)}const k={[zu]:10497,[an]:33071,[Bu]:33648},U={[Bt]:9728,[sp]:9984,[op]:9986,[Wt]:9729,[lw]:9985,[la]:9987};function $(D,L,Y){if(Y?(t.texParameteri(D,10242,k[L.wrapS]),t.texParameteri(D,10243,k[L.wrapT]),(D===32879||D===35866)&&t.texParameteri(D,32882,k[L.wrapR]),t.texParameteri(D,10240,U[L.magFilter]),t.texParameteri(D,10241,U[L.minFilter])):(t.texParameteri(D,10242,33071),t.texParameteri(D,10243,33071),(D===32879||D===35866)&&t.texParameteri(D,32882,33071),(L.wrapS!==an||L.wrapT!==an)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(D,10240,S(L.magFilter)),t.texParameteri(D,10241,S(L.minFilter)),L.minFilter!==Bt&&L.minFilter!==Wt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(L.type===rr&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===Bo&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(t.texParameterf(D,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function ee(D,L){D.__webglInit===void 0&&(D.__webglInit=!0,L.addEventListener("dispose",M),D.__webglTexture=t.createTexture(),o.memory.textures++)}function re(D,L,Y){let ce=3553;L.isDataTexture2DArray&&(ce=35866),L.isDataTexture3D&&(ce=32879),ee(D,L),n.activeTexture(33984+Y),n.bindTexture(ce,D.__webglTexture),t.pixelStorei(37440,L.flipY),t.pixelStorei(37441,L.premultiplyAlpha),t.pixelStorei(3317,L.unpackAlignment),t.pixelStorei(37443,0);const ae=m(L)&&p(L.image)===!1,xe=x(L.image,ae,!1,u),Ae=p(xe)||a,Ce=s.convert(L.format);let Ie=s.convert(L.type),ye=_(L.internalFormat,Ce,Ie,L.encoding);$(ce,L,Ae);let V;const me=L.mipmaps;if(L.isDepthTexture)ye=6402,a?L.type===rr?ye=36012:L.type===ru?ye=33190:L.type===pl?ye=35056:ye=33189:L.type===rr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===Vo&&ye===6402&&L.type!==Uu&&L.type!==ru&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=Uu,Ie=s.convert(L.type)),L.format===Dl&&ye===6402&&(ye=34041,L.type!==pl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=pl,Ie=s.convert(L.type))),n.texImage2D(3553,0,ye,xe.width,xe.height,0,Ce,Ie,null);else if(L.isDataTexture)if(me.length>0&&Ae){for(let ne=0,_e=me.length;ne<_e;ne++)V=me[ne],n.texImage2D(3553,ne,ye,V.width,V.height,0,Ce,Ie,V.data);L.generateMipmaps=!1,D.__maxMipLevel=me.length-1}else n.texImage2D(3553,0,ye,xe.width,xe.height,0,Ce,Ie,xe.data),D.__maxMipLevel=0;else if(L.isCompressedTexture){for(let ne=0,_e=me.length;ne<_e;ne++)V=me[ne],L.format!==cn&&L.format!==Uo?Ce!==null?n.compressedTexImage2D(3553,ne,ye,V.width,V.height,0,V.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,ne,ye,V.width,V.height,0,Ce,Ie,V.data);D.__maxMipLevel=me.length-1}else if(L.isDataTexture2DArray)n.texImage3D(35866,0,ye,xe.width,xe.height,xe.depth,0,Ce,Ie,xe.data),D.__maxMipLevel=0;else if(L.isDataTexture3D)n.texImage3D(32879,0,ye,xe.width,xe.height,xe.depth,0,Ce,Ie,xe.data),D.__maxMipLevel=0;else if(me.length>0&&Ae){for(let ne=0,_e=me.length;ne<_e;ne++)V=me[ne],n.texImage2D(3553,ne,ye,Ce,Ie,V);L.generateMipmaps=!1,D.__maxMipLevel=me.length-1}else n.texImage2D(3553,0,ye,Ce,Ie,xe),D.__maxMipLevel=0;v(L,Ae)&&w(ce,L,xe.width,xe.height),D.__version=L.version,L.onUpdate&&L.onUpdate(L)}function q(D,L,Y){if(L.image.length!==6)return;ee(D,L),n.activeTexture(33984+Y),n.bindTexture(34067,D.__webglTexture),t.pixelStorei(37440,L.flipY),t.pixelStorei(37441,L.premultiplyAlpha),t.pixelStorei(3317,L.unpackAlignment),t.pixelStorei(37443,0);const ce=L&&(L.isCompressedTexture||L.image[0].isCompressedTexture),ae=L.image[0]&&L.image[0].isDataTexture,xe=[];for(let ne=0;ne<6;ne++)!ce&&!ae?xe[ne]=x(L.image[ne],!1,!0,c):xe[ne]=ae?L.image[ne].image:L.image[ne];const Ae=xe[0],Ce=p(Ae)||a,Ie=s.convert(L.format),ye=s.convert(L.type),V=_(L.internalFormat,Ie,ye,L.encoding);$(34067,L,Ce);let me;if(ce){for(let ne=0;ne<6;ne++){me=xe[ne].mipmaps;for(let _e=0;_e<me.length;_e++){const Ee=me[_e];L.format!==cn&&L.format!==Uo?Ie!==null?n.compressedTexImage2D(34069+ne,_e,V,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+ne,_e,V,Ee.width,Ee.height,0,Ie,ye,Ee.data)}}D.__maxMipLevel=me.length-1}else{me=L.mipmaps;for(let ne=0;ne<6;ne++)if(ae){n.texImage2D(34069+ne,0,V,xe[ne].width,xe[ne].height,0,Ie,ye,xe[ne].data);for(let _e=0;_e<me.length;_e++){const Be=me[_e].image[ne].image;n.texImage2D(34069+ne,_e+1,V,Be.width,Be.height,0,Ie,ye,Be.data)}}else{n.texImage2D(34069+ne,0,V,Ie,ye,xe[ne]);for(let _e=0;_e<me.length;_e++){const Ee=me[_e];n.texImage2D(34069+ne,_e+1,V,Ie,ye,Ee.image[ne])}}D.__maxMipLevel=me.length}v(L,Ce)&&w(34067,L,Ae.width,Ae.height),D.__version=L.version,L.onUpdate&&L.onUpdate(L)}function J(D,L,Y,ce,ae){const xe=s.convert(Y.format),Ae=s.convert(Y.type),Ce=_(Y.internalFormat,xe,Ae,Y.encoding);ae===32879||ae===35866?n.texImage3D(ae,0,Ce,L.width,L.height,L.depth,0,xe,Ae,null):n.texImage2D(ae,0,Ce,L.width,L.height,0,xe,Ae,null),n.bindFramebuffer(36160,D),t.framebufferTexture2D(36160,ce,ae,i.get(Y).__webglTexture,0),n.bindFramebuffer(36160,null)}function j(D,L,Y){if(t.bindRenderbuffer(36161,D),L.depthBuffer&&!L.stencilBuffer){let ce=33189;if(Y){const ae=L.depthTexture;ae&&ae.isDepthTexture&&(ae.type===rr?ce=36012:ae.type===ru&&(ce=33190));const xe=Re(L);t.renderbufferStorageMultisample(36161,xe,ce,L.width,L.height)}else t.renderbufferStorage(36161,ce,L.width,L.height);t.framebufferRenderbuffer(36160,36096,36161,D)}else if(L.depthBuffer&&L.stencilBuffer){if(Y){const ce=Re(L);t.renderbufferStorageMultisample(36161,ce,35056,L.width,L.height)}else t.renderbufferStorage(36161,34041,L.width,L.height);t.framebufferRenderbuffer(36160,33306,36161,D)}else{const ce=L.isWebGLMultipleRenderTargets===!0?L.texture[0]:L.texture,ae=s.convert(ce.format),xe=s.convert(ce.type),Ae=_(ce.internalFormat,ae,xe,ce.encoding);if(Y){const Ce=Re(L);t.renderbufferStorageMultisample(36161,Ce,Ae,L.width,L.height)}else t.renderbufferStorage(36161,Ae,L.width,L.height)}t.bindRenderbuffer(36161,null)}function W(D,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,D),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),N(L.depthTexture,0);const ce=i.get(L.depthTexture).__webglTexture;if(L.depthTexture.format===Vo)t.framebufferTexture2D(36160,36096,3553,ce,0);else if(L.depthTexture.format===Dl)t.framebufferTexture2D(36160,33306,3553,ce,0);else throw new Error("Unknown depthTexture format")}function le(D){const L=i.get(D),Y=D.isWebGLCubeRenderTarget===!0;if(D.depthTexture){if(Y)throw new Error("target.depthTexture not supported in Cube render targets");W(L.__webglFramebuffer,D)}else if(Y){L.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)n.bindFramebuffer(36160,L.__webglFramebuffer[ce]),L.__webglDepthbuffer[ce]=t.createRenderbuffer(),j(L.__webglDepthbuffer[ce],D,!1)}else n.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=t.createRenderbuffer(),j(L.__webglDepthbuffer,D,!1);n.bindFramebuffer(36160,null)}function Pe(D){const L=D.texture,Y=i.get(D),ce=i.get(L);D.addEventListener("dispose",T),D.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture=t.createTexture(),ce.__version=L.version,o.memory.textures++);const ae=D.isWebGLCubeRenderTarget===!0,xe=D.isWebGLMultipleRenderTargets===!0,Ae=D.isWebGLMultisampleRenderTarget===!0,Ce=L.isDataTexture3D||L.isDataTexture2DArray,Ie=p(D)||a;if(a&&L.format===Uo&&(L.type===rr||L.type===Bo)&&(L.format=cn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ae){Y.__webglFramebuffer=[];for(let ye=0;ye<6;ye++)Y.__webglFramebuffer[ye]=t.createFramebuffer()}else if(Y.__webglFramebuffer=t.createFramebuffer(),xe)if(r.drawBuffers){const ye=D.texture;for(let V=0,me=ye.length;V<me;V++){const ne=i.get(ye[V]);ne.__webglTexture===void 0&&(ne.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Ae)if(a){Y.__webglMultisampledFramebuffer=t.createFramebuffer(),Y.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,Y.__webglColorRenderbuffer);const ye=s.convert(L.format),V=s.convert(L.type),me=_(L.internalFormat,ye,V,L.encoding),ne=Re(D);t.renderbufferStorageMultisample(36161,ne,me,D.width,D.height),n.bindFramebuffer(36160,Y.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,Y.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),D.depthBuffer&&(Y.__webglDepthRenderbuffer=t.createRenderbuffer(),j(Y.__webglDepthRenderbuffer,D,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ae){n.bindTexture(34067,ce.__webglTexture),$(34067,L,Ie);for(let ye=0;ye<6;ye++)J(Y.__webglFramebuffer[ye],D,L,36064,34069+ye);v(L,Ie)&&w(34067,L,D.width,D.height),n.unbindTexture()}else if(xe){const ye=D.texture;for(let V=0,me=ye.length;V<me;V++){const ne=ye[V],_e=i.get(ne);n.bindTexture(3553,_e.__webglTexture),$(3553,ne,Ie),J(Y.__webglFramebuffer,D,ne,36064+V,3553),v(ne,Ie)&&w(3553,ne,D.width,D.height)}n.unbindTexture()}else{let ye=3553;Ce&&(a?ye=L.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(ye,ce.__webglTexture),$(ye,L,Ie),J(Y.__webglFramebuffer,D,L,36064,ye),v(L,Ie)&&w(ye,L,D.width,D.height,D.depth),n.unbindTexture()}D.depthBuffer&&le(D)}function pe(D){const L=p(D)||a,Y=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let ce=0,ae=Y.length;ce<ae;ce++){const xe=Y[ce];if(v(xe,L)){const Ae=D.isWebGLCubeRenderTarget?34067:3553,Ce=i.get(xe).__webglTexture;n.bindTexture(Ae,Ce),w(Ae,xe,D.width,D.height),n.unbindTexture()}}}function we(D){if(D.isWebGLMultisampleRenderTarget)if(a){const L=D.width,Y=D.height;let ce=16384;D.depthBuffer&&(ce|=256),D.stencilBuffer&&(ce|=1024);const ae=i.get(D);n.bindFramebuffer(36008,ae.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,ae.__webglFramebuffer),t.blitFramebuffer(0,0,L,Y,0,0,L,Y,ce,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,ae.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Re(D){return a&&D.isWebGLMultisampleRenderTarget?Math.min(d,D.samples):0}function K(D){const L=o.render.frame;h.get(D)!==L&&(h.set(D,L),D.update())}let se=!1,ue=!1;function Se(D,L){D&&D.isWebGLRenderTarget&&(se===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),se=!0),D=D.texture),N(D,L)}function fe(D,L){D&&D.isWebGLCubeRenderTarget&&(ue===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ue=!0),D=D.texture),z(D,L)}this.allocateTextureUnit=F,this.resetTextureUnits=O,this.setTexture2D=N,this.setTexture2DArray=H,this.setTexture3D=B,this.setTextureCube=z,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=we,this.safeSetTexture2D=Se,this.safeSetTextureCube=fe}function hL(t,e,n){const i=n.isWebGL2;function r(s){let o;if(s===Vr)return 5121;if(s===HP)return 32819;if(s===jP)return 32820;if(s===GP)return 33635;if(s===BP)return 5120;if(s===UP)return 5122;if(s===Uu)return 5123;if(s===VP)return 5124;if(s===ru)return 5125;if(s===rr)return 5126;if(s===Bo)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===WP)return 6406;if(s===Uo)return 6407;if(s===cn)return 6408;if(s===$P)return 6409;if(s===qP)return 6410;if(s===Vo)return 6402;if(s===Dl)return 34041;if(s===YP)return 6403;if(s===ZP)return 36244;if(s===JP)return 33319;if(s===KP)return 33320;if(s===QP)return 36248;if(s===eR)return 36249;if(s===Hy||s===jy||s===Gy||s===Wy)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Hy)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===jy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Gy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Wy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===$y||s===qy||s===Xy||s===Yy)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===$y)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===qy)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Xy)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Yy)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===tR)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===Zy||s===Jy)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===Zy)return o.COMPRESSED_RGB8_ETC2;if(s===Jy)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===nR||s===iR||s===rR||s===sR||s===oR||s===aR||s===lR||s===cR||s===uR||s===dR||s===hR||s===fR||s===pR||s===mR||s===yR||s===xR||s===vR||s===wR||s===bR||s===_R||s===MR||s===SR||s===ER||s===TR||s===CR||s===AR||s===PR||s===RR)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===gR)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===pl)return i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class vw extends Kt{constructor(e=[]){super(),this.cameras=e}}vw.prototype.isArrayCamera=!0;class Po extends He{constructor(){super(),this.type="Group"}}Po.prototype.isGroup=!0;const S9={type:"move"};class zg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Po,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Po,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new R,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new R),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Po,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new R,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new R),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(a!==null&&(r=n.getPose(e.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(S9))),c&&e.hand){o=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,i);if(c.joints[y.jointName]===void 0){const m=new Po;m.matrixAutoUpdate=!1,m.visible=!1,c.joints[y.jointName]=m,c.add(m)}const p=c.joints[y.jointName];x!==null&&(p.matrix.fromArray(x.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=x.radius),p.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),f=.02,g=.005;c.inputState.pinching&&h>f+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class E9 extends to{constructor(e,n){super();const i=this,r=e.state;let s=null,o=1,a=null,l="local-floor",c=null,u=null,d=null,h=null,f=null,g=!1,y=null,x=null,p=null,m=null,v=null,w=null;const _=[],S=new Map,M=new Kt;M.layers.enable(1),M.viewport=new nt;const T=new Kt;T.layers.enable(2),T.viewport=new nt;const P=[M,T],C=new vw;C.layers.enable(1),C.layers.enable(2);let A=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let J=_[q];return J===void 0&&(J=new zg,_[q]=J),J.getTargetRaySpace()},this.getControllerGrip=function(q){let J=_[q];return J===void 0&&(J=new zg,_[q]=J),J.getGripSpace()},this.getHand=function(q){let J=_[q];return J===void 0&&(J=new zg,_[q]=J),J.getHandSpace()};function F(q){const J=S.get(q.inputSource);J&&J.dispatchEvent({type:q.type,data:q.inputSource})}function N(){S.forEach(function(q,J){q.disconnect(J)}),S.clear(),A=null,O=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),d&&n.deleteFramebuffer(d),y&&n.deleteFramebuffer(y),x&&n.deleteRenderbuffer(x),p&&n.deleteRenderbuffer(p),d=null,y=null,x=null,p=null,f=null,h=null,u=null,s=null,re.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){o=q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){l=q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return s},this.setSession=async function(q){if(s=q,s!==null){s.addEventListener("select",F),s.addEventListener("selectstart",F),s.addEventListener("selectend",F),s.addEventListener("squeeze",F),s.addEventListener("squeezestart",F),s.addEventListener("squeezeend",F),s.addEventListener("end",N),s.addEventListener("inputsourceschange",H);const J=n.getContextAttributes();if(J.xrCompatible!==!0&&await n.makeXRCompatible(),s.renderState.layers===void 0){const j={antialias:J.antialias,alpha:J.alpha,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(s,n,j),s.updateRenderState({baseLayer:f})}else if(n instanceof WebGLRenderingContext){const j={antialias:!0,alpha:J.alpha,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(s,n,j),s.updateRenderState({layers:[f]})}else{g=J.antialias;let j=null;J.depth&&(w=256,J.stencil&&(w|=1024),v=J.stencil?33306:36096,j=J.stencil?35056:33190);const W={colorFormat:J.alpha?32856:32849,depthFormat:j,scaleFactor:o};u=new XRWebGLBinding(s,n),h=u.createProjectionLayer(W),d=n.createFramebuffer(),s.updateRenderState({layers:[h]}),g&&(y=n.createFramebuffer(),x=n.createRenderbuffer(),n.bindRenderbuffer(36161,x),n.renderbufferStorageMultisample(36161,4,32856,h.textureWidth,h.textureHeight),r.bindFramebuffer(36160,y),n.framebufferRenderbuffer(36160,36064,36161,x),n.bindRenderbuffer(36161,null),j!==null&&(p=n.createRenderbuffer(),n.bindRenderbuffer(36161,p),n.renderbufferStorageMultisample(36161,4,j,h.textureWidth,h.textureHeight),n.framebufferRenderbuffer(36160,v,36161,p),n.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}a=await s.requestReferenceSpace(l),re.setContext(s),re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function H(q){const J=s.inputSources;for(let j=0;j<_.length;j++)S.set(J[j],_[j]);for(let j=0;j<q.removed.length;j++){const W=q.removed[j],le=S.get(W);le&&(le.dispatchEvent({type:"disconnected",data:W}),S.delete(W))}for(let j=0;j<q.added.length;j++){const W=q.added[j],le=S.get(W);le&&le.dispatchEvent({type:"connected",data:W})}}const B=new R,z=new R;function k(q,J,j){B.setFromMatrixPosition(J.matrixWorld),z.setFromMatrixPosition(j.matrixWorld);const W=B.distanceTo(z),le=J.projectionMatrix.elements,Pe=j.projectionMatrix.elements,pe=le[14]/(le[10]-1),we=le[14]/(le[10]+1),Re=(le[9]+1)/le[5],K=(le[9]-1)/le[5],se=(le[8]-1)/le[0],ue=(Pe[8]+1)/Pe[0],Se=pe*se,fe=pe*ue,D=W/(-se+ue),L=D*-se;J.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(L),q.translateZ(D),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const Y=pe+D,ce=we+D,ae=Se-L,xe=fe+(W-L),Ae=Re*we/ce*Y,Ce=K*we/ce*Y;q.projectionMatrix.makePerspective(ae,xe,Ae,Ce,Y,ce)}function U(q,J){J===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(J.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(s===null)return;C.near=T.near=M.near=q.near,C.far=T.far=M.far=q.far,(A!==C.near||O!==C.far)&&(s.updateRenderState({depthNear:C.near,depthFar:C.far}),A=C.near,O=C.far);const J=q.parent,j=C.cameras;U(C,J);for(let le=0;le<j.length;le++)U(j[le],J);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),q.position.copy(C.position),q.quaternion.copy(C.quaternion),q.scale.copy(C.scale),q.matrix.copy(C.matrix),q.matrixWorld.copy(C.matrixWorld);const W=q.children;for(let le=0,Pe=W.length;le<Pe;le++)W[le].updateMatrixWorld(!0);j.length===2?k(C,M,T):C.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(q){h!==null&&(h.fixedFoveation=q),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=q)};let $=null;function ee(q,J){if(c=J.getViewerPose(a),m=J,c!==null){const W=c.views;f!==null&&r.bindXRFramebuffer(f.framebuffer);let le=!1;W.length!==C.cameras.length&&(C.cameras.length=0,le=!0);for(let Pe=0;Pe<W.length;Pe++){const pe=W[Pe];let we=null;if(f!==null)we=f.getViewport(pe);else{const K=u.getViewSubImage(h,pe);r.bindXRFramebuffer(d),K.depthStencilTexture!==void 0&&n.framebufferTexture2D(36160,v,3553,K.depthStencilTexture,0),n.framebufferTexture2D(36160,36064,3553,K.colorTexture,0),we=K.viewport}const Re=P[Pe];Re.matrix.fromArray(pe.transform.matrix),Re.projectionMatrix.fromArray(pe.projectionMatrix),Re.viewport.set(we.x,we.y,we.width,we.height),Pe===0&&C.matrix.copy(Re.matrix),le===!0&&C.cameras.push(Re)}g&&(r.bindXRFramebuffer(y),w!==null&&n.clear(w))}const j=s.inputSources;for(let W=0;W<_.length;W++){const le=_[W],Pe=j[W];le.update(Pe,J,a)}if($&&$(q,J),g){const W=h.textureWidth,le=h.textureHeight;r.bindFramebuffer(36008,y),r.bindFramebuffer(36009,d),n.invalidateFramebuffer(36008,[v]),n.invalidateFramebuffer(36009,[v]),n.blitFramebuffer(0,0,W,le,0,0,W,le,16384,9728),n.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,y)}m=null}const re=new eL;re.setAnimationLoop(ee),this.setAnimationLoop=function(q){$=q},this.dispose=function(){}}}function T9(t){function e(p,m){p.fogColor.value.copy(m.color),m.isFog?(p.fogNear.value=m.near,p.fogFar.value=m.far):m.isFogExp2&&(p.fogDensity.value=m.density)}function n(p,m,v,w,_){m.isMeshBasicMaterial?i(p,m):m.isMeshLambertMaterial?(i(p,m),l(p,m)):m.isMeshToonMaterial?(i(p,m),u(p,m)):m.isMeshPhongMaterial?(i(p,m),c(p,m)):m.isMeshStandardMaterial?(i(p,m),m.isMeshPhysicalMaterial?h(p,m,_):d(p,m)):m.isMeshMatcapMaterial?(i(p,m),f(p,m)):m.isMeshDepthMaterial?(i(p,m),g(p,m)):m.isMeshDistanceMaterial?(i(p,m),y(p,m)):m.isMeshNormalMaterial?(i(p,m),x(p,m)):m.isLineBasicMaterial?(r(p,m),m.isLineDashedMaterial&&s(p,m)):m.isPointsMaterial?o(p,m,v,w):m.isSpriteMaterial?a(p,m):m.isShadowMaterial?(p.color.value.copy(m.color),p.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(p,m){p.opacity.value=m.opacity,m.color&&p.diffuse.value.copy(m.color),m.emissive&&p.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.specularMap&&(p.specularMap.value=m.specularMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);const v=t.get(m).envMap;if(v){p.envMap.value=v,p.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=m.reflectivity,p.ior.value=m.ior,p.refractionRatio.value=m.refractionRatio;const S=t.get(v).__maxMipLevel;S!==void 0&&(p.maxMipLevel.value=S)}m.lightMap&&(p.lightMap.value=m.lightMap,p.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(p.aoMap.value=m.aoMap,p.aoMapIntensity.value=m.aoMapIntensity);let w;m.map?w=m.map:m.specularMap?w=m.specularMap:m.displacementMap?w=m.displacementMap:m.normalMap?w=m.normalMap:m.bumpMap?w=m.bumpMap:m.roughnessMap?w=m.roughnessMap:m.metalnessMap?w=m.metalnessMap:m.alphaMap?w=m.alphaMap:m.emissiveMap?w=m.emissiveMap:m.clearcoatMap?w=m.clearcoatMap:m.clearcoatNormalMap?w=m.clearcoatNormalMap:m.clearcoatRoughnessMap?w=m.clearcoatRoughnessMap:m.specularIntensityMap?w=m.specularIntensityMap:m.specularColorMap?w=m.specularColorMap:m.transmissionMap?w=m.transmissionMap:m.thicknessMap?w=m.thicknessMap:m.sheenColorMap?w=m.sheenColorMap:m.sheenRoughnessMap&&(w=m.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),p.uvTransform.value.copy(w.matrix));let _;m.aoMap?_=m.aoMap:m.lightMap&&(_=m.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uv2Transform.value.copy(_.matrix))}function r(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity}function s(p,m){p.dashSize.value=m.dashSize,p.totalSize.value=m.dashSize+m.gapSize,p.scale.value=m.scale}function o(p,m,v,w){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.size.value=m.size*v,p.scale.value=w*.5,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let _;m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function a(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.rotation.value=m.rotation,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let v;m.map?v=m.map:m.alphaMap&&(v=m.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}function l(p,m){m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap)}function c(p,m){p.specular.value.copy(m.specular),p.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Lt&&(p.bumpScale.value*=-1)),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Lt&&p.normalScale.value.negate()),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)}function u(p,m){m.gradientMap&&(p.gradientMap.value=m.gradientMap),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Lt&&(p.bumpScale.value*=-1)),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Lt&&p.normalScale.value.negate()),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)}function d(p,m){p.roughness.value=m.roughness,p.metalness.value=m.metalness,m.roughnessMap&&(p.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(p.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Lt&&(p.bumpScale.value*=-1)),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Lt&&p.normalScale.value.negate()),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias),t.get(m).envMap&&(p.envMapIntensity.value=m.envMapIntensity)}function h(p,m,v){d(p,m),p.ior.value=m.ior,m.sheen>0&&(p.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),p.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(p.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(p.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(p.clearcoat.value=m.clearcoat,p.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(p.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),p.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Lt&&p.clearcoatNormalScale.value.negate())),m.transmission>0&&(p.transmission.value=m.transmission,p.transmissionSamplerMap.value=v.texture,p.transmissionSamplerSize.value.set(v.width,v.height),m.transmissionMap&&(p.transmissionMap.value=m.transmissionMap),p.thickness.value=m.thickness,m.thicknessMap&&(p.thicknessMap.value=m.thicknessMap),p.attenuationDistance.value=m.attenuationDistance,p.attenuationColor.value.copy(m.attenuationColor)),p.specularIntensity.value=m.specularIntensity,p.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(p.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(p.specularColorMap.value=m.specularColorMap)}function f(p,m){m.matcap&&(p.matcap.value=m.matcap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Lt&&(p.bumpScale.value*=-1)),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Lt&&p.normalScale.value.negate()),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)}function g(p,m){m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)}function y(p,m){m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias),p.referencePosition.value.copy(m.referencePosition),p.nearDistance.value=m.nearDistance,p.farDistance.value=m.farDistance}function x(p,m){m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Lt&&(p.bumpScale.value*=-1)),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Lt&&p.normalScale.value.negate()),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function C9(){const t=$p("canvas");return t.style.display="block",t}function st(t={}){const e=t.canvas!==void 0?t.canvas:C9(),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,r=t.depth!==void 0?t.depth:!0,s=t.stencil!==void 0?t.stencil:!0,o=t.antialias!==void 0?t.antialias:!1,a=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,l=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,c=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let d=null,h=null;const f=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=hn,this.physicallyCorrectLights=!1,this.toneMapping=Is,this.toneMappingExposure=1;const y=this;let x=!1,p=0,m=0,v=null,w=-1,_=null;const S=new nt,M=new nt;let T=null,P=e.width,C=e.height,A=1,O=null,F=null;const N=new nt(0,0,P,C),H=new nt(0,0,P,C);let B=!1;const z=[],k=new vd;let U=!1,$=!1,ee=null;const re=new Te,q=new R,J={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return v===null?A:1}let W=n;function le(I,G){for(let Q=0;Q<I.length;Q++){const X=I[Q],ie=e.getContext(X,G);if(ie!==null)return ie}return null}try{const I={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",kt,!1),e.addEventListener("webglcontextrestored",gt,!1),W===null){const G=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&G.shift(),W=le(G,I),W===null)throw le(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let Pe,pe,we,Re,K,se,ue,Se,fe,D,L,Y,ce,ae,xe,Ae,Ce,Ie,ye,V,me,ne,_e;function Ee(){Pe=new J8(W),pe=new G8(W,Pe,t),Pe.init(pe),ne=new hL(W,Pe,pe),we=new _9(W,Pe,pe),z[0]=1029,Re=new e7,K=new d9,se=new M9(W,Pe,we,K,pe,ne,Re),ue=new $8(y),Se=new Z8(y),fe=new pG(W,pe),_e=new H8(W,Pe,fe,pe),D=new K8(W,fe,Re,_e),L=new r7(W,D,fe,Re),ye=new i7(W,pe,se),Ae=new W8(K),Y=new u9(y,ue,Se,Pe,pe,_e,Ae),ce=new T9(K),ae=new f9(K),xe=new v9(Pe,pe),Ie=new V8(y,ue,we,L,a),Ce=new dL(y,L,pe),V=new j8(W,Pe,Re,pe),me=new Q8(W,Pe,Re,pe),Re.programs=Y.programs,y.capabilities=pe,y.extensions=Pe,y.properties=K,y.renderLists=ae,y.shadowMap=Ce,y.state=we,y.info=Re}Ee();const Be=new E9(y,W);this.xr=Be,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const I=Pe.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=Pe.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(I){I!==void 0&&(A=I,this.setSize(P,C,!1))},this.getSize=function(I){return I.set(P,C)},this.setSize=function(I,G,Q){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=I,C=G,e.width=Math.floor(I*A),e.height=Math.floor(G*A),Q!==!1&&(e.style.width=I+"px",e.style.height=G+"px"),this.setViewport(0,0,I,G)},this.getDrawingBufferSize=function(I){return I.set(P*A,C*A).floor()},this.setDrawingBufferSize=function(I,G,Q){P=I,C=G,A=Q,e.width=Math.floor(I*Q),e.height=Math.floor(G*Q),this.setViewport(0,0,I,G)},this.getCurrentViewport=function(I){return I.copy(S)},this.getViewport=function(I){return I.copy(N)},this.setViewport=function(I,G,Q,X){I.isVector4?N.set(I.x,I.y,I.z,I.w):N.set(I,G,Q,X),we.viewport(S.copy(N).multiplyScalar(A).floor())},this.getScissor=function(I){return I.copy(H)},this.setScissor=function(I,G,Q,X){I.isVector4?H.set(I.x,I.y,I.z,I.w):H.set(I,G,Q,X),we.scissor(M.copy(H).multiplyScalar(A).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(I){we.setScissorTest(B=I)},this.setOpaqueSort=function(I){O=I},this.setTransparentSort=function(I){F=I},this.getClearColor=function(I){return I.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor.apply(Ie,arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha.apply(Ie,arguments)},this.clear=function(I,G,Q){let X=0;(I===void 0||I)&&(X|=16384),(G===void 0||G)&&(X|=256),(Q===void 0||Q)&&(X|=1024),W.clear(X)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",kt,!1),e.removeEventListener("webglcontextrestored",gt,!1),ae.dispose(),xe.dispose(),K.dispose(),ue.dispose(),Se.dispose(),L.dispose(),_e.dispose(),Be.dispose(),Be.removeEventListener("sessionstart",hc),Be.removeEventListener("sessionend",Ad),ee&&(ee.dispose(),ee=null),yi.stop()};function kt(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const I=Re.autoReset,G=Ce.enabled,Q=Ce.autoUpdate,X=Ce.needsUpdate,ie=Ce.type;Ee(),Re.autoReset=I,Ce.enabled=G,Ce.autoUpdate=Q,Ce.needsUpdate=X,Ce.type=ie}function mi(I){const G=I.target;G.removeEventListener("dispose",mi),ot(G)}function ot(I){gi(I),K.remove(I)}function gi(I){const G=K.get(I).programs;G!==void 0&&G.forEach(function(Q){Y.releaseProgram(Q)})}this.renderBufferDirect=function(I,G,Q,X,ie,Oe){G===null&&(G=J);const De=ie.isMesh&&ie.matrixWorld.determinant()<0,Ne=Xi(I,G,Q,X,ie);we.setMaterial(X,De);let Ve=Q.index;const et=Q.attributes.position;if(Ve===null){if(et===void 0||et.count===0)return}else if(Ve.count===0)return;let Ge=1;X.wireframe===!0&&(Ve=D.getWireframeAttribute(Q),Ge=2),_e.setup(ie,X,Ne,Q,Ve);let Ke,Mt=V;Ve!==null&&(Ke=fe.get(Ve),Mt=me,Mt.setIndex(Ke));const ro=Ve!==null?Ve.count:et.count,Qe=Q.drawRange.start*Ge,fc=Q.drawRange.count*Ge,ut=Oe!==null?Oe.start*Ge:0,so=Oe!==null?Oe.count*Ge:1/0,oo=Math.max(Qe,ut),ao=Math.min(ro,Qe+fc,ut+so)-1,Yr=Math.max(0,ao-oo+1);if(Yr!==0){if(ie.isMesh)X.wireframe===!0?(we.setLineWidth(X.wireframeLinewidth*j()),Mt.setMode(1)):Mt.setMode(4);else if(ie.isLine){let St=X.linewidth;St===void 0&&(St=1),we.setLineWidth(St*j()),ie.isLineSegments?Mt.setMode(1):ie.isLineLoop?Mt.setMode(2):Mt.setMode(3)}else ie.isPoints?Mt.setMode(0):ie.isSprite&&Mt.setMode(4);if(ie.isInstancedMesh)Mt.renderInstances(oo,Yr,ie.count);else if(Q.isInstancedBufferGeometry){const St=Math.min(Q.instanceCount,Q._maxInstanceCount);Mt.renderInstances(oo,Yr,St)}else Mt.render(oo,Yr)}},this.compile=function(I,G){h=xe.get(I),h.init(),g.push(h),I.traverseVisible(function(Q){Q.isLight&&Q.layers.test(G.layers)&&(h.pushLight(Q),Q.castShadow&&h.pushShadow(Q))}),h.setupLights(y.physicallyCorrectLights),I.traverse(function(Q){const X=Q.material;if(X)if(Array.isArray(X))for(let ie=0;ie<X.length;ie++){const Oe=X[ie];_n(Oe,I,Q)}else _n(X,I,Q)}),g.pop(),h=null};let Gn=null;function Cd(I){Gn&&Gn(I)}function hc(){yi.stop()}function Ad(){yi.start()}const yi=new eL;yi.setAnimationLoop(Cd),typeof window<"u"&&yi.setContext(window),this.setAnimationLoop=function(I){Gn=I,Be.setAnimationLoop(I),I===null?yi.stop():yi.start()},Be.addEventListener("sessionstart",hc),Be.addEventListener("sessionend",Ad),this.render=function(I,G){if(G!==void 0&&G.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;I.autoUpdate===!0&&I.updateMatrixWorld(),G.parent===null&&G.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(Be.cameraAutoUpdate===!0&&Be.updateCamera(G),G=Be.getCamera()),I.isScene===!0&&I.onBeforeRender(y,I,G,v),h=xe.get(I,g.length),h.init(),g.push(h),re.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),k.setFromProjectionMatrix(re),$=this.localClippingEnabled,U=Ae.init(this.clippingPlanes,$,G),d=ae.get(I,f.length),d.init(),f.push(d),xi(I,G,0,y.sortObjects),d.finish(),y.sortObjects===!0&&d.sort(O,F),U===!0&&Ae.beginShadows();const Q=h.state.shadowsArray;if(Ce.render(Q,I,G),U===!0&&Ae.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ie.render(d,I),h.setupLights(y.physicallyCorrectLights),G.isArrayCamera){const X=G.cameras;for(let ie=0,Oe=X.length;ie<Oe;ie++){const De=X[ie];Pd(d,I,De,De.viewport)}}else Pd(d,I,G);v!==null&&(se.updateMultisampleRenderTarget(v),se.updateRenderTargetMipmap(v)),I.isScene===!0&&I.onAfterRender(y,I,G),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1),_e.resetDefaultState(),w=-1,_=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function xi(I,G,Q,X){if(I.visible===!1)return;if(I.layers.test(G.layers)){if(I.isGroup)Q=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(G);else if(I.isLight)h.pushLight(I),I.castShadow&&h.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||k.intersectsSprite(I)){X&&q.setFromMatrixPosition(I.matrixWorld).applyMatrix4(re);const De=L.update(I),Ne=I.material;Ne.visible&&d.push(I,De,Ne,Q,q.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(I.isSkinnedMesh&&I.skeleton.frame!==Re.render.frame&&(I.skeleton.update(),I.skeleton.frame=Re.render.frame),!I.frustumCulled||k.intersectsObject(I))){X&&q.setFromMatrixPosition(I.matrixWorld).applyMatrix4(re);const De=L.update(I),Ne=I.material;if(Array.isArray(Ne)){const Ve=De.groups;for(let et=0,Ge=Ve.length;et<Ge;et++){const Ke=Ve[et],Mt=Ne[Ke.materialIndex];Mt&&Mt.visible&&d.push(I,De,Mt,Q,q.z,Ke)}}else Ne.visible&&d.push(I,De,Ne,Q,q.z,null)}}const Oe=I.children;for(let De=0,Ne=Oe.length;De<Ne;De++)xi(Oe[De],G,Q,X)}function Pd(I,G,Q,X){const ie=I.opaque,Oe=I.transmissive,De=I.transparent;h.setupLightsView(Q),Oe.length>0&&Fe(ie,G,Q),X&&we.viewport(S.copy(X)),ie.length>0&&Xe(ie,G,Q),Oe.length>0&&Xe(Oe,G,Q),De.length>0&&Xe(De,G,Q)}function Fe(I,G,Q){if(ee===null){const De=o===!0&&pe.isWebGL2===!0?pw:Bi;ee=new De(1024,1024,{generateMipmaps:!0,type:ne.convert(Bo)!==null?Bo:Vr,minFilter:la,magFilter:Bt,wrapS:an,wrapT:an})}const X=y.getRenderTarget();y.setRenderTarget(ee),y.clear();const ie=y.toneMapping;y.toneMapping=Is,Xe(I,G,Q),y.toneMapping=ie,se.updateMultisampleRenderTarget(ee),se.updateRenderTargetMipmap(ee),y.setRenderTarget(X)}function Xe(I,G,Q){const X=G.isScene===!0?G.overrideMaterial:null;for(let ie=0,Oe=I.length;ie<Oe;ie++){const De=I[ie],Ne=De.object,Ve=De.geometry,et=X===null?De.material:X,Ge=De.group;Ne.layers.test(Q.layers)&&at(Ne,G,Q,Ve,et,Ge)}}function at(I,G,Q,X,ie,Oe){I.onBeforeRender(y,G,Q,X,ie,Oe),I.modelViewMatrix.multiplyMatrices(Q.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),ie.onBeforeRender(y,G,Q,X,I,Oe),ie.transparent===!0&&ie.side===Jo?(ie.side=Lt,ie.needsUpdate=!0,y.renderBufferDirect(Q,G,X,ie,I,Oe),ie.side=Zo,ie.needsUpdate=!0,y.renderBufferDirect(Q,G,X,ie,I,Oe),ie.side=Jo):y.renderBufferDirect(Q,G,X,ie,I,Oe),I.onAfterRender(y,G,Q,X,ie,Oe)}function _n(I,G,Q){G.isScene!==!0&&(G=J);const X=K.get(I),ie=h.state.lights,Oe=h.state.shadowsArray,De=ie.state.version,Ne=Y.getParameters(I,ie.state,Oe,G,Q),Ve=Y.getProgramCacheKey(Ne);let et=X.programs;X.environment=I.isMeshStandardMaterial?G.environment:null,X.fog=G.fog,X.envMap=(I.isMeshStandardMaterial?Se:ue).get(I.envMap||X.environment),et===void 0&&(I.addEventListener("dispose",mi),et=new Map,X.programs=et);let Ge=et.get(Ve);if(Ge!==void 0){if(X.currentProgram===Ge&&X.lightsStateVersion===De)return In(I,Ne),Ge}else Ne.uniforms=Y.getUniforms(I),I.onBuild(Q,Ne,y),I.onBeforeCompile(Ne,y),Ge=Y.acquireProgram(Ne,Ve),et.set(Ve,Ge),X.uniforms=Ne.uniforms;const Ke=X.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(Ke.clippingPlanes=Ae.uniform),In(I,Ne),X.needsLights=Wn(I),X.lightsStateVersion=De,X.needsLights&&(Ke.ambientLightColor.value=ie.state.ambient,Ke.lightProbe.value=ie.state.probe,Ke.directionalLights.value=ie.state.directional,Ke.directionalLightShadows.value=ie.state.directionalShadow,Ke.spotLights.value=ie.state.spot,Ke.spotLightShadows.value=ie.state.spotShadow,Ke.rectAreaLights.value=ie.state.rectArea,Ke.ltc_1.value=ie.state.rectAreaLTC1,Ke.ltc_2.value=ie.state.rectAreaLTC2,Ke.pointLights.value=ie.state.point,Ke.pointLightShadows.value=ie.state.pointShadow,Ke.hemisphereLights.value=ie.state.hemi,Ke.directionalShadowMap.value=ie.state.directionalShadowMap,Ke.directionalShadowMatrix.value=ie.state.directionalShadowMatrix,Ke.spotShadowMap.value=ie.state.spotShadowMap,Ke.spotShadowMatrix.value=ie.state.spotShadowMatrix,Ke.pointShadowMap.value=ie.state.pointShadowMap,Ke.pointShadowMatrix.value=ie.state.pointShadowMatrix);const Mt=Ge.getUniforms(),ro=ks.seqWithValue(Mt.seq,Ke);return X.currentProgram=Ge,X.uniformsList=ro,Ge}function In(I,G){const Q=K.get(I);Q.outputEncoding=G.outputEncoding,Q.instancing=G.instancing,Q.skinning=G.skinning,Q.morphTargets=G.morphTargets,Q.morphNormals=G.morphNormals,Q.morphTargetsCount=G.morphTargetsCount,Q.numClippingPlanes=G.numClippingPlanes,Q.numIntersection=G.numClipIntersection,Q.vertexAlphas=G.vertexAlphas,Q.vertexTangents=G.vertexTangents}function Xi(I,G,Q,X,ie){G.isScene!==!0&&(G=J),se.resetTextureUnits();const Oe=G.fog,De=X.isMeshStandardMaterial?G.environment:null,Ne=v===null?y.outputEncoding:v.texture.encoding,Ve=(X.isMeshStandardMaterial?Se:ue).get(X.envMap||De),et=X.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,Ge=!!X.normalMap&&!!Q.attributes.tangent,Ke=!!Q.morphAttributes.position,Mt=!!Q.morphAttributes.normal,ro=Q.morphAttributes.position?Q.morphAttributes.position.length:0,Qe=K.get(X),fc=h.state.lights;if(U===!0&&($===!0||I!==_)){const vi=I===_&&X.id===w;Ae.setState(X,I,vi)}let ut=!1;X.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==fc.state.version||Qe.outputEncoding!==Ne||ie.isInstancedMesh&&Qe.instancing===!1||!ie.isInstancedMesh&&Qe.instancing===!0||ie.isSkinnedMesh&&Qe.skinning===!1||!ie.isSkinnedMesh&&Qe.skinning===!0||Qe.envMap!==Ve||X.fog&&Qe.fog!==Oe||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==Ae.numPlanes||Qe.numIntersection!==Ae.numIntersection)||Qe.vertexAlphas!==et||Qe.vertexTangents!==Ge||Qe.morphTargets!==Ke||Qe.morphNormals!==Mt||pe.isWebGL2===!0&&Qe.morphTargetsCount!==ro)&&(ut=!0):(ut=!0,Qe.__version=X.version);let so=Qe.currentProgram;ut===!0&&(so=_n(X,G,ie));let oo=!1,ao=!1,Yr=!1;const St=so.getUniforms(),pc=Qe.uniforms;if(we.useProgram(so.program)&&(oo=!0,ao=!0,Yr=!0),X.id!==w&&(w=X.id,ao=!0),oo||_!==I){if(St.setValue(W,"projectionMatrix",I.projectionMatrix),pe.logarithmicDepthBuffer&&St.setValue(W,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),_!==I&&(_=I,ao=!0,Yr=!0),X.isShaderMaterial||X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshStandardMaterial||X.envMap){const vi=St.map.cameraPosition;vi!==void 0&&vi.setValue(W,q.setFromMatrixPosition(I.matrixWorld))}(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial)&&St.setValue(W,"isOrthographic",I.isOrthographicCamera===!0),(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial||X.isShadowMaterial||ie.isSkinnedMesh)&&St.setValue(W,"viewMatrix",I.matrixWorldInverse)}if(ie.isSkinnedMesh){St.setOptional(W,ie,"bindMatrix"),St.setOptional(W,ie,"bindMatrixInverse");const vi=ie.skeleton;vi&&(pe.floatVertexTextures?(vi.boneTexture===null&&vi.computeBoneTexture(),St.setValue(W,"boneTexture",vi.boneTexture,se),St.setValue(W,"boneTextureSize",vi.boneTextureSize)):St.setOptional(W,vi,"boneMatrices"))}return Q&&(Q.morphAttributes.position!==void 0||Q.morphAttributes.normal!==void 0)&&ye.update(ie,Q,X,so),(ao||Qe.receiveShadow!==ie.receiveShadow)&&(Qe.receiveShadow=ie.receiveShadow,St.setValue(W,"receiveShadow",ie.receiveShadow)),ao&&(St.setValue(W,"toneMappingExposure",y.toneMappingExposure),Qe.needsLights&&xr(pc,Yr),Oe&&X.fog&&ce.refreshFogUniforms(pc,Oe),ce.refreshMaterialUniforms(pc,X,A,C,ee),ks.upload(W,Qe.uniformsList,pc,se)),X.isShaderMaterial&&X.uniformsNeedUpdate===!0&&(ks.upload(W,Qe.uniformsList,pc,se),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&St.setValue(W,"center",ie.center),St.setValue(W,"modelViewMatrix",ie.modelViewMatrix),St.setValue(W,"normalMatrix",ie.normalMatrix),St.setValue(W,"modelMatrix",ie.matrixWorld),so}function xr(I,G){I.ambientLightColor.needsUpdate=G,I.lightProbe.needsUpdate=G,I.directionalLights.needsUpdate=G,I.directionalLightShadows.needsUpdate=G,I.pointLights.needsUpdate=G,I.pointLightShadows.needsUpdate=G,I.spotLights.needsUpdate=G,I.spotLightShadows.needsUpdate=G,I.rectAreaLights.needsUpdate=G,I.hemisphereLights.needsUpdate=G}function Wn(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return p},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return v},this.setRenderTarget=function(I,G=0,Q=0){v=I,p=G,m=Q,I&&K.get(I).__webglFramebuffer===void 0&&se.setupRenderTarget(I);let X=null,ie=!1,Oe=!1;if(I){const Ne=I.texture;(Ne.isDataTexture3D||Ne.isDataTexture2DArray)&&(Oe=!0);const Ve=K.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(X=Ve[G],ie=!0):I.isWebGLMultisampleRenderTarget?X=K.get(I).__webglMultisampledFramebuffer:X=Ve,S.copy(I.viewport),M.copy(I.scissor),T=I.scissorTest}else S.copy(N).multiplyScalar(A).floor(),M.copy(H).multiplyScalar(A).floor(),T=B;if(we.bindFramebuffer(36160,X)&&pe.drawBuffers){let Ne=!1;if(I)if(I.isWebGLMultipleRenderTargets){const Ve=I.texture;if(z.length!==Ve.length||z[0]!==36064){for(let et=0,Ge=Ve.length;et<Ge;et++)z[et]=36064+et;z.length=Ve.length,Ne=!0}}else(z.length!==1||z[0]!==36064)&&(z[0]=36064,z.length=1,Ne=!0);else(z.length!==1||z[0]!==1029)&&(z[0]=1029,z.length=1,Ne=!0);Ne&&(pe.isWebGL2?W.drawBuffers(z):Pe.get("WEBGL_draw_buffers").drawBuffersWEBGL(z))}if(we.viewport(S),we.scissor(M),we.setScissorTest(T),ie){const Ne=K.get(I.texture);W.framebufferTexture2D(36160,36064,34069+G,Ne.__webglTexture,Q)}else if(Oe){const Ne=K.get(I.texture),Ve=G||0;W.framebufferTextureLayer(36160,36064,Ne.__webglTexture,Q||0,Ve)}w=-1},this.readRenderTargetPixels=function(I,G,Q,X,ie,Oe,De){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ne=K.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&De!==void 0&&(Ne=Ne[De]),Ne){we.bindFramebuffer(36160,Ne);try{const Ve=I.texture,et=Ve.format,Ge=Ve.type;if(et!==cn&&ne.convert(et)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ke=Ge===Bo&&(Pe.has("EXT_color_buffer_half_float")||pe.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(Ge!==Vr&&ne.convert(Ge)!==W.getParameter(35738)&&!(Ge===rr&&(pe.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!Ke){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}W.checkFramebufferStatus(36160)===36053?G>=0&&G<=I.width-X&&Q>=0&&Q<=I.height-ie&&W.readPixels(G,Q,X,ie,ne.convert(et),ne.convert(Ge),Oe):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ve=v!==null?K.get(v).__webglFramebuffer:null;we.bindFramebuffer(36160,Ve)}}},this.copyFramebufferToTexture=function(I,G,Q=0){const X=Math.pow(2,-Q),ie=Math.floor(G.image.width*X),Oe=Math.floor(G.image.height*X);let De=ne.convert(G.format);pe.isWebGL2&&(De===6407&&(De=32849),De===6408&&(De=32856)),se.setTexture2D(G,0),W.copyTexImage2D(3553,Q,De,I.x,I.y,ie,Oe,0),we.unbindTexture()},this.copyTextureToTexture=function(I,G,Q,X=0){const ie=G.image.width,Oe=G.image.height,De=ne.convert(Q.format),Ne=ne.convert(Q.type);se.setTexture2D(Q,0),W.pixelStorei(37440,Q.flipY),W.pixelStorei(37441,Q.premultiplyAlpha),W.pixelStorei(3317,Q.unpackAlignment),G.isDataTexture?W.texSubImage2D(3553,X,I.x,I.y,ie,Oe,De,Ne,G.image.data):G.isCompressedTexture?W.compressedTexSubImage2D(3553,X,I.x,I.y,G.mipmaps[0].width,G.mipmaps[0].height,De,G.mipmaps[0].data):W.texSubImage2D(3553,X,I.x,I.y,De,Ne,G.image),X===0&&Q.generateMipmaps&&W.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(I,G,Q,X,ie=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Oe=I.max.x-I.min.x+1,De=I.max.y-I.min.y+1,Ne=I.max.z-I.min.z+1,Ve=ne.convert(X.format),et=ne.convert(X.type);let Ge;if(X.isDataTexture3D)se.setTexture3D(X,0),Ge=32879;else if(X.isDataTexture2DArray)se.setTexture2DArray(X,0),Ge=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(37440,X.flipY),W.pixelStorei(37441,X.premultiplyAlpha),W.pixelStorei(3317,X.unpackAlignment);const Ke=W.getParameter(3314),Mt=W.getParameter(32878),ro=W.getParameter(3316),Qe=W.getParameter(3315),fc=W.getParameter(32877),ut=Q.isCompressedTexture?Q.mipmaps[0]:Q.image;W.pixelStorei(3314,ut.width),W.pixelStorei(32878,ut.height),W.pixelStorei(3316,I.min.x),W.pixelStorei(3315,I.min.y),W.pixelStorei(32877,I.min.z),Q.isDataTexture||Q.isDataTexture3D?W.texSubImage3D(Ge,ie,G.x,G.y,G.z,Oe,De,Ne,Ve,et,ut.data):Q.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(Ge,ie,G.x,G.y,G.z,Oe,De,Ne,Ve,ut.data)):W.texSubImage3D(Ge,ie,G.x,G.y,G.z,Oe,De,Ne,Ve,et,ut),W.pixelStorei(3314,Ke),W.pixelStorei(32878,Mt),W.pixelStorei(3316,ro),W.pixelStorei(3315,Qe),W.pixelStorei(32877,fc),ie===0&&X.generateMipmaps&&W.generateMipmap(Ge),we.unbindTexture()},this.initTexture=function(I){se.setTexture2D(I,0),we.unbindTexture()},this.resetState=function(){p=0,m=0,v=null,we.reset(),_e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}st.prototype.isWebGLRenderer=!0;class fL extends st{}fL.prototype.isWebGL1Renderer=!0;class bd{constructor(e,n=25e-5){this.name="",this.color=new ge(e),this.density=n}clone(){return new bd(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}bd.prototype.isFogExp2=!0;class _d{constructor(e,n=1,i=1e3){this.name="",this.color=new ge(e),this.near=n,this.far=i}clone(){return new _d(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}_d.prototype.isFog=!0;class em extends He{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}em.prototype.isScene=!0;class da{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=kl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}da.prototype.isInterleavedBuffer=!0;const Pt=new R;class Ws{constructor(e,n,i,r=!1){this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Pt.x=this.getX(n),Pt.y=this.getY(n),Pt.z=this.getZ(n),Pt.applyMatrix4(e),this.setXYZ(n,Pt.x,Pt.y,Pt.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Pt.x=this.getX(n),Pt.y=this.getY(n),Pt.z=this.getZ(n),Pt.applyNormalMatrix(e),this.setXYZ(n,Pt.x,Pt.y,Pt.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Pt.x=this.getX(n),Pt.y=this.getY(n),Pt.z=this.getZ(n),Pt.transformDirection(e),this.setXYZ(n,Pt.x,Pt.y,Pt.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new qe(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ws(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ws.prototype.isInterleavedBufferAttribute=!0;class tm extends tn{constructor(e){super(),this.type="SpriteMaterial",this.color=new ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}tm.prototype.isSpriteMaterial=!0;let Na;const Lc=new R,Ia=new R,Da=new R,ka=new te,Nc=new te,pL=new Te,Eh=new R,Ic=new R,Th=new R,cS=new te,Bg=new te,uS=new te;class nm extends He{constructor(e){if(super(),this.type="Sprite",Na===void 0){Na=new Le;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new da(n,5);Na.setIndex([0,1,2,0,2,3]),Na.setAttribute("position",new Ws(i,3,0,!1)),Na.setAttribute("uv",new Ws(i,2,3,!1))}this.geometry=Na,this.material=e!==void 0?e:new tm,this.center=new te(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ia.setFromMatrixScale(this.matrixWorld),pL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Da.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ia.multiplyScalar(-Da.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Ch(Eh.set(-.5,-.5,0),Da,o,Ia,r,s),Ch(Ic.set(.5,-.5,0),Da,o,Ia,r,s),Ch(Th.set(.5,.5,0),Da,o,Ia,r,s),cS.set(0,0),Bg.set(1,0),uS.set(1,1);let a=e.ray.intersectTriangle(Eh,Ic,Th,!1,Lc);if(a===null&&(Ch(Ic.set(-.5,.5,0),Da,o,Ia,r,s),Bg.set(0,1),a=e.ray.intersectTriangle(Eh,Th,Ic,!1,Lc),a===null))return;const l=e.ray.origin.distanceTo(Lc);l<e.near||l>e.far||n.push({distance:l,point:Lc.clone(),uv:It.getUV(Lc,Eh,Ic,Th,cS,Bg,uS,new te),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}nm.prototype.isSprite=!0;function Ch(t,e,n,i,r,s){ka.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Nc.x=s*ka.x-r*ka.y,Nc.y=r*ka.x+s*ka.y):Nc.copy(ka),t.copy(e),t.x+=Nc.x,t.y+=Nc.y,t.applyMatrix4(pL)}const Ah=new R,dS=new R;class mL extends He{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const i=this.levels;let r;for(r=0;r<i.length&&!(n<i[r].distance);r++);return i.splice(r,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r&&!(e<n[i].distance);i++);return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Ah.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ah);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ah.setFromMatrixPosition(e.matrixWorld),dS.setFromMatrixPosition(this.matrixWorld);const i=Ah.distanceTo(dS)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s&&i>=n[r].distance;r++)n[r-1].object.visible=!1,n[r].object.visible=!0;for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance})}return n}}const hS=new R,fS=new nt,pS=new nt,A9=new R,mS=new Te;class im extends Ut{constructor(e,n){super(e,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Te,this.bindMatrixInverse=new Te}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.x=n.getX(i),e.y=n.getY(i),e.z=n.getZ(i),e.w=n.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,r=this.geometry;fS.fromBufferAttribute(r.attributes.skinIndex,e),pS.fromBufferAttribute(r.attributes.skinWeight,e),hS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=pS.getComponent(s);if(o!==0){const a=fS.getComponent(s);mS.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(A9.copy(hS).applyMatrix4(mS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}im.prototype.isSkinnedMesh=!0;class rm extends He{constructor(){super(),this.type="Bone"}}rm.prototype.isBone=!0;class jo extends qt{constructor(e=null,n=1,i=1,r,s,o,a,l,c=Bt,u=Bt,d,h){super(null,o,a,l,c,u,r,s,d,h),this.image={data:e,width:n,height:i},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}jo.prototype.isDataTexture=!0;const gS=new Te,P9=new Te;class sm{constructor(e=[],n=[]){this.uuid=Qn(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Te)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Te;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:P9;gS.multiplyMatrices(a,n[s]),gS.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new sm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=UR(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new jo(n,e,e,cn,rr);return this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new rm),this.bones.push(o),this.boneInverses.push(new Te().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Qo extends qe{constructor(e,n,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,n,i),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Qo.prototype.isInstancedBufferAttribute=!0;const yS=new Te,xS=new Te,Ph=[],Dc=new Ut;class ww extends Ut{constructor(e,n,i){super(e,n),this.instanceMatrix=new Qo(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Dc.geometry=this.geometry,Dc.material=this.material,Dc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,yS),xS.multiplyMatrices(i,yS),Dc.matrixWorld=xS,Dc.raycast(e,Ph);for(let o=0,a=Ph.length;o<a;o++){const l=Ph[o];l.instanceId=s,l.object=this,n.push(l)}Ph.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Qo(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}ww.prototype.isInstancedMesh=!0;class nn extends tn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new ge(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}nn.prototype.isLineBasicMaterial=!0;const vS=new R,wS=new R,bS=new Te,Ug=new io,Rh=new no;class Gr extends He{constructor(e=new Le,n=new nn){super(),this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)vS.fromBufferAttribute(n,r-1),wS.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=vS.distanceTo(wS);e.setAttribute("lineDistance",new Me(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Rh.copy(i.boundingSphere),Rh.applyMatrix4(r),Rh.radius+=s,e.ray.intersectsSphere(Rh)===!1)return;bS.copy(r).invert(),Ug.copy(e.ray).applyMatrix4(bS);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new R,u=new R,d=new R,h=new R,f=this.isLineSegments?2:1;if(i.isBufferGeometry){const g=i.index,x=i.attributes.position;if(g!==null){const p=Math.max(0,o.start),m=Math.min(g.count,o.start+o.count);for(let v=p,w=m-1;v<w;v+=f){const _=g.getX(v),S=g.getX(v+1);if(c.fromBufferAttribute(x,_),u.fromBufferAttribute(x,S),Ug.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{const p=Math.max(0,o.start),m=Math.min(x.count,o.start+o.count);for(let v=p,w=m-1;v<w;v+=f){if(c.fromBufferAttribute(x,v),u.fromBufferAttribute(x,v+1),Ug.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(h);S<e.near||S>e.far||n.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Gr.prototype.isLine=!0;const _S=new R,MS=new R;class Hn extends Gr{constructor(e,n){super(e,n),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)_S.fromBufferAttribute(n,r),MS.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+_S.distanceTo(MS);e.setAttribute("lineDistance",new Me(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Hn.prototype.isLineSegments=!0;class bw extends Gr{constructor(e,n){super(e,n),this.type="LineLoop"}}bw.prototype.isLineLoop=!0;class ha extends tn{constructor(e){super(),this.type="PointsMaterial",this.color=new ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}ha.prototype.isPointsMaterial=!0;const SS=new Te,tx=new io,Lh=new no,Nh=new R;class Md extends He{constructor(e=new Le,n=new ha){super(),this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lh.copy(i.boundingSphere),Lh.applyMatrix4(r),Lh.radius+=s,e.ray.intersectsSphere(Lh)===!1)return;SS.copy(r).invert(),tx.copy(e.ray).applyMatrix4(SS);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,d=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),f=Math.min(c.count,o.start+o.count);for(let g=h,y=f;g<y;g++){const x=c.getX(g);Nh.fromBufferAttribute(d,x),ES(Nh,x,l,r,e,n,this)}}else{const h=Math.max(0,o.start),f=Math.min(d.count,o.start+o.count);for(let g=h,y=f;g<y;g++)Nh.fromBufferAttribute(d,g),ES(Nh,g,l,r,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Md.prototype.isPoints=!0;function ES(t,e,n,i,r,s,o){const a=tx.distanceSqToPoint(t);if(a<n){const l=new R;tx.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class gL extends qt{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.format=a!==void 0?a:Uo,this.minFilter=o!==void 0?o:Wt,this.magFilter=s!==void 0?s:Wt,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}gL.prototype.isVideoTexture=!0;class _w extends qt{constructor(e,n,i,r,s,o,a,l,c,u,d,h){super(null,o,a,l,c,u,r,s,d,h),this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}_w.prototype.isCompressedTexture=!0;class yL extends qt{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.needsUpdate=!0}}yL.prototype.isCanvasTexture=!0;class xL extends qt{constructor(e,n,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Vo,u!==Vo&&u!==Dl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Vo&&(i=Uu),i===void 0&&u===Dl&&(i=pl),super(null,r,s,o,a,l,u,i,c),this.image={width:e,height:n},this.magFilter=a!==void 0?a:Bt,this.minFilter=l!==void 0?l:Bt,this.flipY=!1,this.generateMipmaps=!1}}xL.prototype.isDepthTexture=!0;class zl extends Le{constructor(e=1,n=8,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new R,u=new te;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const f=i+d/n*r;c.x=e*Math.cos(f),c.y=e*Math.sin(f),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Me(o,3)),this.setAttribute("normal",new Me(a,3)),this.setAttribute("uv",new Me(l,2))}static fromJSON(e){return new zl(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $s extends Le{constructor(e=1,n=1,i=1,r=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],h=[],f=[];let g=0;const y=[],x=i/2;let p=0;m(),o===!1&&(e>0&&v(!0),n>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new Me(d,3)),this.setAttribute("normal",new Me(h,3)),this.setAttribute("uv",new Me(f,2));function m(){const w=new R,_=new R;let S=0;const M=(n-e)/i;for(let T=0;T<=s;T++){const P=[],C=T/s,A=C*(n-e)+e;for(let O=0;O<=r;O++){const F=O/r,N=F*l+a,H=Math.sin(N),B=Math.cos(N);_.x=A*H,_.y=-C*i+x,_.z=A*B,d.push(_.x,_.y,_.z),w.set(H,M,B).normalize(),h.push(w.x,w.y,w.z),f.push(F,1-C),P.push(g++)}y.push(P)}for(let T=0;T<r;T++)for(let P=0;P<s;P++){const C=y[P][T],A=y[P+1][T],O=y[P+1][T+1],F=y[P][T+1];u.push(C,A,F),u.push(A,O,F),S+=6}c.addGroup(p,S,0),p+=S}function v(w){const _=g,S=new te,M=new R;let T=0;const P=w===!0?e:n,C=w===!0?1:-1;for(let O=1;O<=r;O++)d.push(0,x*C,0),h.push(0,C,0),f.push(.5,.5),g++;const A=g;for(let O=0;O<=r;O++){const N=O/r*l+a,H=Math.cos(N),B=Math.sin(N);M.x=P*B,M.y=x*C,M.z=P*H,d.push(M.x,M.y,M.z),h.push(0,C,0),S.x=H*.5+.5,S.y=B*.5*C+.5,f.push(S.x,S.y),g++}for(let O=0;O<r;O++){const F=_+O,N=A+O;w===!0?u.push(N,N+1,F):u.push(N+1,N,F),T+=3}c.addGroup(p,T,w===!0?1:2),p+=T}}static fromJSON(e){return new $s(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bl extends $s{constructor(e=1,n=1,i=8,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Bl(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pr extends Le{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new Me(s,3)),this.setAttribute("normal",new Me(s.slice(),3)),this.setAttribute("uv",new Me(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(m){const v=new R,w=new R,_=new R;for(let S=0;S<n.length;S+=3)f(n[S+0],v),f(n[S+1],w),f(n[S+2],_),l(v,w,_,m)}function l(m,v,w,_){const S=_+1,M=[];for(let T=0;T<=S;T++){M[T]=[];const P=m.clone().lerp(w,T/S),C=v.clone().lerp(w,T/S),A=S-T;for(let O=0;O<=A;O++)O===0&&T===S?M[T][O]=P:M[T][O]=P.clone().lerp(C,O/A)}for(let T=0;T<S;T++)for(let P=0;P<2*(S-T)-1;P++){const C=Math.floor(P/2);P%2===0?(h(M[T][C+1]),h(M[T+1][C]),h(M[T][C])):(h(M[T][C+1]),h(M[T+1][C+1]),h(M[T+1][C]))}}function c(m){const v=new R;for(let w=0;w<s.length;w+=3)v.x=s[w+0],v.y=s[w+1],v.z=s[w+2],v.normalize().multiplyScalar(m),s[w+0]=v.x,s[w+1]=v.y,s[w+2]=v.z}function u(){const m=new R;for(let v=0;v<s.length;v+=3){m.x=s[v+0],m.y=s[v+1],m.z=s[v+2];const w=x(m)/2/Math.PI+.5,_=p(m)/Math.PI+.5;o.push(w,1-_)}g(),d()}function d(){for(let m=0;m<o.length;m+=6){const v=o[m+0],w=o[m+2],_=o[m+4],S=Math.max(v,w,_),M=Math.min(v,w,_);S>.9&&M<.1&&(v<.2&&(o[m+0]+=1),w<.2&&(o[m+2]+=1),_<.2&&(o[m+4]+=1))}}function h(m){s.push(m.x,m.y,m.z)}function f(m,v){const w=m*3;v.x=e[w+0],v.y=e[w+1],v.z=e[w+2]}function g(){const m=new R,v=new R,w=new R,_=new R,S=new te,M=new te,T=new te;for(let P=0,C=0;P<s.length;P+=9,C+=6){m.set(s[P+0],s[P+1],s[P+2]),v.set(s[P+3],s[P+4],s[P+5]),w.set(s[P+6],s[P+7],s[P+8]),S.set(o[C+0],o[C+1]),M.set(o[C+2],o[C+3]),T.set(o[C+4],o[C+5]),_.copy(m).add(v).add(w).divideScalar(3);const A=x(_);y(S,C+0,m,A),y(M,C+2,v,A),y(T,C+4,w,A)}}function y(m,v,w,_){_<0&&m.x===1&&(o[v]=m.x-1),w.x===0&&w.z===0&&(o[v]=_/2/Math.PI+.5)}function x(m){return Math.atan2(m.z,-m.x)}function p(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}static fromJSON(e){return new pr(e.vertices,e.indices,e.radius,e.details)}}class Ul extends pr{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ul(e.radius,e.detail)}}const Ih=new R,Dh=new R,Vg=new R,kh=new It;class Mw extends Le{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Ho*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},f=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:x,c:p}=kh;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),p.fromBufferAttribute(a,c[2]),kh.getNormal(Vg),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(p.x*r)},${Math.round(p.y*r)},${Math.round(p.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let m=0;m<3;m++){const v=(m+1)%3,w=d[m],_=d[v],S=kh[u[m]],M=kh[u[v]],T=`${w}_${_}`,P=`${_}_${w}`;P in h&&h[P]?(Vg.dot(h[P].normal)<=s&&(f.push(S.x,S.y,S.z),f.push(M.x,M.y,M.z)),h[P]=null):T in h||(h[T]={index0:c[m],index1:c[v],normal:Vg.clone()})}}for(const g in h)if(h[g]){const{index0:y,index1:x}=h[g];Ih.fromBufferAttribute(a,y),Dh.fromBufferAttribute(a,x),f.push(Ih.x,Ih.y,Ih.z),f.push(Dh.x,Dh.y,Dh.z)}this.setAttribute("position",new Me(f,3))}}}class ti{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],h=i[r+1]-u,f=(o-u)/h;return(r+f)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new te:new R);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new R,r=[],s=[],o=[],a=new R,l=new Te;for(let f=0;f<=e;f++){const g=f/e;r[f]=this.getTangentAt(g,new R)}s[0]=new R,o[0]=new R;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),h<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let f=1;f<=e;f++){if(s[f]=s[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(on(r[f-1].dot(r[f]),-1,1));s[f].applyMatrix4(l.makeRotationAxis(a,g))}o[f].crossVectors(r[f],s[f])}if(n===!0){let f=Math.acos(on(s[0].dot(s[e]),-1,1));f/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(f=-f);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],f*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Sd extends ti{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new te,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*u-f*d+this.aX,c=h*d+f*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Sd.prototype.isEllipseCurve=!0;class Sw extends Sd{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.type="ArcCurve"}}Sw.prototype.isArcCurve=!0;function Ew(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,f=(a-o)/u-(l-o)/(u+d)+(l-a)/d;h*=u,f*=u,r(o,a,h,f)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const Fh=new R,Hg=new Ew,jg=new Ew,Gg=new Ew;class Tw extends ti{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new R){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Fh.subVectors(r[0],r[1]).add(r[0]),c=Fh);const d=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Fh.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Fh),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(h),f),x=Math.pow(h.distanceToSquared(u),f);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),Hg.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,g,y,x),jg.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,g,y,x),Gg.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,g,y,x)}else this.curveType==="catmullrom"&&(Hg.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),jg.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),Gg.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return i.set(Hg.calc(l),jg.calc(l),Gg.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new R().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}Tw.prototype.isCatmullRomCurve3=!0;function TS(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function R9(t,e){const n=1-t;return n*n*e}function L9(t,e){return 2*(1-t)*t*e}function N9(t,e){return t*t*e}function ou(t,e,n,i){return R9(t,e)+L9(t,n)+N9(t,i)}function I9(t,e){const n=1-t;return n*n*n*e}function D9(t,e){const n=1-t;return 3*n*n*t*e}function k9(t,e){return 3*(1-t)*t*t*e}function F9(t,e){return t*t*t*e}function au(t,e,n,i,r){return I9(t,e)+D9(t,n)+k9(t,i)+F9(t,r)}class om extends ti{constructor(e=new te,n=new te,i=new te,r=new te){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new te){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(au(e,r.x,s.x,o.x,a.x),au(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}om.prototype.isCubicBezierCurve=!0;class Cw extends ti{constructor(e=new R,n=new R,i=new R,r=new R){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new R){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(au(e,r.x,s.x,o.x,a.x),au(e,r.y,s.y,o.y,a.y),au(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Cw.prototype.isCubicBezierCurve3=!0;class Ed extends ti{constructor(e=new te,n=new te){super(),this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new te){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new te;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ed.prototype.isLineCurve=!0;class vL extends ti{constructor(e=new R,n=new R){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new R){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class am extends ti{constructor(e=new te,n=new te,i=new te){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new te){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(ou(e,r.x,s.x,o.x),ou(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}am.prototype.isQuadraticBezierCurve=!0;class lm extends ti{constructor(e=new R,n=new R,i=new R){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new R){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(ou(e,r.x,s.x,o.x),ou(e,r.y,s.y,o.y),ou(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lm.prototype.isQuadraticBezierCurve3=!0;class cm extends ti{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,n=new te){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(TS(a,l.x,c.x,u.x,d.x),TS(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new te().fromArray(r))}return this}}cm.prototype.isSplineCurve=!0;var Aw=Object.freeze({__proto__:null,ArcCurve:Sw,CatmullRomCurve3:Tw,CubicBezierCurve:om,CubicBezierCurve3:Cw,EllipseCurve:Sd,LineCurve:Ed,LineCurve3:vL,QuadraticBezierCurve:am,QuadraticBezierCurve3:lm,SplineCurve:cm});class wL extends ti{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Ed(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Aw[r.type]().fromJSON(r))}return this}}class Wu extends wL{constructor(e){super(),this.type="Path",this.currentPoint=new te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Ed(this.currentPoint.clone(),new te(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new am(this.currentPoint.clone(),new te(e,n),new te(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new om(this.currentPoint.clone(),new te(e,n),new te(i,r),new te(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new cm(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new Sd(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ur extends Wu{constructor(e){super(e),this.uuid=Qn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new Wu().fromJSON(r))}return this}}const O9={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=bL(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,h,f;if(i&&(s=H9(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<r;g+=n)d=t[g],h=t[g+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-a,u-l),f=f!==0?1/f:0}return $u(s,o,n,a,l,f),o}};function bL(t,e,n,i,r){let s,o;if(r===Q9(t,e,n,i)>0)for(s=e;s<n;s+=i)o=CS(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=CS(s,t[s],t[s+1],o);return o&&um(o,o.next)&&(Xu(o),o=o.next),o}function qs(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(um(n,n.next)||wt(n.prev,n,n.next)===0)){if(Xu(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function $u(t,e,n,i,r,s,o){if(!t)return;!o&&s&&q9(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?B9(t,i,r,s):z9(t)){e.push(l.i/n),e.push(t.i/n),e.push(c.i/n),Xu(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=U9(qs(t),e,n),$u(t,e,n,i,r,s,2)):o===2&&V9(t,e,n,i,r,s):$u(qs(t),e,n,i,r,s,1);break}}}function z9(t){const e=t.prev,n=t,i=t.next;if(wt(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(nl(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&wt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function B9(t,e,n,i){const r=t.prev,s=t,o=t.next;if(wt(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,d=nx(a,l,e,n,i),h=nx(c,u,e,n,i);let f=t.prevZ,g=t.nextZ;for(;f&&f.z>=d&&g&&g.z<=h;){if(f!==t.prev&&f!==t.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&wt(f.prev,f,f.next)>=0||(f=f.prevZ,g!==t.prev&&g!==t.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&wt(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;f&&f.z>=d;){if(f!==t.prev&&f!==t.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&wt(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=h;){if(g!==t.prev&&g!==t.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&wt(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function U9(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!um(r,s)&&_L(r,i,i.next,s)&&qu(r,s)&&qu(s,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(s.i/n),Xu(i),Xu(i.next),i=t=s),i=i.next}while(i!==t);return qs(i)}function V9(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Z9(o,a)){let l=ML(o,a);o=qs(o,o.next),l=qs(l,l.next),$u(o,e,n,i,r,s),$u(l,e,n,i,r,s);return}a=a.next}o=o.next}while(o!==t)}function H9(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=bL(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Y9(c));for(r.sort(j9),s=0;s<r.length;s++)G9(r[s],n),n=qs(n,n.next);return n}function j9(t,e){return t.x-e.x}function G9(t,e){if(e=W9(t,e),e){const n=ML(e,t);qs(e,e.next),qs(n,n.next)}}function W9(t,e){let n=e;const i=t.x,r=t.y;let s=-1/0,o;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const h=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=i&&h>s){if(s=h,h===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,d;n=o;do i>=n.x&&n.x>=l&&i!==n.x&&nl(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)&&(d=Math.abs(r-n.y)/(i-n.x),qu(n,t)&&(d<u||d===u&&(n.x>o.x||n.x===o.x&&$9(o,n)))&&(o=n,u=d)),n=n.next;while(n!==a);return o}function $9(t,e){return wt(t.prev,t,e.prev)<0&&wt(e.next,t,t.next)<0}function q9(t,e,n,i){let r=t;do r.z===null&&(r.z=nx(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,X9(r)}function X9(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function nx(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Y9(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function nl(t,e,n,i,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(n-o)*(e-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function Z9(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!J9(t,e)&&(qu(t,e)&&qu(e,t)&&K9(t,e)&&(wt(t.prev,t,e.prev)||wt(t,e.prev,e))||um(t,e)&&wt(t.prev,t,t.next)>0&&wt(e.prev,e,e.next)>0)}function wt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function um(t,e){return t.x===e.x&&t.y===e.y}function _L(t,e,n,i){const r=zh(wt(t,e,n)),s=zh(wt(t,e,i)),o=zh(wt(n,i,t)),a=zh(wt(n,i,e));return!!(r!==s&&o!==a||r===0&&Oh(t,n,e)||s===0&&Oh(t,i,e)||o===0&&Oh(n,t,i)||a===0&&Oh(n,e,i))}function Oh(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function zh(t){return t>0?1:t<0?-1:0}function J9(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_L(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function qu(t,e){return wt(t.prev,t,t.next)<0?wt(t,e,t.next)>=0&&wt(t,t.prev,e)>=0:wt(t,e,t.prev)<0||wt(t,t.next,e)<0}function K9(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function ML(t,e){const n=new ix(t.i,t.x,t.y),i=new ix(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function CS(t,e,n,i){const r=new ix(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Xu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ix(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q9(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class dr{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return dr.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];AS(e),PS(i,e);let o=e.length;n.forEach(AS);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,PS(i,n[l]);const a=O9.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function AS(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function PS(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class mr extends Le{constructor(e=new ur([new te(.5,.5),new te(-.5,.5),new te(-.5,-.5),new te(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Me(r,3)),this.setAttribute("uv",new Me(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:1,h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,f=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:f-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,m=n.UVGenerator!==void 0?n.UVGenerator:e$;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let v,w=!1,_,S,M,T;p&&(v=p.getSpacedPoints(u),w=!0,h=!1,_=p.computeFrenetFrames(u,!1),S=new R,M=new R,T=new R),h||(x=0,f=0,g=0,y=0);const P=a.extractPoints(c);let C=P.shape;const A=P.holes;if(!dr.isClockWise(C)){C=C.reverse();for(let K=0,se=A.length;K<se;K++){const ue=A[K];dr.isClockWise(ue)&&(A[K]=ue.reverse())}}const F=dr.triangulateShape(C,A),N=C;for(let K=0,se=A.length;K<se;K++){const ue=A[K];C=C.concat(ue)}function H(K,se,ue){return se||console.error("THREE.ExtrudeGeometry: vec does not exist"),se.clone().multiplyScalar(ue).add(K)}const B=C.length,z=F.length;function k(K,se,ue){let Se,fe,D;const L=K.x-se.x,Y=K.y-se.y,ce=ue.x-K.x,ae=ue.y-K.y,xe=L*L+Y*Y,Ae=L*ae-Y*ce;if(Math.abs(Ae)>Number.EPSILON){const Ce=Math.sqrt(xe),Ie=Math.sqrt(ce*ce+ae*ae),ye=se.x-Y/Ce,V=se.y+L/Ce,me=ue.x-ae/Ie,ne=ue.y+ce/Ie,_e=((me-ye)*ae-(ne-V)*ce)/(L*ae-Y*ce);Se=ye+L*_e-K.x,fe=V+Y*_e-K.y;const Ee=Se*Se+fe*fe;if(Ee<=2)return new te(Se,fe);D=Math.sqrt(Ee/2)}else{let Ce=!1;L>Number.EPSILON?ce>Number.EPSILON&&(Ce=!0):L<-Number.EPSILON?ce<-Number.EPSILON&&(Ce=!0):Math.sign(Y)===Math.sign(ae)&&(Ce=!0),Ce?(Se=-Y,fe=L,D=Math.sqrt(xe)):(Se=L,fe=Y,D=Math.sqrt(xe/2))}return new te(Se/D,fe/D)}const U=[];for(let K=0,se=N.length,ue=se-1,Se=K+1;K<se;K++,ue++,Se++)ue===se&&(ue=0),Se===se&&(Se=0),U[K]=k(N[K],N[ue],N[Se]);const $=[];let ee,re=U.concat();for(let K=0,se=A.length;K<se;K++){const ue=A[K];ee=[];for(let Se=0,fe=ue.length,D=fe-1,L=Se+1;Se<fe;Se++,D++,L++)D===fe&&(D=0),L===fe&&(L=0),ee[Se]=k(ue[Se],ue[D],ue[L]);$.push(ee),re=re.concat(ee)}for(let K=0;K<x;K++){const se=K/x,ue=f*Math.cos(se*Math.PI/2),Se=g*Math.sin(se*Math.PI/2)+y;for(let fe=0,D=N.length;fe<D;fe++){const L=H(N[fe],U[fe],Se);le(L.x,L.y,-ue)}for(let fe=0,D=A.length;fe<D;fe++){const L=A[fe];ee=$[fe];for(let Y=0,ce=L.length;Y<ce;Y++){const ae=H(L[Y],ee[Y],Se);le(ae.x,ae.y,-ue)}}}const q=g+y;for(let K=0;K<B;K++){const se=h?H(C[K],re[K],q):C[K];w?(M.copy(_.normals[0]).multiplyScalar(se.x),S.copy(_.binormals[0]).multiplyScalar(se.y),T.copy(v[0]).add(M).add(S),le(T.x,T.y,T.z)):le(se.x,se.y,0)}for(let K=1;K<=u;K++)for(let se=0;se<B;se++){const ue=h?H(C[se],re[se],q):C[se];w?(M.copy(_.normals[K]).multiplyScalar(ue.x),S.copy(_.binormals[K]).multiplyScalar(ue.y),T.copy(v[K]).add(M).add(S),le(T.x,T.y,T.z)):le(ue.x,ue.y,d/u*K)}for(let K=x-1;K>=0;K--){const se=K/x,ue=f*Math.cos(se*Math.PI/2),Se=g*Math.sin(se*Math.PI/2)+y;for(let fe=0,D=N.length;fe<D;fe++){const L=H(N[fe],U[fe],Se);le(L.x,L.y,d+ue)}for(let fe=0,D=A.length;fe<D;fe++){const L=A[fe];ee=$[fe];for(let Y=0,ce=L.length;Y<ce;Y++){const ae=H(L[Y],ee[Y],Se);w?le(ae.x,ae.y+v[u-1].y,v[u-1].x+ue):le(ae.x,ae.y,d+ue)}}}J(),j();function J(){const K=r.length/3;if(h){let se=0,ue=B*se;for(let Se=0;Se<z;Se++){const fe=F[Se];Pe(fe[2]+ue,fe[1]+ue,fe[0]+ue)}se=u+x*2,ue=B*se;for(let Se=0;Se<z;Se++){const fe=F[Se];Pe(fe[0]+ue,fe[1]+ue,fe[2]+ue)}}else{for(let se=0;se<z;se++){const ue=F[se];Pe(ue[2],ue[1],ue[0])}for(let se=0;se<z;se++){const ue=F[se];Pe(ue[0]+B*u,ue[1]+B*u,ue[2]+B*u)}}i.addGroup(K,r.length/3-K,0)}function j(){const K=r.length/3;let se=0;W(N,se),se+=N.length;for(let ue=0,Se=A.length;ue<Se;ue++){const fe=A[ue];W(fe,se),se+=fe.length}i.addGroup(K,r.length/3-K,1)}function W(K,se){let ue=K.length;for(;--ue>=0;){const Se=ue;let fe=ue-1;fe<0&&(fe=K.length-1);for(let D=0,L=u+x*2;D<L;D++){const Y=B*D,ce=B*(D+1),ae=se+Se+Y,xe=se+fe+Y,Ae=se+fe+ce,Ce=se+Se+ce;pe(ae,xe,Ae,Ce)}}}function le(K,se,ue){l.push(K),l.push(se),l.push(ue)}function Pe(K,se,ue){we(K),we(se),we(ue);const Se=r.length/3,fe=m.generateTopUV(i,r,Se-3,Se-2,Se-1);Re(fe[0]),Re(fe[1]),Re(fe[2])}function pe(K,se,ue,Se){we(K),we(se),we(Se),we(se),we(ue),we(Se);const fe=r.length/3,D=m.generateSideWallUV(i,r,fe-6,fe-3,fe-2,fe-1);Re(D[0]),Re(D[1]),Re(D[3]),Re(D[1]),Re(D[2]),Re(D[3])}function we(K){r.push(l[K*3+0]),r.push(l[K*3+1]),r.push(l[K*3+2])}function Re(K){s.push(K.x),s.push(K.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return t$(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Aw[r.type]().fromJSON(r)),new mr(i,e.options)}}const e$={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new te(s,o),new te(a,l),new te(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],h=e[r*3],f=e[r*3+1],g=e[r*3+2],y=e[s*3],x=e[s*3+1],p=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new te(o,1-l),new te(c,1-d),new te(h,1-g),new te(y,1-p)]:[new te(a,1-l),new te(u,1-d),new te(f,1-g),new te(x,1-p)]}};function t$(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Vl extends pr{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Vl(e.radius,e.detail)}}class Hl extends Le{constructor(e=[new te(0,.5),new te(.5,0),new te(0,-.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=on(r,0,Math.PI*2);const s=[],o=[],a=[],l=1/n,c=new R,u=new te;for(let d=0;d<=n;d++){const h=i+d*l*r,f=Math.sin(h),g=Math.cos(h);for(let y=0;y<=e.length-1;y++)c.x=e[y].x*f,c.y=e[y].y,c.z=e[y].x*g,o.push(c.x,c.y,c.z),u.x=d/n,u.y=y/(e.length-1),a.push(u.x,u.y)}for(let d=0;d<n;d++)for(let h=0;h<e.length-1;h++){const f=h+d*e.length,g=f,y=f+e.length,x=f+e.length+1,p=f+1;s.push(g,y,p),s.push(y,x,p)}if(this.setIndex(s),this.setAttribute("position",new Me(o,3)),this.setAttribute("uv",new Me(a,2)),this.computeVertexNormals(),r===Math.PI*2){const d=this.attributes.normal.array,h=new R,f=new R,g=new R,y=n*e.length*3;for(let x=0,p=0;x<e.length;x++,p+=3)h.x=d[p+0],h.y=d[p+1],h.z=d[p+2],f.x=d[y+p+0],f.y=d[y+p+1],f.z=d[y+p+2],g.addVectors(h,f).normalize(),d[p+0]=d[y+p+0]=g.x,d[p+1]=d[y+p+1]=g.y,d[p+2]=d[y+p+2]=g.z}}static fromJSON(e){return new Hl(e.points,e.segments,e.phiStart,e.phiLength)}}class ea extends pr{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ea(e.radius,e.detail)}}class jl extends Le{constructor(e=.5,n=1,i=8,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const h=(n-e)/r,f=new R,g=new te;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const p=s+x/i*o;f.x=d*Math.cos(p),f.y=d*Math.sin(p),l.push(f.x,f.y,f.z),c.push(0,0,1),g.x=(f.x/n+1)/2,g.y=(f.y/n+1)/2,u.push(g.x,g.y)}d+=h}for(let y=0;y<r;y++){const x=y*(i+1);for(let p=0;p<i;p++){const m=p+x,v=m,w=m+i+1,_=m+i+2,S=m+1;a.push(v,w,S),a.push(w,_,S)}}this.setIndex(a),this.setAttribute("position",new Me(l,3)),this.setAttribute("normal",new Me(c,3)),this.setAttribute("uv",new Me(u,2))}static fromJSON(e){return new jl(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ta extends Le{constructor(e=new ur([new te(0,.5),new te(-.5,-.5),new te(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Me(r,3)),this.setAttribute("normal",new Me(s,3)),this.setAttribute("uv",new Me(o,2));function c(u){const d=r.length/3,h=u.extractPoints(n);let f=h.shape;const g=h.holes;dr.isClockWise(f)===!1&&(f=f.reverse());for(let x=0,p=g.length;x<p;x++){const m=g[x];dr.isClockWise(m)===!0&&(g[x]=m.reverse())}const y=dr.triangulateShape(f,g);for(let x=0,p=g.length;x<p;x++){const m=g[x];f=f.concat(m)}for(let x=0,p=f.length;x<p;x++){const m=f[x];r.push(m.x,m.y,0),s.push(0,0,1),o.push(m.x,m.y)}for(let x=0,p=y.length;x<p;x++){const m=y[x],v=m[0]+d,w=m[1]+d,_=m[2]+d;i.push(v,w,_),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return n$(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new ta(i,e.curveSegments)}}function n$(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class na extends Le{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new R,h=new R,f=[],g=[],y=[],x=[];for(let p=0;p<=i;p++){const m=[],v=p/i;let w=0;p==0&&o==0?w=.5/n:p==i&&l==Math.PI&&(w=-.5/n);for(let _=0;_<=n;_++){const S=_/n;d.x=-e*Math.cos(r+S*s)*Math.sin(o+v*a),d.y=e*Math.cos(o+v*a),d.z=e*Math.sin(r+S*s)*Math.sin(o+v*a),g.push(d.x,d.y,d.z),h.copy(d).normalize(),y.push(h.x,h.y,h.z),x.push(S+w,1-v),m.push(c++)}u.push(m)}for(let p=0;p<i;p++)for(let m=0;m<n;m++){const v=u[p][m+1],w=u[p][m],_=u[p+1][m],S=u[p+1][m+1];(p!==0||o>0)&&f.push(v,w,S),(p!==i-1||l<Math.PI)&&f.push(w,_,S)}this.setIndex(f),this.setAttribute("position",new Me(g,3)),this.setAttribute("normal",new Me(y,3)),this.setAttribute("uv",new Me(x,2))}static fromJSON(e){return new na(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gl extends pr{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gl(e.radius,e.detail)}}class Wl extends Le{constructor(e=1,n=.4,i=8,r=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new R,d=new R,h=new R;for(let f=0;f<=i;f++)for(let g=0;g<=r;g++){const y=g/r*s,x=f/i*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(y),d.y=(e+n*Math.cos(x))*Math.sin(y),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(g/r),c.push(f/i)}for(let f=1;f<=i;f++)for(let g=1;g<=r;g++){const y=(r+1)*f+g-1,x=(r+1)*(f-1)+g-1,p=(r+1)*(f-1)+g,m=(r+1)*f+g;o.push(y,x,m),o.push(x,p,m)}this.setIndex(o),this.setAttribute("position",new Me(a,3)),this.setAttribute("normal",new Me(l,3)),this.setAttribute("uv",new Me(c,2))}static fromJSON(e){return new Wl(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class $l extends Le{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new R,h=new R,f=new R,g=new R,y=new R,x=new R,p=new R;for(let v=0;v<=i;++v){const w=v/i*s*Math.PI*2;m(w,s,o,e,f),m(w+.01,s,o,e,g),x.subVectors(g,f),p.addVectors(g,f),y.crossVectors(x,p),p.crossVectors(y,x),y.normalize(),p.normalize();for(let _=0;_<=r;++_){const S=_/r*Math.PI*2,M=-n*Math.cos(S),T=n*Math.sin(S);d.x=f.x+(M*p.x+T*y.x),d.y=f.y+(M*p.y+T*y.y),d.z=f.z+(M*p.z+T*y.z),l.push(d.x,d.y,d.z),h.subVectors(d,f).normalize(),c.push(h.x,h.y,h.z),u.push(v/i),u.push(_/r)}}for(let v=1;v<=i;v++)for(let w=1;w<=r;w++){const _=(r+1)*(v-1)+(w-1),S=(r+1)*v+(w-1),M=(r+1)*v+w,T=(r+1)*(v-1)+w;a.push(_,S,T),a.push(S,M,T)}this.setIndex(a),this.setAttribute("position",new Me(l,3)),this.setAttribute("normal",new Me(c,3)),this.setAttribute("uv",new Me(u,2));function m(v,w,_,S,M){const T=Math.cos(v),P=Math.sin(v),C=_/w*v,A=Math.cos(C);M.x=S*(2+A)*.5*T,M.y=S*(2+A)*P*.5,M.z=S*Math.sin(C)*.5}}static fromJSON(e){return new $l(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ql extends Le{constructor(e=new lm(new R(-1,-1,0),new R(-1,1,0),new R(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new R,l=new R,c=new te;let u=new R;const d=[],h=[],f=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new Me(d,3)),this.setAttribute("normal",new Me(h,3)),this.setAttribute("uv",new Me(f,2));function y(){for(let v=0;v<n;v++)x(v);x(s===!1?n:0),m(),p()}function x(v){u=e.getPointAt(v/n,u);const w=o.normals[v],_=o.binormals[v];for(let S=0;S<=r;S++){const M=S/r*Math.PI*2,T=Math.sin(M),P=-Math.cos(M);l.x=P*w.x+T*_.x,l.y=P*w.y+T*_.y,l.z=P*w.z+T*_.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function p(){for(let v=1;v<=n;v++)for(let w=1;w<=r;w++){const _=(r+1)*(v-1)+(w-1),S=(r+1)*v+(w-1),M=(r+1)*v+w,T=(r+1)*(v-1)+w;g.push(_,S,T),g.push(S,M,T)}}function m(){for(let v=0;v<=n;v++)for(let w=0;w<=r;w++)c.x=v/n,c.y=w/r,f.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ql(new Aw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Pw extends Le{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new R,s=new R;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,f=d.count;for(let g=h,y=h+f;g<y;g+=3)for(let x=0;x<3;x++){const p=a.getX(g+x),m=a.getX(g+(x+1)%3);r.fromBufferAttribute(o,p),s.fromBufferAttribute(o,m),RS(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),RS(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Me(n,3))}}}function RS(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i,r),!0)}var LS=Object.freeze({__proto__:null,BoxGeometry:Hr,BoxBufferGeometry:Hr,CircleGeometry:zl,CircleBufferGeometry:zl,ConeGeometry:Bl,ConeBufferGeometry:Bl,CylinderGeometry:$s,CylinderBufferGeometry:$s,DodecahedronGeometry:Ul,DodecahedronBufferGeometry:Ul,EdgesGeometry:Mw,ExtrudeGeometry:mr,ExtrudeBufferGeometry:mr,IcosahedronGeometry:Vl,IcosahedronBufferGeometry:Vl,LatheGeometry:Hl,LatheBufferGeometry:Hl,OctahedronGeometry:ea,OctahedronBufferGeometry:ea,PlaneGeometry:Ko,PlaneBufferGeometry:Ko,PolyhedronGeometry:pr,PolyhedronBufferGeometry:pr,RingGeometry:jl,RingBufferGeometry:jl,ShapeGeometry:ta,ShapeBufferGeometry:ta,SphereGeometry:na,SphereBufferGeometry:na,TetrahedronGeometry:Gl,TetrahedronBufferGeometry:Gl,TorusGeometry:Wl,TorusBufferGeometry:Wl,TorusKnotGeometry:$l,TorusKnotBufferGeometry:$l,TubeGeometry:ql,TubeBufferGeometry:ql,WireframeGeometry:Pw});class Rw extends tn{constructor(e){super(),this.type="ShadowMaterial",this.color=new ge(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Rw.prototype.isShadowMaterial=!0;class dm extends tn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ca,this.normalScale=new te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}dm.prototype.isMeshStandardMaterial=!0;class Lw extends dm{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return on(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new ge(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ge(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ge(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Lw.prototype.isMeshPhysicalMaterial=!0;class Nw extends tn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new ge(16777215),this.specular=new ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ca,this.normalScale=new te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Nw.prototype.isMeshPhongMaterial=!0;class Iw extends tn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ca,this.normalScale=new te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Iw.prototype.isMeshToonMaterial=!0;class Dw extends tn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ca,this.normalScale=new te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Dw.prototype.isMeshNormalMaterial=!0;class kw extends tn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}kw.prototype.isMeshLambertMaterial=!0;class Fw extends tn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ca,this.normalScale=new te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}Fw.prototype.isMeshMatcapMaterial=!0;class Ow extends nn{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Ow.prototype.isLineDashedMaterial=!0;var i$=Object.freeze({__proto__:null,ShadowMaterial:Rw,SpriteMaterial:tm,RawShaderMaterial:lc,ShaderMaterial:jr,PointsMaterial:ha,MeshPhysicalMaterial:Lw,MeshStandardMaterial:dm,MeshPhongMaterial:Nw,MeshToonMaterial:Iw,MeshNormalMaterial:Dw,MeshLambertMaterial:kw,MeshDepthMaterial:Kp,MeshDistanceMaterial:Qp,MeshBasicMaterial:Xr,MeshMatcapMaterial:Fw,LineDashedMaterial:Ow,LineBasicMaterial:nn,Material:tn});const ft={arraySlice:function(t,e,n){return ft.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r},flattenJSON:function(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)},subclip:function(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const g=c.times[f]*r;if(!(g<n||g>=i)){d.push(c.times[f]);for(let y=0;y<u;++y)h.push(c.values[f*u+y])}}d.length!==0&&(c.times=ft.convertArray(d,c.times.constructor),c.values=ft.convertArray(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const p=u,m=d-u;y=ft.arraySlice(a.values,p,m)}else if(s>=a.times[g]){const p=g*d+u,m=p+d-u;y=ft.arraySlice(a.values,p,m)}else{const p=a.createInterpolant(),m=u,v=d-u;p.evaluate(s),y=ft.arraySlice(p.resultBuffer,m,v)}l==="quaternion"&&new un().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let p=0;p<x;++p){const m=p*f+h;if(l==="quaternion")un.multiplyQuaternionsFlat(c.values,m,y,0,c.values,m);else{const v=f-h*2;for(let w=0;w<v;++w)c.values[m+w]-=y[w]}}}return t.blendMode=cw,t}};class Wr{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Wr.prototype.beforeStart_=Wr.prototype.copySampleValue_;Wr.prototype.afterEnd_=Wr.prototype.copySampleValue_;class SL extends Wr{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Co,endingEnd:Co}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ao:s=e,a=2*n-i;break;case ju:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ao:o=e,l=2*i-n;break;case ju:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,g=(i-n)/(r-n),y=g*g,x=y*g,p=-h*x+2*h*y-h*g,m=(1+h)*x+(-1.5-2*h)*y+(-.5+h)*g+1,v=(-1-f)*x+(1.5+f)*y+.5*g,w=f*x-f*y;for(let _=0;_!==a;++_)s[_]=p*o[u+_]+m*o[c+_]+v*o[l+_]+w*o[d+_];return s}}class zw extends Wr{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class EL extends Wr{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class qi{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ft.convertArray(n,this.TimeBufferType),this.values=ft.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:ft.convertArray(e.times,Array),values:ft.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new EL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new SL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Vu:n=this.InterpolantFactoryMethodDiscrete;break;case Hu:n=this.InterpolantFactoryMethodLinear;break;case gf:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Vu;case this.InterpolantFactoryMethodLinear:return Hu;case this.InterpolantFactoryMethodSmooth:return gf}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ft.arraySlice(i,s,o),this.values=ft.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&ft.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ft.arraySlice(this.times),n=ft.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===gf,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,h=d-i,f=d+i;for(let g=0;g!==i;++g){const y=n[d+g];if(y!==n[h+g]||y!==n[f+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let f=0;f!==i;++f)n[h+f]=n[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=ft.arraySlice(e,0,o),this.values=ft.arraySlice(n,0,o*i)):(this.times=e,this.values=n),this}clone(){const e=ft.arraySlice(this.times,0),n=ft.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}qi.prototype.TimeBufferType=Float32Array;qi.prototype.ValueBufferType=Float32Array;qi.prototype.DefaultInterpolation=Hu;class fa extends qi{}fa.prototype.ValueTypeName="bool";fa.prototype.ValueBufferType=Array;fa.prototype.DefaultInterpolation=Vu;fa.prototype.InterpolantFactoryMethodLinear=void 0;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class Bw extends qi{}Bw.prototype.ValueTypeName="color";class Yu extends qi{}Yu.prototype.ValueTypeName="number";class TL extends Wr{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let u=c+a;c!==u;c+=4)un.slerpFlat(s,0,o,c-a,o,c,l);return s}}class uc extends qi{InterpolantFactoryMethodLinear(e){return new TL(this.times,this.values,this.getValueSize(),e)}}uc.prototype.ValueTypeName="quaternion";uc.prototype.DefaultInterpolation=Hu;uc.prototype.InterpolantFactoryMethodSmooth=void 0;class pa extends qi{}pa.prototype.ValueTypeName="string";pa.prototype.ValueBufferType=Array;pa.prototype.DefaultInterpolation=Vu;pa.prototype.InterpolantFactoryMethodLinear=void 0;pa.prototype.InterpolantFactoryMethodSmooth=void 0;class Zu extends qi{}Zu.prototype.ValueTypeName="vector";class Ju{constructor(e,n=-1,i,r=jp){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Qn(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(s$(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(qi.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=ft.getKeyframeOrder(l);l=ft.sortedArray(l,1,u),c=ft.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Yu(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,f,g,y){if(f.length!==0){const x=[],p=[];ft.flattenJSON(f,x,p,g),x.length!==0&&y.push(new d(h,x,p))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let y=0;y<h[g].morphTargets.length;y++)f[h[g].morphTargets[y]]=-1;for(const y in f){const x=[],p=[];for(let m=0;m!==h[g].morphTargets.length;++m){const v=h[g];x.push(v.time),p.push(v.morphTarget===y?1:0)}r.push(new Yu(".morphTargetInfluence["+y+"]",x,p))}l=f.length*o}else{const f=".bones["+n[d].name+"]";i(Zu,f+".position",h,"pos",r),i(uc,f+".quaternion",h,"rot",r),i(Zu,f+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function r$(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yu;case"vector":case"vector2":case"vector3":case"vector4":return Zu;case"color":return Bw;case"quaternion":return uc;case"bool":case"boolean":return fa;case"string":return pa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function s$(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=r$(t.type);if(t.times===void 0){const n=[],i=[];ft.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ia={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Uw{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],g=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return g}return null}}}const CL=new Uw;class Nn{constructor(e){this.manager=e!==void 0?e:CL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Er={};class gr extends Nn{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ia.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Er[e]!==void 0){Er[e].push({onLoad:n,onProgress:i,onError:r});return}Er[e]=[],Er[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(a=>{if(a.status===200||a.status===0){a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=Er[e],c=a.body.getReader(),u=a.headers.get("Content-Length"),d=u?parseInt(u):0,h=d!==0;let f=0;return new ReadableStream({start(g){y();function y(){c.read().then(({done:x,value:p})=>{if(x)g.close();else{f+=p.byteLength;const m=new ProgressEvent("progress",{lengthComputable:h,loaded:f,total:d});for(let v=0,w=l.length;v<w;v++){const _=l[v];_.onProgress&&_.onProgress(m)}g.enqueue(p),y()}})}}})}else throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{ia.add(e,a);const l=Er[e];delete Er[e];for(let c=0,u=l.length;c<u;c++){const d=l[c];d.onLoad&&d.onLoad(a)}this.manager.itemEnd(e)}).catch(a=>{const l=Er[e];delete Er[e];for(let c=0,u=l.length;c<u;c++){const d=l[c];d.onError&&d.onError(a)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class o$ extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new gr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Ju.parse(e[i]);n.push(r)}return n}}class a$ extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new _w,l=new gr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const f=s.parse(h,!0);o[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(a.minFilter=Wt),a.image=o,a.format=f.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const f=h.mipmaps.length/h.mipmapCount;for(let g=0;g<f;g++){o[g]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+y]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Wt),a.format=h.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class Ku extends Nn{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ia.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=$p("img");function l(){u(),ia.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class AL extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=new ac,o=new Ku(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class PL extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new jo,a=new gr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:an,o.wrapT=c.wrapT!==void 0?c.wrapT:an,o.magFilter=c.magFilter!==void 0?c.magFilter:Wt,o.minFilter=c.minFilter!==void 0?c.minFilter:Wt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=la),c.mipmapCount===1&&(o.minFilter=Wt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},i,r),o}}class RL extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=new qt,o=new Ku(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class Wi extends He{constructor(e,n=1){super(),this.type="Light",this.color=new ge(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}Wi.prototype.isLight=!0;class Vw extends Wi{constructor(e,n,i){super(e,i),this.type="HemisphereLight",this.position.copy(He.DefaultUp),this.updateMatrix(),this.groundColor=new ge(n)}copy(e){return Wi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Vw.prototype.isHemisphereLight=!0;const NS=new Te,IS=new R,DS=new R;class Hw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new te(512,512),this.map=null,this.mapPass=null,this.matrix=new Te,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vd,this._frameExtents=new te(1,1),this._viewportCount=1,this._viewports=[new nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;IS.setFromMatrixPosition(e.matrixWorld),n.position.copy(IS),DS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(DS),n.updateMatrixWorld(),NS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NS),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n.projectionMatrix),i.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class LL extends Hw{constructor(){super(new Kt(50,1,.5,500)),this.focus=1}updateMatrices(e){const n=this.camera,i=Gu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}LL.prototype.isSpotLightShadow=!0;class jw extends Wi{constructor(e,n,i=0,r=Math.PI/3,s=0,o=1){super(e,n),this.type="SpotLight",this.position.copy(He.DefaultUp),this.updateMatrix(),this.target=new He,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new LL}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}jw.prototype.isSpotLight=!0;const kS=new Te,kc=new R,Wg=new R;class NL extends Hw{constructor(){super(new Kt(90,1,.5,500)),this._frameExtents=new te(4,2),this._viewportCount=6,this._viewports=[new nt(2,1,1,1),new nt(0,1,1,1),new nt(3,1,1,1),new nt(1,1,1,1),new nt(3,0,1,1),new nt(1,0,1,1)],this._cubeDirections=[new R(1,0,0),new R(-1,0,0),new R(0,0,1),new R(0,0,-1),new R(0,1,0),new R(0,-1,0)],this._cubeUps=[new R(0,1,0),new R(0,1,0),new R(0,1,0),new R(0,1,0),new R(0,0,1),new R(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),kc.setFromMatrixPosition(e.matrixWorld),i.position.copy(kc),Wg.copy(i.position),Wg.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(Wg),i.updateMatrixWorld(),r.makeTranslation(-kc.x,-kc.y,-kc.z),kS.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kS)}}NL.prototype.isPointLightShadow=!0;class Gw extends Wi{constructor(e,n,i=0,r=1){super(e,n),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new NL}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Gw.prototype.isPointLight=!0;class IL extends Hw{constructor(){super(new wd(-5,5,5,-5,.5,500))}}IL.prototype.isDirectionalLightShadow=!0;class Ww extends Wi{constructor(e,n){super(e,n),this.type="DirectionalLight",this.position.copy(He.DefaultUp),this.updateMatrix(),this.target=new He,this.shadow=new IL}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Ww.prototype.isDirectionalLight=!0;class $w extends Wi{constructor(e,n){super(e,n),this.type="AmbientLight"}}$w.prototype.isAmbientLight=!0;class qw extends Wi{constructor(e,n,i=10,r=10){super(e,n),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}qw.prototype.isRectAreaLight=!0;class Xw{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new R)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}Xw.prototype.isSphericalHarmonics3=!0;class Td extends Wi{constructor(e=new Xw,n=1){super(void 0,n),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}Td.prototype.isLightProbe=!0;class DL extends Nn{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new gr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=new i$[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ge().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.format!==void 0&&(r.format=e.format),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ge().setHex(o.value);break;case"v2":r.uniforms[s].value=new te().fromArray(o.value);break;case"v3":r.uniforms[s].value=new R().fromArray(o.value);break;case"v4":r.uniforms[s].value=new nt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new $t().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Te().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new te().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new te().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}}class ap{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Yw extends Le{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Yw.prototype.isInstancedBufferGeometry=!0;class kL extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new gr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(f,g){if(n[g]!==void 0)return n[g];const x=f.interleavedBuffers[g],p=s(f,x.buffer),m=tl(x.type,p),v=new da(m,x.stride);return v.uuid=x.uuid,n[g]=v,v}function s(f,g){if(i[g]!==void 0)return i[g];const x=f.arrayBuffers[g],p=new Uint32Array(x).buffer;return i[g]=p,p}const o=e.isInstancedBufferGeometry?new Yw:new Le,a=e.data.index;if(a!==void 0){const f=tl(a.type,a.array);o.setIndex(new qe(f,1))}const l=e.data.attributes;for(const f in l){const g=l[f];let y;if(g.isInterleavedBufferAttribute){const x=r(e.data,g.data);y=new Ws(x,g.itemSize,g.offset,g.normalized)}else{const x=tl(g.type,g.array),p=g.isInstancedBufferAttribute?Qo:qe;y=new p(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),g.updateRange!==void 0&&(y.updateRange.offset=g.updateRange.offset,y.updateRange.count=g.updateRange.count),o.setAttribute(f,y)}const c=e.data.morphAttributes;if(c)for(const f in c){const g=c[f],y=[];for(let x=0,p=g.length;x<p;x++){const m=g[x];let v;if(m.isInterleavedBufferAttribute){const w=r(e.data,m.data);v=new Ws(w,m.itemSize,m.offset,m.normalized)}else{const w=tl(m.type,m.array);v=new qe(w,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),y.push(v)}o.morphAttributes[f]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,g=d.length;f!==g;++f){const y=d[f];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const f=new R;h.center!==void 0&&f.fromArray(h.center),o.boundingSphere=new no(f,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class l$ extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?ap.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new gr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?ap.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new gr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const h in o)if(o[h]instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ur().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new sm().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new kL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in LS?a=LS[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new DL;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];i[d.uuid]===void 0&&(i[d.uuid]=s.parse(d)),c.push(i[d.uuid])}r[l.uuid]=c}else i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Ju.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:tl(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Uw(n);s=new Ku(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){r[d.uuid]=[];for(let f=0,g=h.length;f<g;f++){const y=h[f],x=a(y);x!==null&&(x instanceof HTMLImageElement?r[d.uuid].push(x):r[d.uuid].push(new jo(x.data,x.width,x.height)))}}else{const f=a(d.url);f!==null&&(r[d.uuid]=f)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:tl(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Ku(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=await s(h);f!==null&&(f instanceof HTMLImageElement?i[l.uuid].push(f):i[l.uuid].push(new jo(f.data,f.width,f.height)))}}else{const u=await s(l.url);u!==null&&(i[l.uuid]=u)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l;const c=n[a.image];Array.isArray(c)?(l=new ac(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new jo(c.data,c.width,c.height):l=new qt(c),c&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=i(a.mapping,c$)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=i(a.wrap[0],FS),l.wrapT=i(a.wrap[1],FS)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=i(a.minFilter,OS)),a.magFilter!==void 0&&(l.magFilter=i(a.magFilter,OS)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,n,i,r,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const f=[];for(let g=0,y=h.length;g<y;g++){const x=h[g];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),f.push(i[x])}return f}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,d;switch(e.type){case"Scene":o=new em,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ge(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _d(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new bd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Kt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new wd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $w(e.color,e.intensity);break;case"DirectionalLight":o=new Ww(e.color,e.intensity);break;case"PointLight":o=new Gw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qw(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Vw(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Td().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new im(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Ut(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const h=e.count,f=e.instanceMatrix,g=e.instanceColor;o=new ww(u,d,h),o.instanceMatrix=new Qo(new Float32Array(f.array),16),g!==void 0&&(o.instanceColor=new Qo(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new mL;break;case"Line":o=new Gr(a(e.geometry),l(e.material));break;case"LineLoop":o=new bw(a(e.geometry),l(e.material));break;case"LineSegments":o=new Hn(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Md(a(e.geometry),l(e.material));break;case"Sprite":o=new nm(l(e.material));break;case"Group":o=new Po;break;case"Bone":o=new rm;break;default:o=new He}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let f=0;f<h.length;f++)o.add(this.parseObject(h[f],n,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let f=0;f<h.length;f++){const g=h[f];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let f=0;f<h.length;f++){const g=h[f],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const c$={UVMapping:Hp,CubeReflectionMapping:oa,CubeRefractionMapping:aa,EquirectangularReflectionMapping:Fu,EquirectangularRefractionMapping:Ou,CubeUVReflectionMapping:oc,CubeUVRefractionMapping:gd},FS={RepeatWrapping:zu,ClampToEdgeWrapping:an,MirroredRepeatWrapping:Bu},OS={NearestFilter:Bt,NearestMipmapNearestFilter:sp,NearestMipmapLinearFilter:op,LinearFilter:Wt,LinearMipmapNearestFilter:lw,LinearMipmapLinearFilter:la};class FL extends Nn{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ia.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ia.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}FL.prototype.isImageBitmapLoader=!0;let Bh;const Zw={getContext:function(){return Bh===void 0&&(Bh=new(window.AudioContext||window.webkitAudioContext)),Bh},setContext:function(t){Bh=t}};class OL extends Nn{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new gr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);Zw.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class zL extends Td{constructor(e,n,i=1){super(void 0,i);const r=new ge().set(e),s=new ge().set(n),o=new R(r.r,r.g,r.b),a=new R(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}zL.prototype.isHemisphereLightProbe=!0;class BL extends Td{constructor(e,n=1){super(void 0,n);const i=new ge().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}BL.prototype.isAmbientLightProbe=!0;const zS=new Te,BS=new Te;class u${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Kt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Kt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),s=n.eyeSep/2,o=s*n.near/n.focus,a=n.near*Math.tan(Ho*n.fov*.5)/n.zoom;let l,c;BS.elements[12]=-s,zS.elements[12]=s,l=-a*n.aspect+o,c=a*n.aspect+o,r.elements[0]=2*n.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(r),l=-a*n.aspect-o,c=a*n.aspect-o,r.elements[0]=2*n.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zS)}}class UL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=US(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=US();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function US(){return(typeof performance>"u"?Date:performance).now()}const fo=new R,VS=new un,d$=new R,po=new R;class h$ extends He{constructor(){super(),this.type="AudioListener",this.context=Zw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fo,VS,d$),po.set(0,0,-1).applyQuaternion(VS),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(fo.x,r),n.positionY.linearRampToValueAtTime(fo.y,r),n.positionZ.linearRampToValueAtTime(fo.z,r),n.forwardX.linearRampToValueAtTime(po.x,r),n.forwardY.linearRampToValueAtTime(po.y,r),n.forwardZ.linearRampToValueAtTime(po.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(fo.x,fo.y,fo.z),n.setOrientation(po.x,po.y,po.z,i.x,i.y,i.z)}}class Jw extends He{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const mo=new R,HS=new un,f$=new R,go=new R;class p$ extends Jw{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(mo,HS,f$),go.set(0,0,1).applyQuaternion(HS);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(mo.x,i),n.positionY.linearRampToValueAtTime(mo.y,i),n.positionZ.linearRampToValueAtTime(mo.z,i),n.orientationX.linearRampToValueAtTime(go.x,i),n.orientationY.linearRampToValueAtTime(go.y,i),n.orientationZ.linearRampToValueAtTime(go.z,i)}else n.setPosition(mo.x,mo.y,mo.z),n.setOrientation(go.x,go.y,go.z)}}class VL{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class HL{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){un.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;un.multiplyQuaternionsFlat(e,o,e,n,e,i),un.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const Kw="\\[\\]\\.:\\/",m$=new RegExp("["+Kw+"]","g"),Qw="[^"+Kw+"]",g$="[^"+Kw.replace("\\.","")+"]",y$=/((?:WC+[\/:])*)/.source.replace("WC",Qw),x$=/(WCOD+)?/.source.replace("WCOD",g$),v$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Qw),w$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Qw),b$=new RegExp("^"+y$+x$+v$+w$+"$"),_$=["material","materials","bones"];class M${constructor(e,n,i){const r=i||Ye.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Ye{constructor(e,n,i){this.path=n,this.parsedPath=i||Ye.parseTrackName(n),this.node=Ye.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Ye.Composite(e,n,i):new Ye(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(m$,"")}static parseTrackName(e){const n=b$.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);_$.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Ye.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ye.Composite=M$;Ye.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ye.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ye.prototype.GetterByBindingType=[Ye.prototype._getValue_direct,Ye.prototype._getValue_array,Ye.prototype._getValue_arrayElement,Ye.prototype._getValue_toArray];Ye.prototype.SetterByBindingTypeAndVersioning=[[Ye.prototype._setValue_direct,Ye.prototype._setValue_direct_setNeedsUpdate,Ye.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ye.prototype._setValue_array,Ye.prototype._setValue_array_setNeedsUpdate,Ye.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ye.prototype._setValue_arrayElement,Ye.prototype._setValue_arrayElement_setNeedsUpdate,Ye.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ye.prototype._setValue_fromArray,Ye.prototype._setValue_fromArray_setNeedsUpdate,Ye.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jL{constructor(){this.uuid=Qn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],f=h.uuid;let g=n[f];if(g===void 0){g=l++,n[f]=g,e.push(h);for(let y=0,x=o;y!==x;++y)s[y].push(new Ye(h,i[y],r[y]))}else if(g<c){a=e[g];const y=--c,x=e[y];n[x.uuid]=g,e[g]=x,n[f]=y,e[y]=h;for(let p=0,m=o;p!==m;++p){const v=s[p],w=v[y];let _=v[g];v[g]=w,_===void 0&&(_=new Ye(h,i[p],r[p])),v[y]=_}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,h=e[d];n[h.uuid]=u,e[u]=h,n[c]=d,e[d]=l;for(let f=0,g=r;f!==g;++f){const y=i[f],x=y[d],p=y[u];y[u]=x,y[d]=p}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const h=--s,f=e[h],g=--o,y=e[g];n[f.uuid]=d,e[d]=f,n[y.uuid]=h,e[h]=y,e.pop();for(let x=0,p=r;x!==p;++x){const m=i[x],v=m[h],w=m[g];m[d]=v,m[h]=w,m.pop()}}else{const h=--o,f=e[h];h>0&&(n[f.uuid]=d),e[d]=f,e.pop();for(let g=0,y=r;g!==y;++g){const x=i[g];x[d]=x[h],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let h=u,f=l.length;h!==f;++h){const g=l[h];d[h]=new Ye(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}jL.prototype.isAnimationObjectGroup=!0;class S${constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Co,endingEnd:Co};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=NR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case cw:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case jp:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===IR;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===LR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Ao,r.endingEnd=Ao):(e?r.endingStart=this.zeroSlopeAtStart?Ao:Co:r.endingStart=ju,n?r.endingEnd=this.zeroSlopeAtEnd?Ao:Co:r.endingEnd=ju)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}class GL extends to{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=r[d],f=h.name;let g=u[f];if(g!==void 0)o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,f));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;g=new HL(Ye.create(i,f,y),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,f),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new zw(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?Ju.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=jp),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new S$(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?Ju.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}GL.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class hm{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new hm(this.value.clone===void 0?this.value:this.value.clone())}}class WL extends da{constructor(e,n,i=1){super(e,n),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}WL.prototype.isInstancedInterleavedBuffer=!0;class $L{constructor(e,n,i,r,s){this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}$L.prototype.isGLBufferAttribute=!0;class E${constructor(e,n,i=0,r=1/0){this.ray=new io(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new mw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return rx(e,this,i,n),i.sort(jS),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)rx(e[r],this,i,n);return i.sort(jS),i}}function jS(t,e){return t.distance-e.distance}function rx(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)rx(r[s],e,n,!0)}}class T${constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(on(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class C${constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const GS=new te;class dc{constructor(e=new te(1/0,1/0),n=new te(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=GS.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return GS.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}dc.prototype.isBox2=!0;const WS=new R,Uh=new R;class qL{constructor(e=new R,n=new R){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){WS.subVectors(e,this.start),Uh.subVectors(this.end,this.start);const i=Uh.dot(Uh);let s=Uh.dot(WS)/i;return n&&(s=on(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $S=new R;class A$ extends He{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Le,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Me(r,3));const s=new nn({fog:!1,toneMapped:!1});this.cone=new Hn(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),$S.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($S),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const os=new R,Vh=new Te,$g=new Te;class XL extends Hn{constructor(e){const n=YL(e),i=new Le,r=[],s=[],o=new ge(0,0,1),a=new ge(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Me(r,3)),i.setAttribute("color",new Me(s,3));const l=new nn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");$g.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Vh.multiplyMatrices($g,a.matrixWorld),os.setFromMatrixPosition(Vh),r.setXYZ(o,os.x,os.y,os.z),Vh.multiplyMatrices($g,a.parent.matrixWorld),os.setFromMatrixPosition(Vh),r.setXYZ(o+1,os.x,os.y,os.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function YL(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,YL(t.children[n]));return e}class P$ extends Ut{constructor(e,n,i){const r=new na(n,4,2),s=new Xr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const R$=new R,qS=new ge,XS=new ge;class L$ extends He{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new ea(n);r.rotateY(Math.PI*.5),this.material=new Xr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new qe(o,3)),this.add(new Ut(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");qS.copy(this.light.color),XS.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?qS:XS;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}e.lookAt(R$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZL extends Hn{constructor(e=10,n=10,i=4473924,r=8947848){i=new ge(i),r=new ge(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,f=0,g=-a;h<=n;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=h===s?i:r;y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3}const u=new Le;u.setAttribute("position",new Me(l,3)),u.setAttribute("color",new Me(c,3));const d=new nn({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class N$ extends Hn{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new ge(s),o=new ge(o);const a=[],l=[];for(let d=0;d<=n;d++){const h=d/n*(Math.PI*2),f=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(f,0,g);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<=i;d++){const h=d&1?s:o,f=e-e/i*d;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),x=Math.sin(y)*f,p=Math.cos(y)*f;a.push(x,0,p),l.push(h.r,h.g,h.b),y=(g+1)/r*(Math.PI*2),x=Math.sin(y)*f,p=Math.cos(y)*f,a.push(x,0,p),l.push(h.r,h.g,h.b)}}const c=new Le;c.setAttribute("position",new Me(a,3)),c.setAttribute("color",new Me(l,3));const u=new nn({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}}const YS=new R,Hh=new R,ZS=new R;class I$ extends He{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let r=new Le;r.setAttribute("position",new Me([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new nn({fog:!1,toneMapped:!1});this.lightPlane=new Gr(r,s),this.add(this.lightPlane),r=new Le,r.setAttribute("position",new Me([0,0,0,0,0,1],3)),this.targetLine=new Gr(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){YS.setFromMatrixPosition(this.light.matrixWorld),Hh.setFromMatrixPosition(this.light.target.matrixWorld),ZS.subVectors(Hh,YS),this.lightPlane.lookAt(Hh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Hh),this.targetLine.scale.z=ZS.length()}}const jh=new R,Et=new xd;class D$ extends Hn{constructor(e){const n=new Le,i=new nn({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={},a=new ge(16755200),l=new ge(16711680),c=new ge(43775),u=new ge(16777215),d=new ge(3355443);h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",l),h("p","n2",l),h("p","n3",l),h("p","n4",l),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",u),h("p","c",d),h("cn1","cn2",d),h("cn3","cn4",d),h("cf1","cf2",d),h("cf3","cf4",d);function h(g,y,x){f(g,x),f(y,x)}function f(g,y){r.push(0,0,0),s.push(y.r,y.g,y.b),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}n.setAttribute("position",new Me(r,3)),n.setAttribute("color",new Me(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Et.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rt("c",n,e,Et,0,0,-1),Rt("t",n,e,Et,0,0,1),Rt("n1",n,e,Et,-i,-r,-1),Rt("n2",n,e,Et,i,-r,-1),Rt("n3",n,e,Et,-i,r,-1),Rt("n4",n,e,Et,i,r,-1),Rt("f1",n,e,Et,-i,-r,1),Rt("f2",n,e,Et,i,-r,1),Rt("f3",n,e,Et,-i,r,1),Rt("f4",n,e,Et,i,r,1),Rt("u1",n,e,Et,i*.7,r*1.1,-1),Rt("u2",n,e,Et,-i*.7,r*1.1,-1),Rt("u3",n,e,Et,0,r*2,-1),Rt("cf1",n,e,Et,-i,0,1),Rt("cf2",n,e,Et,i,0,1),Rt("cf3",n,e,Et,0,-r,1),Rt("cf4",n,e,Et,0,r,1),Rt("cn1",n,e,Et,-i,0,-1),Rt("cn2",n,e,Et,i,0,-1),Rt("cn3",n,e,Et,0,-r,-1),Rt("cn4",n,e,Et,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rt(t,e,n,i,r,s,o){jh.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],jh.x,jh.y,jh.z)}}const Gh=new ri;class JL extends Hn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Le;s.setIndex(new qe(i,1)),s.setAttribute("position",new qe(r,3)),super(s,new nn({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Gh.setFromObject(this.object),Gh.isEmpty())return;const n=Gh.min,i=Gh.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Hn.prototype.copy.call(this,e),this.object=e.object,this}}class k$ extends Hn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Le;s.setIndex(new qe(i,1)),s.setAttribute("position",new Me(r,3)),super(s,new nn({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class F$ extends Gr{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Le;o.setAttribute("position",new Me(s,3)),o.computeBoundingSphere(),super(o,new nn({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Le;l.setAttribute("position",new Me(a,3)),l.computeBoundingSphere(),this.add(new Ut(l,new Xr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?Lt:Zo,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const JS=new R;let Wh,qg;class O$ extends He{constructor(e=new R(0,0,1),n=new R(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Wh===void 0&&(Wh=new Le,Wh.setAttribute("position",new Me([0,0,0,0,1,0],3)),qg=new $s(0,.5,1,5,1),qg.translate(0,-.5,0)),this.position.copy(n),this.line=new Gr(Wh,new nn({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ut(qg,new Xr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{JS.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(JS,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class KL extends Hn{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Le;r.setAttribute("position",new Me(n,3)),r.setAttribute("color",new Me(i,3));const s=new nn({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new ge,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class z${constructor(){this.type="ShapePath",this.color=new ge,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Wu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function i(m){const v=[];for(let w=0,_=m.length;w<_;w++){const S=m[w],M=new ur;M.curves=S.curves,v.push(M)}return v}function r(m,v){const w=v.length;let _=!1;for(let S=w-1,M=0;M<w;S=M++){let T=v[S],P=v[M],C=P.x-T.x,A=P.y-T.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(T=v[M],C=-C,P=v[S],A=-A),m.y<T.y||m.y>P.y)continue;if(m.y===T.y){if(m.x===T.x)return!0}else{const O=A*(m.x-T.x)-C*(m.y-T.y);if(O===0)return!0;if(O<0)continue;_=!_}}else{if(m.y!==T.y)continue;if(P.x<=m.x&&m.x<=T.x||T.x<=m.x&&m.x<=P.x)return!0}}return _}const s=dr.isClockWise,o=this.subPaths;if(o.length===0)return[];if(n===!0)return i(o);let a,l,c;const u=[];if(o.length===1)return l=o[0],c=new ur,c.curves=l.curves,u.push(c),u;let d=!s(o[0].getPoints());d=e?!d:d;const h=[],f=[];let g=[],y=0,x;f[y]=void 0,g[y]=[];for(let m=0,v=o.length;m<v;m++)l=o[m],x=l.getPoints(),a=s(x),a=e?!a:a,a?(!d&&f[y]&&y++,f[y]={s:new ur,p:x},f[y].s.curves=l.curves,d&&y++,g[y]=[]):g[y].push({h:l,p:x[0]});if(!f[0])return i(o);if(f.length>1){let m=!1;const v=[];for(let w=0,_=f.length;w<_;w++)h[w]=[];for(let w=0,_=f.length;w<_;w++){const S=g[w];for(let M=0;M<S.length;M++){const T=S[M];let P=!0;for(let C=0;C<f.length;C++)r(T.p,f[C].p)&&(w!==C&&v.push({froms:w,tos:C,hole:M}),P?(P=!1,h[C].push(T)):m=!0);P&&h[w].push(T)}}v.length>0&&(m||(g=h))}let p;for(let m=0,v=f.length;m<v;m++){c=f[m].s,u.push(c),p=g[m];for(let w=0,_=p.length;w<_;w++)c.holes.push(p[w].h)}return u}}const QL=new Float32Array(1),B$=new Int32Array(QL.buffer);class U${static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),QL[0]=e;const n=B$[0];let i=n>>16&32768,r=n>>12&2047;const s=n>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&n&8388607,i):s<113?(r|=2048,i|=(r>>114-s)+(r>>113-s&1),i):(i|=s-112<<10|r>>1,i+=r&1,i)}}const V$=0,H$=1,j$=0,G$=1,W$=2;function $$(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function q$(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function X$(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Md(t,e)}function Y$(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new nm(t)}function Z$(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Md(t,e)}function J$(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ha(t)}function K$(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ha(t)}function Q$(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ha(t)}function eq(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new R(t,e,n)}function tq(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new qe(t,e).setUsage(Fl)}function nq(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new $R(t,e)}function iq(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new qR(t,e)}function rq(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new XR(t,e)}function sq(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new YR(t,e)}function oq(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new qp(t,e)}function aq(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ZR(t,e)}function lq(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Xp(t,e)}function cq(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Me(t,e)}function uq(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new KR(t,e)}ti.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(ti.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};Wu.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};function dq(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new KL(t)}function hq(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new JL(t,e)}function fq(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Hn(new Mw(t.geometry),new nn({color:e!==void 0?e:16777215}))}ZL.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};XL.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function pq(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Hn(new Pw(t.geometry),new nn({color:e!==void 0?e:16777215}))}Nn.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ap.extractUrlBase(t)};Nn.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function mq(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new gr(t)}function gq(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new PL(t)}dc.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)};dc.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};dc.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};dc.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)};ri.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};ri.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ri.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};ri.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};ri.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};no.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};vd.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};qL.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};$t.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};$t.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};$t.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};$t.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};$t.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};$t.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Te.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};Te.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Te.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new R().setFromMatrixColumn(this,3)};Te.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};Te.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Te.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Te.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Te.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Te.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};Te.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Te.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Te.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Te.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Te.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Te.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Te.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Te.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Te.prototype.makeFrustum=function(t,e,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,s)};Te.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};nr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};un.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};un.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};io.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};io.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};io.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};It.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};It.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};It.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};It.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};It.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};It.barycoordFromPoint=function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),It.getBarycoord(t,e,n,i,r)};It.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),It.getNormal(t,e,n,i)};ur.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};ur.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new mr(this,t)};ur.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ta(this,t)};te.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};te.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};te.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};R.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};R.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};R.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};R.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};R.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};R.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};R.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};R.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};R.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};nt.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};nt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};He.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};He.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};He.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};He.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};He.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(He.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Ut.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Ut.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),DR},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});im.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Kt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(Wi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(qe.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Fl},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Fl)}}});qe.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Fl:kl),this};qe.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},qe.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Le.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};Le.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new qe(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};Le.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};Le.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Le.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Le.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};Le.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Le.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});da.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Fl:kl),this};da.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};mr.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};mr.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};mr.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};em.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};hm.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(tn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ge}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===sw}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(jr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});st.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)};st.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};st.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};st.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};st.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};st.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};st.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};st.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};st.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};st.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};st.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};st.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};st.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};st.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};st.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};st.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};st.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};st.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};st.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};st.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};st.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};st.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};st.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};st.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};st.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(st.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?eo:hn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(dL.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function yq(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Zp(t,n)}Object.defineProperties(Bi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});Jw.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new OL().load(t,function(i){e.setBuffer(i)}),this};VL.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Yp.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};Yp.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};ua.crossOrigin=void 0;ua.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new RL;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s};ua.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new AL;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s};ua.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ua.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function xq(){console.error("THREE.CanvasRenderer has been removed")}function vq(){console.error("THREE.JSONLoader has been removed.")}const wq={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function bq(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function _q(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Le}function Mq(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Le}function Sq(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Eq(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Tq(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iw);const Cq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:OP,AddEquation:bo,AddOperation:IP,AdditiveAnimationBlendMode:cw,AdditiveBlending:Oy,AlphaFormat:WP,AlwaysDepth:TP,AlwaysStencilFunc:BR,AmbientLight:$w,AmbientLightProbe:BL,AnimationClip:Ju,AnimationLoader:o$,AnimationMixer:GL,AnimationObjectGroup:jL,AnimationUtils:ft,ArcCurve:Sw,ArrayCamera:vw,ArrowHelper:O$,Audio:Jw,AudioAnalyser:VL,AudioContext:Zw,AudioListener:h$,AudioLoader:OL,AxesHelper:KL,AxisHelper:dq,BackSide:Lt,BasicDepthPacking:FR,BasicShadowMap:lj,BinaryTextureLoader:gq,Bone:rm,BooleanKeyframeTrack:fa,BoundingBoxHelper:hq,Box2:dc,Box3:ri,Box3Helper:k$,BoxBufferGeometry:Hr,BoxGeometry:Hr,BoxHelper:JL,BufferAttribute:qe,BufferGeometry:Le,BufferGeometryLoader:kL,ByteType:BP,Cache:ia,Camera:xd,CameraHelper:D$,CanvasRenderer:xq,CanvasTexture:yL,CatmullRomCurve3:Tw,CineonToneMapping:FP,CircleBufferGeometry:zl,CircleGeometry:zl,ClampToEdgeWrapping:an,Clock:UL,Color:ge,ColorKeyframeTrack:Bw,CompressedTexture:_w,CompressedTextureLoader:a$,ConeBufferGeometry:Bl,ConeGeometry:Bl,CubeCamera:Yp,CubeReflectionMapping:oa,CubeRefractionMapping:aa,CubeTexture:ac,CubeTextureLoader:AL,CubeUVReflectionMapping:oc,CubeUVRefractionMapping:gd,CubicBezierCurve:om,CubicBezierCurve3:Cw,CubicInterpolant:SL,CullFaceBack:Fy,CullFaceFront:dP,CullFaceFrontBack:aj,CullFaceNone:uP,Curve:ti,CurvePath:wL,CustomBlending:fP,CustomToneMapping:zP,CylinderBufferGeometry:$s,CylinderGeometry:$s,Cylindrical:C$,DataTexture:jo,DataTexture2DArray:Jp,DataTexture3D:xw,DataTextureLoader:PL,DataUtils:U$,DecrementStencilOp:vj,DecrementWrapStencilOp:bj,DefaultLoadingManager:CL,DepthFormat:Vo,DepthStencilFormat:Dl,DepthTexture:xL,DirectionalLight:Ww,DirectionalLightHelper:I$,DiscreteInterpolant:EL,DodecahedronBufferGeometry:Ul,DodecahedronGeometry:Ul,DoubleSide:Jo,DstAlphaFactor:wP,DstColorFactor:_P,DynamicBufferAttribute:tq,DynamicCopyUsage:kj,DynamicDrawUsage:Fl,DynamicReadUsage:Nj,EdgesGeometry:Mw,EdgesHelper:fq,EllipseCurve:Sd,EqualDepth:AP,EqualStencilFunc:Ej,EquirectangularReflectionMapping:Fu,EquirectangularRefractionMapping:Ou,Euler:yd,EventDispatcher:to,ExtrudeBufferGeometry:mr,ExtrudeGeometry:mr,FaceColors:G$,FileLoader:gr,FlatShading:sw,Float16BufferAttribute:JR,Float32Attribute:cq,Float32BufferAttribute:Me,Float64Attribute:uq,Float64BufferAttribute:KR,FloatType:rr,Fog:_d,FogExp2:bd,Font:Eq,FontLoader:Sq,FrontSide:Zo,Frustum:vd,GLBufferAttribute:$L,GLSL1:Oj,GLSL3:Ky,GammaEncoding:Gp,GreaterDepth:RP,GreaterEqualDepth:PP,GreaterEqualStencilFunc:Pj,GreaterStencilFunc:Cj,GridHelper:ZL,Group:Po,HalfFloatType:Bo,HemisphereLight:Vw,HemisphereLightHelper:L$,HemisphereLightProbe:zL,IcosahedronBufferGeometry:Vl,IcosahedronGeometry:Vl,ImageBitmapLoader:FL,ImageLoader:Ku,ImageUtils:ua,ImmediateRenderObject:Tq,IncrementStencilOp:xj,IncrementWrapStencilOp:wj,InstancedBufferAttribute:Qo,InstancedBufferGeometry:Yw,InstancedInterleavedBuffer:WL,InstancedMesh:ww,Int16Attribute:sq,Int16BufferAttribute:YR,Int32Attribute:aq,Int32BufferAttribute:ZR,Int8Attribute:nq,Int8BufferAttribute:$R,IntType:VP,InterleavedBuffer:da,InterleavedBufferAttribute:Ws,Interpolant:Wr,InterpolateDiscrete:Vu,InterpolateLinear:Hu,InterpolateSmooth:gf,InvertStencilOp:_j,JSONLoader:vq,KeepStencilOp:yf,KeyframeTrack:qi,LOD:mL,LatheBufferGeometry:Hl,LatheGeometry:Hl,Layers:mw,LensFlare:bq,LessDepth:CP,LessEqualDepth:rp,LessEqualStencilFunc:Tj,LessStencilFunc:Sj,Light:Wi,LightProbe:Td,Line:Gr,Line3:qL,LineBasicMaterial:nn,LineCurve:Ed,LineCurve3:vL,LineDashedMaterial:Ow,LineLoop:bw,LinePieces:H$,LineSegments:Hn,LineStrip:V$,LinearEncoding:hn,LinearFilter:Wt,LinearInterpolant:zw,LinearMipMapLinearFilter:fj,LinearMipMapNearestFilter:hj,LinearMipmapLinearFilter:la,LinearMipmapNearestFilter:lw,LinearToneMapping:DP,Loader:Nn,LoaderUtils:ap,LoadingManager:Uw,LogLuvEncoding:kR,LoopOnce:LR,LoopPingPong:IR,LoopRepeat:NR,LuminanceAlphaFormat:qP,LuminanceFormat:$P,MOUSE:sj,Material:tn,MaterialLoader:DL,Math:AM,MathUtils:AM,Matrix3:$t,Matrix4:Te,MaxEquation:Vy,Mesh:Ut,MeshBasicMaterial:Xr,MeshDepthMaterial:Kp,MeshDistanceMaterial:Qp,MeshFaceMaterial:$$,MeshLambertMaterial:kw,MeshMatcapMaterial:Fw,MeshNormalMaterial:Dw,MeshPhongMaterial:Nw,MeshPhysicalMaterial:Lw,MeshStandardMaterial:dm,MeshToonMaterial:Iw,MinEquation:Uy,MirroredRepeatWrapping:Bu,MixOperation:NP,MultiMaterial:q$,MultiplyBlending:By,MultiplyOperation:md,NearestFilter:Bt,NearestMipMapLinearFilter:dj,NearestMipMapNearestFilter:uj,NearestMipmapLinearFilter:op,NearestMipmapNearestFilter:sp,NeverDepth:EP,NeverStencilFunc:Mj,NoBlending:Ir,NoColors:j$,NoToneMapping:Is,NormalAnimationBlendMode:jp,NormalBlending:fl,NotEqualDepth:LP,NotEqualStencilFunc:Aj,NumberKeyframeTrack:Yu,Object3D:He,ObjectLoader:l$,ObjectSpaceNormalMap:zR,OctahedronBufferGeometry:ea,OctahedronGeometry:ea,OneFactor:yP,OneMinusDstAlphaFactor:bP,OneMinusDstColorFactor:MP,OneMinusSrcAlphaFactor:aw,OneMinusSrcColorFactor:vP,OrthographicCamera:wd,PCFShadowMap:rw,PCFSoftShadowMap:hP,PMREMGenerator:iL,ParametricGeometry:_q,Particle:Y$,ParticleBasicMaterial:K$,ParticleSystem:Z$,ParticleSystemMaterial:Q$,Path:Wu,PerspectiveCamera:Kt,Plane:nr,PlaneBufferGeometry:Ko,PlaneGeometry:Ko,PlaneHelper:F$,PointCloud:X$,PointCloudMaterial:J$,PointLight:Gw,PointLightHelper:P$,Points:Md,PointsMaterial:ha,PolarGridHelper:N$,PolyhedronBufferGeometry:pr,PolyhedronGeometry:pr,PositionalAudio:p$,PropertyBinding:Ye,PropertyMixer:HL,QuadraticBezierCurve:am,QuadraticBezierCurve3:lm,Quaternion:un,QuaternionKeyframeTrack:uc,QuaternionLinearInterpolant:TL,REVISION:iw,RGBADepthPacking:OR,RGBAFormat:cn,RGBAIntegerFormat:eR,RGBA_ASTC_10x10_Format:fR,RGBA_ASTC_10x5_Format:uR,RGBA_ASTC_10x6_Format:dR,RGBA_ASTC_10x8_Format:hR,RGBA_ASTC_12x10_Format:pR,RGBA_ASTC_12x12_Format:mR,RGBA_ASTC_4x4_Format:nR,RGBA_ASTC_5x4_Format:iR,RGBA_ASTC_5x5_Format:rR,RGBA_ASTC_6x5_Format:sR,RGBA_ASTC_6x6_Format:oR,RGBA_ASTC_8x5_Format:aR,RGBA_ASTC_8x6_Format:lR,RGBA_ASTC_8x8_Format:cR,RGBA_BPTC_Format:gR,RGBA_ETC2_EAC_Format:Jy,RGBA_PVRTC_2BPPV1_Format:Yy,RGBA_PVRTC_4BPPV1_Format:Xy,RGBA_S3TC_DXT1_Format:jy,RGBA_S3TC_DXT3_Format:Gy,RGBA_S3TC_DXT5_Format:Wy,RGBDEncoding:hw,RGBEEncoding:Wp,RGBEFormat:XP,RGBFormat:Uo,RGBIntegerFormat:QP,RGBM16Encoding:dw,RGBM7Encoding:uw,RGB_ETC1_Format:tR,RGB_ETC2_Format:Zy,RGB_PVRTC_2BPPV1_Format:qy,RGB_PVRTC_4BPPV1_Format:$y,RGB_S3TC_DXT1_Format:Hy,RGFormat:JP,RGIntegerFormat:KP,RawShaderMaterial:lc,Ray:io,Raycaster:E$,RectAreaLight:qw,RedFormat:YP,RedIntegerFormat:ZP,ReinhardToneMapping:kP,RepeatWrapping:zu,ReplaceStencilOp:yj,ReverseSubtractEquation:mP,RingBufferGeometry:jl,RingGeometry:jl,SRGB8_ALPHA8_ASTC_10x10_Format:AR,SRGB8_ALPHA8_ASTC_10x5_Format:ER,SRGB8_ALPHA8_ASTC_10x6_Format:TR,SRGB8_ALPHA8_ASTC_10x8_Format:CR,SRGB8_ALPHA8_ASTC_12x10_Format:PR,SRGB8_ALPHA8_ASTC_12x12_Format:RR,SRGB8_ALPHA8_ASTC_4x4_Format:yR,SRGB8_ALPHA8_ASTC_5x4_Format:xR,SRGB8_ALPHA8_ASTC_5x5_Format:vR,SRGB8_ALPHA8_ASTC_6x5_Format:wR,SRGB8_ALPHA8_ASTC_6x6_Format:bR,SRGB8_ALPHA8_ASTC_8x5_Format:_R,SRGB8_ALPHA8_ASTC_8x6_Format:MR,SRGB8_ALPHA8_ASTC_8x8_Format:SR,Scene:em,SceneUtils:wq,ShaderChunk:Ue,ShaderLib:Ii,ShaderMaterial:jr,ShadowMaterial:Rw,Shape:ur,ShapeBufferGeometry:ta,ShapeGeometry:ta,ShapePath:z$,ShapeUtils:dr,ShortType:UP,Skeleton:sm,SkeletonHelper:XL,SkinnedMesh:im,SmoothShading:cj,Sphere:no,SphereBufferGeometry:na,SphereGeometry:na,Spherical:T$,SphericalHarmonics3:Xw,SplineCurve:cm,SpotLight:jw,SpotLightHelper:A$,Sprite:nm,SpriteMaterial:tm,SrcAlphaFactor:ow,SrcAlphaSaturateFactor:SP,SrcColorFactor:xP,StaticCopyUsage:Dj,StaticDrawUsage:kl,StaticReadUsage:Lj,StereoCamera:u$,StreamCopyUsage:Fj,StreamDrawUsage:Rj,StreamReadUsage:Ij,StringKeyframeTrack:pa,SubtractEquation:pP,SubtractiveBlending:zy,TOUCH:oj,TangentSpaceNormalMap:ca,TetrahedronBufferGeometry:Gl,TetrahedronGeometry:Gl,TextGeometry:Mq,Texture:qt,TextureLoader:RL,TorusBufferGeometry:Wl,TorusGeometry:Wl,TorusKnotBufferGeometry:$l,TorusKnotGeometry:$l,Triangle:It,TriangleFanDrawMode:mj,TriangleStripDrawMode:pj,TrianglesDrawMode:DR,TubeBufferGeometry:ql,TubeGeometry:ql,UVMapping:Hp,Uint16Attribute:oq,Uint16BufferAttribute:qp,Uint32Attribute:lq,Uint32BufferAttribute:Xp,Uint8Attribute:iq,Uint8BufferAttribute:qR,Uint8ClampedAttribute:rq,Uint8ClampedBufferAttribute:XR,Uniform:hm,UniformsLib:he,UniformsUtils:QR,UnsignedByteType:Vr,UnsignedInt248Type:pl,UnsignedIntType:ru,UnsignedShort4444Type:HP,UnsignedShort5551Type:jP,UnsignedShort565Type:GP,UnsignedShortType:Uu,VSMShadowMap:el,Vector2:te,Vector3:R,Vector4:nt,VectorKeyframeTrack:Zu,Vertex:eq,VertexColors:W$,VideoTexture:gL,WebGL1Renderer:fL,WebGLCubeRenderTarget:Zp,WebGLMultipleRenderTargets:jR,WebGLMultisampleRenderTarget:pw,WebGLRenderTarget:Bi,WebGLRenderTargetCube:yq,WebGLRenderer:st,WebGLUtils:hL,WireframeGeometry:Pw,WireframeHelper:pq,WrapAroundEnding:ju,XHRLoader:mq,ZeroCurvatureEnding:Co,ZeroFactor:gP,ZeroSlopeEnding:Ao,ZeroStencilOp:gj,sRGBEncoding:eo},Symbol.toStringTag,{value:"Module"})),fm=({children:t,className:e=""})=>{const n=E.useRef(null),[i,r]=E.useState(null);return E.useEffect(()=>((async()=>{try{if(!n.current)return;const o=await rj(()=>import("./vanta.net.min-DGXdBwWM.js").then(a=>a.v),[]);if(!i){const a=o.default({el:n.current,THREE:Cq,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:9354725,backgroundColor:0,showDots:!1,points:10,maxDistance:20,spacing:15});r(a)}}catch(o){console.error("Vanta Net init error:",o)}})(),()=>{i&&i.destroy()}),[i]),b.jsx("div",{ref:n,className:`relative w-full min-h-screen ${e}`,children:b.jsx("div",{className:"relative z-10 w-full",children:t})})},Aq="/assets/vedinbg1-BoeXvsW9.png",Pq=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.12}}},e={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.7}}};return b.jsx(fm,{className:"min-h-screen flex items-center justify-center",children:b.jsx($e.div,{initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},transition:{duration:1,ease:"easeOut"},className:"relative z-10 flex flex-col items-center text-center px-6",children:b.jsxs($e.div,{className:"relative flex flex-col items-center",variants:t,initial:"hidden",animate:"visible",children:[b.jsx($e.img,{variants:e,src:Aq,alt:"Vedinc Logo",className:"h-24 md:h-40 lg:h-48 w-auto mx-auto object-contain",style:{marginBottom:"0.75rem"}}),b.jsx($e.p,{variants:e,className:"text-base md:text-lg lg:text-xl text-white font-black font-sans tracking-[0.2em] md:tracking-[0.3em] uppercase opacity-90",children:"IT, SUPER SIMPLIFIED"})]})})})},Rq=()=>{const t=$i(),e=E.useRef(null),{scrollYProgress:n}=nw({target:e,offset:["start end","end start"]}),i=Fn(n,[0,.4],[800,0]),r=Fn(n,[0,.25],[0,1]),s=Fn(n,[.08,.48],[-800,0]),o=Fn(n,[.08,.48],[800,0]),a=Fn(n,[.08,.35],[0,1]),l={left:{title:"Website Design & Development",description:"Your brand deserves more than just a website. It deserves a digital experience.",details:"At VedInc, we don't just build websites, we build brand trust, user confidence, and business credibility."},right:{title:"Industry-Ready Training Hub",items:[{name:"Azure DevOps with AI-900",launching:!1},{name:"Azure Cloud PC with Citrix",launching:!1},{name:"Full Stack Development",launching:!0},{name:"Azure Data Engineering",launching:!0},{name:"AWS DevOps",launching:!0}]}};return b.jsx("section",{ref:e,className:"min-h-[100vh] relative bg-gradient-dark overflow-x-hidden font-sans pt-16 pb-24",children:b.jsxs("div",{className:"container mx-auto px-4 flex flex-col items-center",children:[b.jsx($e.div,{style:{y:i,opacity:r},className:"mb-10 md:mb-16 z-70 relative text-center",children:b.jsx("h2",{className:"text-6xl md:text-6xl font-black text-white uppercase tracking-tighter",children:"Verticals"})}),b.jsx("div",{className:"w-full max-w-6xl relative z-30",children:b.jsx("div",{className:"w-full px-6 md:px-16",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 md:gap-24 w-full items-stretch",children:[b.jsxs($e.div,{style:{x:s,opacity:a},className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"text-left space-y-6",children:[b.jsx("h3",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tighter",children:l.left.title}),b.jsx("p",{className:"text-[#c1cbe0] text-lg font-medium",children:l.left.description}),b.jsx("p",{className:"text-[#c1cbe0] text-base leading-relaxed",children:l.left.details})]}),b.jsx("div",{className:"text-left mt-12 md:mt-20",children:b.jsx($e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-3 bg-primary text-primary-foreground rounded-lg font-bold text-sm tracking-widest uppercase shadow-[0_0_20px_rgba(var(--primary),0.3)] hover:shadow-[0_0_30px_rgba(var(--primary),0.5)] transition-shadow",onClick:()=>{var c;(c=document.getElementById("mentor-contact"))==null||c.scrollIntoView({behavior:"smooth"})},children:"Learn More"})})]}),b.jsxs($e.div,{style:{x:o,opacity:a},className:"border-l-0 md:border-l border-white/10 pl-0 md:pl-16 mt-16 md:mt-0 flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"text-left space-y-6",children:[b.jsx("h3",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tighter",children:l.right.title}),b.jsx("ul",{className:"space-y-4",children:l.right.items.map((c,u)=>b.jsxs("li",{className:"flex items-center gap-4 text-[#c1cbe0] text-base",children:[b.jsx("span",{className:"w-2 h-2 bg-primary rounded-full shadow-[0_0_8px_rgba(var(--primary),0.6)] flex-shrink-0"}),b.jsx("span",{className:"font-medium text-[#c1cbe0]",children:c.name}),c.launching&&b.jsx(vb,{className:"w-4 h-4 text-primary fill-primary animate-pulse flex-shrink-0"})]},u))})]}),b.jsxs("div",{className:"text-left flex flex-wrap items-center gap-6 mt-12 md:mt-20",children:[b.jsx($e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/industry-hub"),className:"px-8 py-3 border-2 border-primary text-primary rounded-lg font-bold text-sm tracking-widest uppercase hover:bg-primary/10 transition-colors shadow-[0_0_15px_rgba(var(--primary),0.1)]",children:"Explore Courses"}),b.jsxs("div",{className:"flex items-center gap-2 text-primary text-[10px] font-black tracking-widest uppercase",children:[b.jsx(vb,{className:"w-3 h-3 fill-primary animate-pulse"}),"Launching Soon"]})]})]})]})})})]})})},eN="/assets/azure-color-removebg-preview-BDAmwCvG.png",Lq="/assets/docker_logo-removebg-preview-CkM8ktaw.png",Nq="/assets/OIP-removebg-preview-DfUZMIO7.png",Iq="/assets/git-removebg-preview-C5ePx0eB.png",Dq="/assets/terraform-logo-removebg-preview-BBldaz3u.png",kq="/assets/linux-tux-logo-png-transparent-svg-vector-bie-supply-14-Dc-1WGqK.png",Fq="/assets/python%20logo-Il5cquaF.png",Oq="/assets/helm_logo-removebg-preview-D2CAd_zd.png",zq="/assets/prometheous_logo-removebg-preview-C0RT3pgR.png",Bq="/assets/Grafana-removebg-preview-CN7uiTJ6.png",Uq="/assets/vsc_logo-removebg-preview-CQDkEZGZ.png",Vq="/assets/azure-boards-removebg-preview-CDQdx1IG.png",Hq="/assets/azure_repos-Dd12v87R.png",jq="/assets/azure-pipelines-removebg-preview-BSkJELRx.png",Gq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOBAMAAACKn+SWAAAALVBMVEXXvvJmHbFpI7JnHrFmHbFdAq28k+fNqPXk0PyRWs2dadWgYuCTXM9lGa+ITMj34QQgAAAAAnRSTlMxALDOyooAAAcMSURBVHja7dxBaxtHFAfw9xUEqS0LJ9+lsD6ZDQSU2ITG4IPXkUkPPtTrlBIQ1JJ6MfgiV8q6kEuM2vTmSykN+NCEdYWhIB9iKoOhhxTL+gyVHBNLu7Mz783ObBR47+xsfjsz/9nZmbUhNxkF7GAHO9jBDnawgx3sYAc72MEOdmTnqCGrbNWR9zxvra2uwY89tunYGPwH3s/qGv7Ysj3HsDnQjlV7jimKw7PnqJAcZXawgx0T4JiU+WNS5tOcNxnPl9w03kFsDuL6I1+rVY+UjFeDBYj19Vi+r64s1oXsYMdn4QiUy/UwE8d/DVX9xA52sIMd7GAHO9jBDnawgx3sYAc72MEOdhh39CZkfwyxT1fOwDGLcLzIwPEU8Z3B+wwcPYQjsO+YChCOcN26Y7uNqXPrjhbKUbftmO6hHMdly47ZAOWgJxfMp3ZYP1p29JCO0K5jKsA6lq06ttvYOrfqaKEdTZuO6R7aQU0uyTGDZrTDQ4uOEt7R3rXo6BEcoT1HIaA4lq05ttuUem/N0SI5mrYc+YDkOF635Jhp0+rQkqNEdOxacvSIjmM7jkJAdJAWQ2AptdTkgqXUUl9jwFJqqe+5YCu1w9qx4ChpOOoWHD0NB2ExBLZSS0wuWEstLblYR6jlaJt2TCu7pdFItQEBRlIbNoZfpTYC/dcYMJHa8Ojqi2HvVUM7uWAgteEb77rWGrrJhfSpvWEMIIFmciF9apveSJU0NyAgdWpDb6xCvdcYSJ3a+rgj0jPY1xhIm9pIc3heSyu5kDa19ajjidZrDMYhO2IIX0YdXqCTXEib2hgj0jHIDQhImdp63PFE5zUG0qVW0C3RjglNOWSpDQUMT2cDAuG4I+mWI5GjpLEYAsOpFTiaZhzi1IaN4WqjIXSsaWxAgFZqB+sezx/WY1/kCOivMaCT2rC56n+ozVptQxUY1GIINFLbeOn7N45aVeU4NuGIp3aE4V/9MnZV4cAshoCc2nDfjzhqNbkDk1ygpjZ848cdVbkjSO+IpbbuCxy1itSBeI0BYmqDVaFjPDUBfQNC5XgmGRzXeYn3TEB/jVE5Ipds+gmO0Z5ZC+gbEEBKbbia6KjJHOrkAmmFHG2OUUclaSGESi5QUhsdHaMDdaRBShobEEBJbaw5xhyVhDcHVHKBktq3Ukc1MS6I1xi54wf5KB0fILXEYYpILhBSW/d9TMeUdLYOpY7xY3TBKBV2jNY5KuCftaJuEXTMWqDzBQTgt/abvo/pmJbWOSrgU7srdmxGOibQOkcFdGrF3RKbylp6X0AAPrUJjPFnzFqgd44K6NQ2fTWk4oWam/6ATa149oj0TCXU/QIC0Cvkt8mOjy3ybaB7jgrY1CYO0xuJ728EuueogE2twnFd2l9AJDuin6xhGH5L9zQGkKmVxGW0SrpfQAB2hVxP75BtQAAytUjHU91zVMC+1+Ic3+meowL2GH0X5ZBOILLkAva91oRD8hoDyNS29w04JMlNcsQGHM6xEWieoyY57kb/podwZzC+Raf4yyDLREfhUTdSF79j6nVXXotEx5YTLaSj40jrHdFxGbvCvBHH3DrJMV2MXeHUiMP9kuS41bHkcB6QHCvxC/yDchwoGM4JyVEUjDCU4w+Vw31BcBQErXuGcuypHM4iwbElusAvGMel0nFGcIiu5qIcSkZScgGX2oHjuRmH+zfacUsUPhczof7WUUMeoh0rwn9/amL6GHYM2lEUPxpMxHbYsDtIRyHhpozEJSm5gEzt4D7+MjFMB9VBOhJuCjFQMcMjIbmASy1ugByg2sO9h3LcTrwpM8NjkDyUYyXxPpQzWQfnmCtjHMXk+zAyPAY3dI5wzCZf7MxMtzjOAsKxJbmPCyPd4jhdhEN2U+8MpOVqgCwrHdNF2QWkU5mLdjj3lI7b0sadNzBKxckFbGo/TMkmRqkwuVGHonHnjTSHYLUMlOEhGyGE0SEaIBHHjOqukiJz0CE5FhSOL5QtepG+V0Sr9ojjG/Xq4Xn6XhEsDiOOXxG3IspKh+ooyx2I8LlxyL9URnxGjTi6jgaEzogHF7AP/dGLdEYH6+tLOiP+6B935IvIB+bdj6O172owTDkct+v0+41+3+nqKAT7QpqOYZsMy9Esg45UpXDkMnOcT4hjR+5ws3Io5o+9jByxd0ugLMcMOhTPl62MHCeq9UcnG8epwlHIyLGocGQ0kcW3+6Pr9b1PE5eYY+vTDNOY404mA2RB6chkgAg2QCCXy34mE2wIxRxZdMwDzL5U135zHGIcW9Yb5Ay1X5h/lP0oFe9rW26QJex5w5zdOewQ6yjY7Bl3AX8+9709iPsV5fz2a1uQ7lKZ9J3Bs/s2phH35GGZ+B1K9c/75mtpX+f7Qt8zXJupfl8sm2IHO9jBDnawgx3sYAc72MGOz8XxP/Hs3HdVs+u2AAAAAElFTkSuQmCC",Wq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAACZCAMAAAALgmiIAAAATlBMVEXvb6TkXJTvb6TpYproYZnML3DBKGa0EFaiDEq1EFbAIGK+H2TMMna0EFaRB0C0EVa2IF3AJmTPMHHLLW7oYpn3gLHxcab8jLvxc6j9kb8nC273AAAADXRSTlP9+8w+pf3Uzf6OTgAbaiitlQAAAfhJREFUeNrt3NuWgiAYhmHINNxgCkrN/d/oOE0zsxo2hoFSfe9hJz6LpcDBvyL1XE2UZh9bE7eqyEWAZK9XlM0DsiqIyyybqhbLKiGiytw0lyyPLeubZbJgS2aXVctkRXxZARlkkL2LLNceItOQ9Z1en4LMBHPRVpPJrvOjrSbrLbJuc5kN1knInk+W7nuW7rdpWzScAc5zU6Z6buIWBBlkkEEGGWSQQQYZZJBBBhlkkEEGGWSQQQYZZJBBBhlkkEGmywwDzEUerMKWY276IisP3KPjOVhq0KP77EfWeLmiy6ayq8wTtoLsQiN1ydOT0YuMJyj7WjTSJCnbT7IKMsggez4ZY+1NjM3JBvrvnkGHGLLWEHPJFM2lFg0va40xh4xKUzS0jJll7dETJuUQWGaBtcwqExaZCCtj3jJlgcl8JVlrew6xySRJds3Um7xnAb9Nuvl+psyLJtT2ZwAx0QSJcW7qrplzczo2b1mCpnPXUOQvhfsZZJBBBhlkkEEGGWTJy8Z72kI2ftzRCTLIXlZ2uqMR+xlkkEHm3DXGJGReOytkkL2a7Ox1u8Z+BhlkEWWcrCPznz/jwzoy7zFHzsU6M3v1gheNxJbtvmdDvUcwea/iymh2nfRdQBtiynbZ7wxyUx58K+ju4Qghhl+vI8gz/x29ZenKPgErdAxr0JWgbQAAAABJRU5ErkJggg==",$q="/assets/Istio-removebg-preview-mauwvQRo.png",Xg=[{name:"Azure",logo:eN,size:100,mobileSize:70,glow:"rgba(0, 120, 212, 0.6)"},{name:"Docker",logo:Lq,size:75,mobileSize:50,glow:"rgba(36, 150, 237, 0.5)"},{name:"Linux",logo:kq,size:75,mobileSize:50,glow:"rgba(255, 215, 0, 0.4)"},{name:"Git",logo:Iq,size:65,mobileSize:38,glow:"rgba(240, 80, 50, 0.5)"},{name:"VS Code",logo:Uq,size:72,mobileSize:42,glow:"rgba(0, 122, 204, 0.5)"},{name:"Kubernetes",logo:Nq,size:85,mobileSize:55,glow:"rgba(50, 108, 230, 0.5)"},{name:"Terraform",logo:Dq,size:70,mobileSize:45,glow:"rgba(132, 73, 229, 0.5)"},{name:"Python",logo:Fq,size:70,mobileSize:45,glow:"rgba(55, 115, 165, 0.5)"},{name:"Helm",logo:Oq,size:65,mobileSize:38,glow:"rgba(15, 172, 230, 0.5)"},{name:"Prometheus",logo:zq,size:70,mobileSize:45,glow:"rgba(230, 82, 44, 0.5)"},{name:"Grafana",logo:Bq,size:70,mobileSize:45,glow:"rgba(244, 104, 34, 0.5)"},{name:"Azure Boards",logo:Vq,size:70,mobileSize:45,glow:"rgba(0, 120, 212, 0.5)"},{name:"Azure Repos",logo:Hq,size:70,mobileSize:45,glow:"rgba(255, 80, 0, 0.5)"},{name:"Azure Pipelines",logo:jq,size:70,mobileSize:45,glow:"rgba(0, 100, 200, 0.5)"},{name:"Azure Test Plans",logo:Gq,size:70,mobileSize:45,glow:"rgba(0, 180, 0, 0.5)"},{name:"Azure Artifacts",logo:Wq,size:70,mobileSize:45,glow:"rgba(200, 50, 200, 0.5)"},{name:"Istio",logo:$q,size:70,mobileSize:45,glow:"rgba(70, 107, 186, 0.5)"}],qq=({tool:t,index:e,pos:n,mouseX:i,mouseY:r,rotation:s=0})=>{const[o,a]=E.useState(!1);E.useEffect(()=>{const x=()=>a(window.innerWidth<768);return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const l=o?.45:1,c=o?.8:1.2,u=o?.8:.7,d=n.x*l*c,h=n.y*l*u+(o?30:0),f={stiffness:40,damping:30},g=TM(Fn(i,[-500,500],[d-15,d+15]),f),y=TM(Fn(r,[-300,300],[h-10,h+10]),f);return b.jsx($e.div,{style:{x:g,y},className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:b.jsxs($e.div,{whileHover:{scale:1.1,zIndex:100},className:"relative group flex flex-col items-center cursor-pointer",children:[b.jsx("div",{className:"absolute inset-0 blur-[30px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",style:{backgroundColor:t.glow,transform:"scale(1.3)"}}),b.jsxs($e.div,{animate:{y:[0,e%2===0?-5:5,0]},transition:{duration:4+e%3,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:[b.jsx("img",{src:t.logo,alt:t.name,style:{width:o?t.mobileSize:t.size},className:"object-contain transition-all duration-300 group-hover:drop-shadow-[0_0_15px_rgba(255,255,255,0.15)]"}),b.jsx("span",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 text-white text-[10px] md:text-xs font-semibold bg-[#0f172a]/95 border border-white/20 px-3 py-1.5 rounded-full transition-all duration-300 whitespace-nowrap backdrop-blur-md shadow-2xl",children:t.name})]})]})})},Xq=()=>{const t=E.useRef(null),e=ip(0),n=ip(0),i=E.useMemo(()=>{const a=[],l=[{radius:280,items:6},{radius:460,items:11}];let c=0;for(l.forEach((u,d)=>{for(let h=0;h<u.items&&!(c>=Xg.length);h++){const f=2*Math.PI*h/u.items+d*.5,g=u.radius,y=Math.cos(f)*g,x=Math.sin(f)*g;a.push({x:y,y:x}),c++}});a.length<Xg.length;){const u=Math.random()*Math.PI*2,d=600+Math.random()*100;a.push({x:Math.cos(u)*d,y:Math.sin(u)*d})}return a},[]);E.useEffect(()=>{const a=l=>{if(!t.current)return;const c=t.current.getBoundingClientRect();e.set(l.clientX-(c.left+c.width/2)),n.set(l.clientY-(c.top+c.height/2))};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[e,n]);const{scrollYProgress:r}=nw({target:t,offset:["start end","end start"]}),s=Fn(r,[0,.4],[-200,0]),o=Fn(r,[0,.25],[0,1]);return b.jsxs("section",{ref:t,className:"min-h-[120vh] relative bg-transparent overflow-x-hidden flex flex-col items-center justify-center py-20",children:[b.jsx("div",{className:"absolute left-8 md:left-16 top-0 bottom-0 flex items-center z-40",children:b.jsx($e.div,{style:{x:s,opacity:o},children:b.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-black text-slate-100 uppercase tracking-tighter whitespace-nowrap",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Tech Stack"})})}),b.jsxs("div",{className:"relative h-[600px] md:h-[700px] w-full max-w-[90vw] z-20 flex items-center justify-center",children:[b.jsx($e.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"absolute z-50 pointer-events-none flex flex-col items-center",children:b.jsxs($e.div,{animate:{y:[0,-20,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"relative",children:[b.jsx("div",{className:"absolute inset-0 blur-[60px] bg-blue-600/20 rounded-full scale-150"}),b.jsx("img",{src:eN,alt:"Azure",className:"w-32 h-32 md:w-56 md:h-56 object-contain relative z-10 filter drop-shadow-[0_0_30px_rgba(0,120,212,0.3)]"})]})}),Xg.filter(a=>a.name!=="Azure").map((a,l)=>b.jsx($e.div,{initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:.05*l,duration:.8,ease:"backOut"},className:"absolute inset-0 flex items-center justify-center",children:b.jsx(qq,{tool:a,index:l,pos:i[l],mouseX:e,mouseY:n})},a.name))]}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(6,18,45,0.4),transparent_70%)] pointer-events-none"})]})},Yq="/assets/barat_pic_final-DvD8mAwb.png",Zq=()=>{const t=E.useRef(null),{scrollYProgress:e}=nw({target:t,offset:["start end","end start"]}),[n,i]=E.useState({name:"",email:"",phone:"",purpose:""}),r=Fn(e,[0,1],[100,-100]),s=o=>{if(o.preventDefault(),!n.name||!n.email||!n.phone||!n.purpose){alert("Please fill all fields");return}const a="919346401088",l=`
New Mentor Contact Request - Vedinc Website

Name: ${n.name}
Email: ${n.email}
Phone: ${n.phone}

Message:
${n.purpose}
    `,c=encodeURIComponent(l),u=`https://wa.me/${a}?text=${c}`;window.location.href=u};return b.jsxs("section",{ref:t,id:"mentor-contact",className:"relative min-h-screen bg-transparent text-white overflow-x-hidden pt-20 px-4 md:px-12 flex items-center justify-center font-sans",children:[b.jsx($e.div,{style:{y:r},animate:{rotate:360},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute top-[20%] left-[10%] md:left-[22%] w-0 h-0 border-l-[30px] border-l-transparent border-b-[50px] border-b-blue-600 border-r-[30px] border-r-transparent opacity-60 z-10"}),b.jsx($e.div,{style:{y:Fn(e,[0,1],[-80,80])},animate:{rotate:-360},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute top-[45%] left-[8%] md:left-[18%] w-0 h-0 border-l-[25px] border-l-transparent border-b-[40px] border-b-sky-400 border-r-[25px] border-r-transparent opacity-50 z-10"}),b.jsx($e.div,{style:{y:Fn(e,[0,1],[120,-120])},animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute bottom-[25%] left-[12%] md:left-[25%] w-0 h-0 border-l-[15px] border-l-transparent border-b-[25px] border-b-indigo-500 border-r-[15px] border-r-transparent opacity-70 z-10"}),b.jsx($e.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},className:"absolute bottom-0 left-0 md:left-0 z-10 w-full md:w-auto flex items-end justify-center pointer-events-none",children:b.jsx($e.img,{src:Yq,alt:"Mentor",className:"h-[60vh] md:h-[80vh] w-auto object-contain filter grayscale brightness-110 contrast-125 opacity-30 md:opacity-100",style:{transformOrigin:"bottom center"},animate:{y:[0,-8,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}})}),b.jsx("div",{className:"container mx-auto relative z-20 w-full max-w-4xl h-full flex flex-col items-center",children:b.jsxs("div",{className:"flex flex-col justify-center items-start text-left pt-10 pb-20 lg:py-20 relative z-30 w-full max-w-2xl px-4",children:[b.jsx($e.h2,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"text-4xl md:text-6xl font-black text-white uppercase tracking-widest mb-10",children:"CONTACT"}),b.jsxs($e.form,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},onSubmit:s,className:"w-full space-y-5",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsx(Yg,{icon:b.jsx(gC,{size:18}),placeholder:"Full Name",value:n.name,onChange:o=>i({...n,name:o.target.value})}),b.jsx(Yg,{icon:b.jsx(pC,{size:18}),placeholder:"Email Address",type:"email",value:n.email,onChange:o=>i({...n,email:o.target.value})})]}),b.jsx(Yg,{icon:b.jsx(mC,{size:18}),placeholder:"Phone Number",type:"tel",value:n.phone,onChange:o=>i({...n,phone:o.target.value})}),b.jsx($e.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4},className:"relative group",children:b.jsx("textarea",{placeholder:"How can we help you?",rows:4,value:n.purpose,onChange:o=>i({...n,purpose:o.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-5 text-white placeholder:text-white/20 focus:outline-none focus:border-primary/50 focus:bg-white/10 transition-all resize-none"})}),b.jsxs($e.button,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full py-5 bg-primary text-white font-bold uppercase tracking-widest rounded-2xl flex items-center justify-center gap-3 shadow-[0_20px_40px_rgba(var(--primary-rgb),0.3)] hover:shadow-primary/40 transition-all border border-white/10",children:[b.jsx(nF,{size:18}),"Send Message"]})]})]})})]})},Yg=({icon:t,...e})=>b.jsxs("div",{className:"relative group w-full",children:[b.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-primary transition-colors",children:t}),b.jsx("input",{...e,className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-14 pr-6 py-5 text-white placeholder:text-white/20 focus:outline-none focus:border-primary/50 focus:bg-white/10 transition-all"})]}),Jq=()=>b.jsx("footer",{className:"relative mt-24 border-t border-white/10 bg-gradient-to-b from-[#0b1624] to-[#060d18] font-sans",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-12",children:[b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsx("h3",{className:"text-2xl font-black text-white tracking-tighter",children:"VedInc"}),b.jsx("p",{className:"text-sm text-white/50 tracking-[0.2em] uppercase",children:"IT, Super Simplified"}),b.jsxs("div",{className:"flex gap-5 pt-4",children:[b.jsx($h,{Icon:Wk,link:"https://facebook.com"}),b.jsx($h,{Icon:iF,link:"https://twitter.com"}),b.jsx($h,{Icon:Xk,link:"https://www.instagram.com/bharathreddy_sa/"}),b.jsx($h,{Icon:Zk,link:"https://in.linkedin.com/in/bharath-reddy329"})]})]}),b.jsxs("div",{className:"flex flex-col space-y-6",children:[b.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-sm opacity-50",children:"Contact Us"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(Zg,{icon:b.jsx(mC,{size:18,className:"text-primary"}),text:"+91 9346401088"}),b.jsx(Zg,{icon:b.jsx(pC,{size:18,className:"text-primary"}),text:"bharath@vedinc.in"}),b.jsx(Zg,{icon:b.jsx(Kk,{size:18,className:"text-primary"}),text:"Hyderabad, India"})]})]}),b.jsxs("div",{className:"flex flex-col space-y-6",children:[b.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-sm opacity-50",children:"About"}),b.jsx("p",{className:"text-sm text-white/60 leading-relaxed max-w-xs",children:"Empowering developers with industry-standard DevOps and Cloud training. Join our community to accelerate your tech career."})]})]}),b.jsx("div",{className:"h-px bg-white/5 w-full mb-8"}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] font-bold text-white/30 uppercase tracking-[0.2em]",children:[b.jsxs("span",{children:[" ",new Date().getFullYear()," VedInc. All rights reserved."]}),b.jsxs("div",{className:"flex gap-8",children:[b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),$h=({Icon:t,link:e})=>b.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white/60 hover:bg-primary hover:text-white transition-all duration-300",children:b.jsx(t,{size:18})}),Zg=({icon:t,text:e})=>b.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:t}),b.jsx("span",{className:"text-sm text-white/70 group-hover:text-white transition-colors",children:e})]});function lu(t){let e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function sx(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Kq(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function KS(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function QS(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qq(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function eX(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Jg(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function tX(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function nX(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function eE(t){let e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function iX(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function rX(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ox(t,e){let n=e[0],i=e[1],r=e[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function tN(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function tE(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=r*l-s*a,t[1]=s*o-i*l,t[2]=i*a-r*o,t}function sX(t,e,n,i){let r=e[0],s=e[1],o=e[2];return t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t[2]=o+i*(n[2]-o),t}function oX(t,e,n,i,r){const s=Math.exp(-i*r);let o=e[0],a=e[1],l=e[2];return t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(a-n[1])*s,t[2]=n[2]+(l-n[2])*s,t}function aX(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[3]*i+n[7]*r+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*i+n[4]*r+n[8]*s+n[12])/o,t[1]=(n[1]*i+n[5]*r+n[9]*s+n[13])/o,t[2]=(n[2]*i+n[6]*r+n[10]*s+n[14])/o,t}function lX(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[3]*i+n[7]*r+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*i+n[4]*r+n[8]*s)/o,t[1]=(n[1]*i+n[5]*r+n[9]*s)/o,t[2]=(n[2]*i+n[6]*r+n[10]*s)/o,t}function cX(t,e,n){let i=e[0],r=e[1],s=e[2];return t[0]=i*n[0]+r*n[3]+s*n[6],t[1]=i*n[1]+r*n[4]+s*n[7],t[2]=i*n[2]+r*n[5]+s*n[8],t}function uX(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[0],a=n[1],l=n[2],c=n[3],u=a*s-l*r,d=l*i-o*s,h=o*r-a*i,f=a*h-l*d,g=l*u-o*h,y=o*d-a*u,x=c*2;return u*=x,d*=x,h*=x,f*=2,g*=2,y*=2,t[0]=i+u+f,t[1]=r+d+g,t[2]=s+h+y,t}const dX=function(){const t=[0,0,0],e=[0,0,0];return function(n,i){sx(t,n),sx(e,i),ox(t,t),ox(e,e);let r=tN(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();function hX(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Ot extends Array{constructor(e=0,n=e,i=e){return super(e,n,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,i=e){return e.length?this.copy(e):(Kq(this,e,n,i),this)}copy(e){return sx(this,e),this}add(e,n){return n?KS(this,e,n):KS(this,this,e),this}sub(e,n){return n?QS(this,e,n):QS(this,this,e),this}multiply(e){return e.length?Qq(this,this,e):Jg(this,this,e),this}divide(e){return e.length?eX(this,this,e):Jg(this,this,1/e),this}inverse(e=this){return rX(this,e),this}len(){return lu(this)}distance(e){return e?tX(this,e):lu(this)}squaredLen(){return eE(this)}squaredDistance(e){return e?nX(this,e):eE(this)}negate(e=this){return iX(this,e),this}cross(e,n){return n?tE(this,e,n):tE(this,this,e),this}scale(e){return Jg(this,this,e),this}normalize(){return ox(this,this),this}dot(e){return tN(this,e)}equals(e){return hX(this,e)}applyMatrix3(e){return cX(this,this,e),this}applyMatrix4(e){return aX(this,this,e),this}scaleRotateMatrix4(e){return lX(this,this,e),this}applyQuaternion(e){return uX(this,this,e),this}angle(e){return dX(this,e)}lerp(e,n){return sX(this,this,e,n),this}smoothLerp(e,n,i){return oX(this,this,e,n,i),this}clone(){return new Ot(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],i=this[1],r=this[2];return this[0]=e[0]*n+e[4]*i+e[8]*r,this[1]=e[1]*n+e[5]*i+e[9]*r,this[2]=e[2]*n+e[6]*i+e[10]*r,this.normalize()}}const nE=new Ot;let fX=1,pX=1,iE=!1;class mX{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=fX++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in n)this.addAttribute(i,n[i])}addAttribute(e,n){if(this.attributes[e]=n,n.id=pX++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const s=this.attributes[i];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;r===35674&&(o=2),r===35675&&(o=3),r===35676&&(o=4);const a=s.size/o,l=o===1?0:o*o*4,c=o===1?0:o*4;for(let u=0;u<o;u++)this.gl.vertexAttribPointer(n+u,a,s.type,s.normalized,s.stride+l,s.offset+u*c),this.gl.enableVertexAttribArray(n+u),this.gl.renderer.vertexAttribDivisor(n+u,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var r;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:o})=>{const a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let i=2;((r=this.attributes.index)==null?void 0:r.type)===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!iE)return console.warn("No position buffer data found to compute bounds"),iE=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||(this.bounds={min:new Ot,max:new Ot,center:new Ot,scale:new Ot,radius:1/0});const r=this.bounds.min,s=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;r.set(1/0),s.set(-1/0);for(let l=0,c=n.length;l<c;l+=i){const u=n[l],d=n[l+1],h=n[l+2];r.x=Math.min(u,r.x),r.y=Math.min(d,r.y),r.z=Math.min(h,r.z),s.x=Math.max(u,s.x),s.y=Math.max(d,s.y),s.z=Math.max(h,s.z)}a.sub(s,r),o.add(r,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let s=0,o=n.length;s<o;s+=i)nE.fromArray(n,s),r=Math.max(r,this.bounds.center.squaredDistance(nE));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let gX=1;const rE={};class yX{constructor(e,{vertex:n,fragment:i,uniforms:r={},transparent:s=!1,cullFace:o=e.BACK,frontFace:a=e.CCW,depthTest:l=!0,depthWrite:c=!0,depthFunc:u=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=gX++,n||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=c,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:i})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${sE(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${sE(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;const r=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(r[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=r.join("")}setBlendFunc(e,n,i,r){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,i){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=i}setStencilOp(e,n,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,s)=>{let o=this.uniforms[s.uniformName];for(const a of s.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return oE(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return oE(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),Kg(this.gl,s.type,r,n);if(o.value.length&&o.value[0].texture){const a=[];return o.value.forEach(l=>{n=n+1,l.update(n),a.push(n)}),Kg(this.gl,s.type,r,a)}Kg(this.gl,s.type,r,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Kg(t,e,n,i){i=i.length?xX(i):i;const r=t.renderer.state.uniformLocations.get(n);if(i.length)if(r===void 0||r.length!==i.length)t.renderer.state.uniformLocations.set(n,i.slice(0));else{if(vX(r,i))return;r.set?r.set(i):wX(r,i),t.renderer.state.uniformLocations.set(n,r)}else{if(r===i)return;t.renderer.state.uniformLocations.set(n,i)}switch(e){case 5126:return i.length?t.uniform1fv(n,i):t.uniform1f(n,i);case 35664:return t.uniform2fv(n,i);case 35665:return t.uniform3fv(n,i);case 35666:return t.uniform4fv(n,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?t.uniform1iv(n,i):t.uniform1i(n,i);case 35671:case 35667:return t.uniform2iv(n,i);case 35672:case 35668:return t.uniform3iv(n,i);case 35673:case 35669:return t.uniform4iv(n,i);case 35674:return t.uniformMatrix2fv(n,!1,i);case 35675:return t.uniformMatrix3fv(n,!1,i);case 35676:return t.uniformMatrix4fv(n,!1,i)}}function sE(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function xX(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const i=e*n;let r=rE[i];r||(rE[i]=r=new Float32Array(i));for(let s=0;s<e;s++)r.set(t[s],s*n);return r}function vX(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function wX(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e[n]}let Qg=0;function oE(t){Qg>100||(console.warn(t),Qg++,Qg>100&&console.warn("More than 100 program warnings - stopping logs."))}const e0=new Ot;let bX=1;class _X{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:i=150,dpr:r=1,alpha:s=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:u=!1,powerPreference:d="default",autoClear:h=!0,webgl:f=2}={}){const g={alpha:s,depth:o,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d};this.dpr=r,this.alpha=s,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=c,this.autoClear=h,this.id=bX++,f===2&&(this.gl=e.getContext("webgl2",g)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",g)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,i=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,n))}setScissor(e,n,i=0,r=0){this.gl.scissor(i,r,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,i,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(e,n,i,r):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,i){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,i||0))}setStencilOp(e,n,i){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=i,this.gl.stencilOp(e,n,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,i){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:i,sort:r}){let s=[];if(n&&i&&n.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||s.push(o))}),r){const o=[],a=[],l=[];s.forEach(c=>{c.program.transparent?c.program.depthTest?a.push(c):l.push(c):o.push(c),c.zDepth=0,!(c.renderOrder!==0||!c.program.depthTest||!n)&&(c.worldMatrix.getTranslation(e0),e0.applyMatrix4(n.projectionViewMatrix),c.zDepth=e0.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),s=o.concat(a,l)}return s}render({scene:e,camera:n,target:i=null,update:r=!0,sort:s=!0,frustumCull:o=!0,clear:a}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:o,sort:s}).forEach(c=>{c.draw({camera:n})})}}function MX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function SX(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function EX(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=i*o,t[2]=r*o,t[3]=s*o,t}function TX(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function CX(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function AX(t,e,n){n=n*.5;let i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function aE(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=i*u+o*a+r*c-s*l,t[1]=r*u+o*l+s*a-i*c,t[2]=s*u+o*c+i*l-r*a,t[3]=o*u-i*a-r*l-s*c,t}function PX(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=i*l+o*a,t[1]=r*l+s*a,t[2]=s*l-r*a,t[3]=o*l-i*a,t}function RX(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=i*l-s*a,t[1]=r*l+o*a,t[2]=s*l+i*a,t[3]=o*l-r*a,t}function LX(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=i*l+r*a,t[1]=r*l-i*a,t[2]=s*l+o*a,t[3]=o*l-s*a,t}function NX(t,e,n,i){let r=e[0],s=e[1],o=e[2],a=e[3],l=n[0],c=n[1],u=n[2],d=n[3],h,f,g,y,x;return f=r*l+s*c+o*u+a*d,f<0&&(f=-f,l=-l,c=-c,u=-u,d=-d),1-f>1e-6?(h=Math.acos(f),g=Math.sin(h),y=Math.sin((1-i)*h)/g,x=Math.sin(i*h)/g):(y=1-i,x=i),t[0]=y*r+x*l,t[1]=y*s+x*c,t[2]=y*o+x*u,t[3]=y*a+x*d,t}function IX(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s,a=o?1/o:0;return t[0]=-n*a,t[1]=-i*a,t[2]=-r*a,t[3]=s*a,t}function DX(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function kX(t,e){let n=e[0]+e[4]+e[8],i;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let s=(r+1)%3,o=(r+2)%3;i=Math.sqrt(e[r*3+r]-e[s*3+s]-e[o*3+o]+1),t[r]=.5*i,i=.5/i,t[3]=(e[s*3+o]-e[o*3+s])*i,t[s]=(e[s*3+r]+e[r*3+s])*i,t[o]=(e[o*3+r]+e[r*3+o])*i}return t}function FX(t,e,n="YXZ"){let i=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),a=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=i*o*l+r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l-i*s*a):n==="YXZ"?(t[0]=i*o*l+r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l+i*s*a):n==="ZXY"?(t[0]=i*o*l-r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l-i*s*a):n==="ZYX"?(t[0]=i*o*l-r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l+i*s*a):n==="YZX"?(t[0]=i*o*l+r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l-i*s*a):n==="XZY"&&(t[0]=i*o*l-r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l+i*s*a),t}const OX=MX,zX=SX,BX=TX,UX=EX;class VX extends Array{constructor(e=0,n=0,i=0,r=1){super(e,n,i,r),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&s.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return CX(this._target),this.onChange(),this}set(e,n,i,r){return e.length?this.copy(e):(zX(this._target,e,n,i,r),this.onChange(),this)}rotateX(e){return PX(this._target,this._target,e),this.onChange(),this}rotateY(e){return RX(this._target,this._target,e),this.onChange(),this}rotateZ(e){return LX(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return IX(this._target,e),this.onChange(),this}conjugate(e=this._target){return DX(this._target,e),this.onChange(),this}copy(e){return OX(this._target,e),this.onChange(),this}normalize(e=this._target){return UX(this._target,e),this.onChange(),this}multiply(e,n){return n?aE(this._target,e,n):aE(this._target,this._target,e),this.onChange(),this}dot(e){return BX(this._target,e)}fromMatrix3(e){return kX(this._target,e),this.onChange(),this}fromEuler(e,n){return FX(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return AX(this._target,e,n),this.onChange(),this}slerp(e,n){return NX(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const HX=1e-6;function jX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function GX(t,e,n,i,r,s,o,a,l,c,u,d,h,f,g,y,x){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=h,t[12]=f,t[13]=g,t[14]=y,t[15]=x,t}function WX(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $X(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],g=e[12],y=e[13],x=e[14],p=e[15],m=n*a-i*o,v=n*l-r*o,w=n*c-s*o,_=i*l-r*a,S=i*c-s*a,M=r*c-s*l,T=u*y-d*g,P=u*x-h*g,C=u*p-f*g,A=d*x-h*y,O=d*p-f*y,F=h*p-f*x,N=m*F-v*O+w*A+_*C-S*P+M*T;return N?(N=1/N,t[0]=(a*F-l*O+c*A)*N,t[1]=(r*O-i*F-s*A)*N,t[2]=(y*M-x*S+p*_)*N,t[3]=(h*S-d*M-f*_)*N,t[4]=(l*C-o*F-c*P)*N,t[5]=(n*F-r*C+s*P)*N,t[6]=(x*w-g*M-p*v)*N,t[7]=(u*M-h*w+f*v)*N,t[8]=(o*O-a*C+c*T)*N,t[9]=(i*C-n*O-s*T)*N,t[10]=(g*S-y*w+p*m)*N,t[11]=(d*w-u*S-f*m)*N,t[12]=(a*P-o*A-l*T)*N,t[13]=(n*A-i*P+r*T)*N,t[14]=(y*v-g*_-x*m)*N,t[15]=(u*_-d*v+h*m)*N,t):null}function nN(t){let e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],f=t[12],g=t[13],y=t[14],x=t[15],p=e*o-n*s,m=e*a-i*s,v=e*l-r*s,w=n*a-i*o,_=n*l-r*o,S=i*l-r*a,M=c*g-u*f,T=c*y-d*f,P=c*x-h*f,C=u*y-d*g,A=u*x-h*g,O=d*x-h*y;return p*O-m*A+v*C+w*P-_*T+S*M}function lE(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],g=e[11],y=e[12],x=e[13],p=e[14],m=e[15],v=n[0],w=n[1],_=n[2],S=n[3];return t[0]=v*i+w*a+_*d+S*y,t[1]=v*r+w*l+_*h+S*x,t[2]=v*s+w*c+_*f+S*p,t[3]=v*o+w*u+_*g+S*m,v=n[4],w=n[5],_=n[6],S=n[7],t[4]=v*i+w*a+_*d+S*y,t[5]=v*r+w*l+_*h+S*x,t[6]=v*s+w*c+_*f+S*p,t[7]=v*o+w*u+_*g+S*m,v=n[8],w=n[9],_=n[10],S=n[11],t[8]=v*i+w*a+_*d+S*y,t[9]=v*r+w*l+_*h+S*x,t[10]=v*s+w*c+_*f+S*p,t[11]=v*o+w*u+_*g+S*m,v=n[12],w=n[13],_=n[14],S=n[15],t[12]=v*i+w*a+_*d+S*y,t[13]=v*r+w*l+_*h+S*x,t[14]=v*s+w*c+_*f+S*p,t[15]=v*o+w*u+_*g+S*m,t}function qX(t,e,n){let i=n[0],r=n[1],s=n[2],o,a,l,c,u,d,h,f,g,y,x,p;return e===t?(t[12]=e[0]*i+e[4]*r+e[8]*s+e[12],t[13]=e[1]*i+e[5]*r+e[9]*s+e[13],t[14]=e[2]*i+e[6]*r+e[10]*s+e[14],t[15]=e[3]*i+e[7]*r+e[11]*s+e[15]):(o=e[0],a=e[1],l=e[2],c=e[3],u=e[4],d=e[5],h=e[6],f=e[7],g=e[8],y=e[9],x=e[10],p=e[11],t[0]=o,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=d,t[6]=h,t[7]=f,t[8]=g,t[9]=y,t[10]=x,t[11]=p,t[12]=o*i+u*r+g*s+e[12],t[13]=a*i+d*r+y*s+e[13],t[14]=l*i+h*r+x*s+e[14],t[15]=c*i+f*r+p*s+e[15]),t}function XX(t,e,n){let i=n[0],r=n[1],s=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function YX(t,e,n,i){let r=i[0],s=i[1],o=i[2],a=Math.hypot(r,s,o),l,c,u,d,h,f,g,y,x,p,m,v,w,_,S,M,T,P,C,A,O,F,N,H;return Math.abs(a)<HX?null:(a=1/a,r*=a,s*=a,o*=a,l=Math.sin(n),c=Math.cos(n),u=1-c,d=e[0],h=e[1],f=e[2],g=e[3],y=e[4],x=e[5],p=e[6],m=e[7],v=e[8],w=e[9],_=e[10],S=e[11],M=r*r*u+c,T=s*r*u+o*l,P=o*r*u-s*l,C=r*s*u-o*l,A=s*s*u+c,O=o*s*u+r*l,F=r*o*u+s*l,N=s*o*u-r*l,H=o*o*u+c,t[0]=d*M+y*T+v*P,t[1]=h*M+x*T+w*P,t[2]=f*M+p*T+_*P,t[3]=g*M+m*T+S*P,t[4]=d*C+y*A+v*O,t[5]=h*C+x*A+w*O,t[6]=f*C+p*A+_*O,t[7]=g*C+m*A+S*O,t[8]=d*F+y*N+v*H,t[9]=h*F+x*N+w*H,t[10]=f*F+p*N+_*H,t[11]=g*F+m*N+S*H,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ZX(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function iN(t,e){let n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,i,r),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,c,u),t}function JX(t){let e=t[0],n=t[1],i=t[2],r=t[4],s=t[5],o=t[6],a=t[8],l=t[9],c=t[10];const u=e*e+n*n+i*i,d=r*r+s*s+o*o,h=a*a+l*l+c*c;return Math.sqrt(Math.max(u,d,h))}const rN=function(){const t=[1,1,1];return function(e,n){let i=t;iN(i,n);let r=1/i[0],s=1/i[1],o=1/i[2],a=n[0]*r,l=n[1]*s,c=n[2]*o,u=n[4]*r,d=n[5]*s,h=n[6]*o,f=n[8]*r,g=n[9]*s,y=n[10]*o,x=a+d+y,p=0;return x>0?(p=Math.sqrt(x+1)*2,e[3]=.25*p,e[0]=(h-g)/p,e[1]=(f-c)/p,e[2]=(l-u)/p):a>d&&a>y?(p=Math.sqrt(1+a-d-y)*2,e[3]=(h-g)/p,e[0]=.25*p,e[1]=(l+u)/p,e[2]=(f+c)/p):d>y?(p=Math.sqrt(1+d-a-y)*2,e[3]=(f-c)/p,e[0]=(l+u)/p,e[1]=.25*p,e[2]=(h+g)/p):(p=Math.sqrt(1+y-a-d)*2,e[3]=(l-u)/p,e[0]=(f+c)/p,e[1]=(h+g)/p,e[2]=.25*p),e}}();function KX(t,e,n,i){let r=lu([t[0],t[1],t[2]]);const s=lu([t[4],t[5],t[6]]),o=lu([t[8],t[9],t[10]]);nN(t)<0&&(r=-r),n[0]=t[12],n[1]=t[13],n[2]=t[14];const l=t.slice(),c=1/r,u=1/s,d=1/o;l[0]*=c,l[1]*=c,l[2]*=c,l[4]*=u,l[5]*=u,l[6]*=u,l[8]*=d,l[9]*=d,l[10]*=d,rN(e,l),i[0]=r,i[1]=s,i[2]=o}function QX(t,e,n,i){const r=t,s=e[0],o=e[1],a=e[2],l=e[3],c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,g=s*d,y=o*u,x=o*d,p=a*d,m=l*c,v=l*u,w=l*d,_=i[0],S=i[1],M=i[2];return r[0]=(1-(y+p))*_,r[1]=(f+w)*_,r[2]=(g-v)*_,r[3]=0,r[4]=(f-w)*S,r[5]=(1-(h+p))*S,r[6]=(x+m)*S,r[7]=0,r[8]=(g+v)*M,r[9]=(x-m)*M,r[10]=(1-(h+y))*M,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function eY(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,c=n*o,u=i*o,d=i*a,h=r*o,f=r*a,g=r*l,y=s*o,x=s*a,p=s*l;return t[0]=1-d-g,t[1]=u+p,t[2]=h-x,t[3]=0,t[4]=u-p,t[5]=1-c-g,t[6]=f+y,t[7]=0,t[8]=h+x,t[9]=f-y,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function tY(t,e,n,i,r){let s=1/Math.tan(e/2),o=1/(i-r);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*o,t[15]=0,t}function nY(t,e,n,i,r,s,o){let a=1/(e-n),l=1/(i-r),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(r+i)*l,t[14]=(o+s)*c,t[15]=1,t}function iY(t,e,n,i){let r=e[0],s=e[1],o=e[2],a=i[0],l=i[1],c=i[2],u=r-n[0],d=s-n[1],h=o-n[2],f=u*u+d*d+h*h;f===0?h=1:(f=1/Math.sqrt(f),u*=f,d*=f,h*=f);let g=l*h-c*d,y=c*u-a*h,x=a*d-l*u;return f=g*g+y*y+x*x,f===0&&(c?a+=1e-6:l?c+=1e-6:l+=1e-6,g=l*h-c*d,y=c*u-a*h,x=a*d-l*u,f=g*g+y*y+x*x),f=1/Math.sqrt(f),g*=f,y*=f,x*=f,t[0]=g,t[1]=y,t[2]=x,t[3]=0,t[4]=d*x-h*y,t[5]=h*g-u*x,t[6]=u*y-d*g,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=r,t[13]=s,t[14]=o,t[15]=1,t}function cE(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function uE(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function rY(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class Fs extends Array{constructor(e=1,n=0,i=0,r=0,s=0,o=1,a=0,l=0,c=0,u=0,d=1,h=0,f=0,g=0,y=0,x=1){return super(e,n,i,r,s,o,a,l,c,u,d,h,f,g,y,x),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,i,r,s,o,a,l,c,u,d,h,f,g,y,x){return e.length?this.copy(e):(GX(this,e,n,i,r,s,o,a,l,c,u,d,h,f,g,y,x),this)}translate(e,n=this){return qX(this,n,e),this}rotate(e,n,i=this){return YX(this,i,e,n),this}scale(e,n=this){return XX(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?cE(this,e,n):cE(this,this,e),this}sub(e,n){return n?uE(this,e,n):uE(this,this,e),this}multiply(e,n){return e.length?n?lE(this,e,n):lE(this,this,e):rY(this,this,e),this}identity(){return WX(this),this}copy(e){return jX(this,e),this}fromPerspective({fov:e,aspect:n,near:i,far:r}={}){return tY(this,e,n,i,r),this}fromOrthogonal({left:e,right:n,bottom:i,top:r,near:s,far:o}){return nY(this,e,n,i,r,s,o),this}fromQuaternion(e){return eY(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return $X(this,e),this}compose(e,n,i){return QX(this,e,n,i),this}decompose(e,n,i){return KX(this,e,n,i),this}getRotation(e){return rN(e,this),this}getTranslation(e){return ZX(e,this),this}getScaling(e){return iN(e,this),this}getMaxScaleOnAxis(){return JX(this)}lookAt(e,n,i){return iY(this,e,n,i),this}determinant(){return nN(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function sY(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const dE=new Fs;class oY extends Array{constructor(e=0,n=e,i=e,r="YXZ"){super(e,n,i),this.order=r,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&s.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return sY(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,i){return dE.fromQuaternion(e),this._target.fromRotationMatrix(dE,n),i||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class sN{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Fs,this.worldMatrix=new Fs,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Ot,this.quaternion=new VX,this.scale=new Ot(1),this.rotation=new oY,this.up=new Ot(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,i=this.children.length;n<i;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,i=this.children.length;n<i;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const aY=new Fs,lY=new Ot,cY=new Ot;class uY extends sN{constructor(e,{near:n=.1,far:i=100,fov:r=45,aspect:s=1,left:o,right:a,bottom:l,top:c,zoom:u=1}={}){super(),Object.assign(this,{near:n,far:i,fov:r,aspect:s,left:o,right:a,bottom:l,top:c,zoom:u}),this.projectionMatrix=new Fs,this.viewMatrix=new Fs,this.projectionViewMatrix=new Fs,this.worldPosition=new Ot,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:n=this.far,fov:i=this.fov,aspect:r=this.aspect}={}){return Object.assign(this,{near:e,far:n,fov:i,aspect:r}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:r,near:e,far:n}),this.type="perspective",this}orthographic({near:e=this.near,far:n=this.far,left:i=this.left||-1,right:r=this.right||1,bottom:s=this.bottom||-1,top:o=this.top||1,zoom:a=this.zoom}={}){return Object.assign(this,{near:e,far:n,left:i,right:r,bottom:s,top:o,zoom:a}),i/=a,r/=a,s/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:i,right:r,bottom:s,top:o,near:e,far:n}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4(aY.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let n=0;n<6;n++){const i=1/this.frustum[n].distance();this.frustum[n].multiply(i),this.frustum[n].constant*=i}}frustumIntersectsMesh(e,n=e.worldMatrix){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const i=lY;i.copy(e.geometry.bounds.center),i.applyMatrix4(n);const r=e.geometry.bounds.radius*n.getMaxScaleOnAxis();return this.frustumIntersectsSphere(i,r)}frustumIntersectsSphere(e,n){const i=cY;for(let r=0;r<6;r++){const s=this.frustum[r];if(i.copy(s).dot(e)+s.constant<-n)return!1}return!0}}function dY(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function hY(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,c=n*o,u=i*o,d=i*a,h=r*o,f=r*a,g=r*l,y=s*o,x=s*a,p=s*l;return t[0]=1-d-g,t[3]=u-p,t[6]=h+x,t[1]=u+p,t[4]=1-c-g,t[7]=f-y,t[2]=h-x,t[5]=f+y,t[8]=1-c-d,t}function fY(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function pY(t,e,n,i,r,s,o,a,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t}function mY(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function gY(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=-u*s+a*l,f=c*s-o*l,g=n*d+i*h+r*f;return g?(g=1/g,t[0]=d*g,t[1]=(-u*i+r*c)*g,t[2]=(a*i-r*o)*g,t[3]=h*g,t[4]=(u*n-r*l)*g,t[5]=(-a*n+r*s)*g,t[6]=f*g,t[7]=(-c*n+i*l)*g,t[8]=(o*n-i*s)*g,t):null}function hE(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],f=n[1],g=n[2],y=n[3],x=n[4],p=n[5],m=n[6],v=n[7],w=n[8];return t[0]=h*i+f*o+g*c,t[1]=h*r+f*a+g*u,t[2]=h*s+f*l+g*d,t[3]=y*i+x*o+p*c,t[4]=y*r+x*a+p*u,t[5]=y*s+x*l+p*d,t[6]=m*i+v*o+w*c,t[7]=m*r+v*a+w*u,t[8]=m*s+v*l+w*d,t}function yY(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=h*i+f*o+c,t[7]=h*r+f*a+u,t[8]=h*s+f*l+d,t}function xY(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*i+h*o,t[1]=f*r+h*a,t[2]=f*s+h*l,t[3]=f*o-h*i,t[4]=f*a-h*r,t[5]=f*l-h*s,t[6]=c,t[7]=u,t[8]=d,t}function vY(t,e,n){let i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wY(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],g=e[12],y=e[13],x=e[14],p=e[15],m=n*a-i*o,v=n*l-r*o,w=n*c-s*o,_=i*l-r*a,S=i*c-s*a,M=r*c-s*l,T=u*y-d*g,P=u*x-h*g,C=u*p-f*g,A=d*x-h*y,O=d*p-f*y,F=h*p-f*x,N=m*F-v*O+w*A+_*C-S*P+M*T;return N?(N=1/N,t[0]=(a*F-l*O+c*A)*N,t[1]=(l*C-o*F-c*P)*N,t[2]=(o*O-a*C+c*T)*N,t[3]=(r*O-i*F-s*A)*N,t[4]=(n*F-r*C+s*P)*N,t[5]=(i*C-n*O-s*T)*N,t[6]=(y*M-x*S+p*_)*N,t[7]=(x*w-g*M-p*v)*N,t[8]=(g*S-y*w+p*m)*N,t):null}class bY extends Array{constructor(e=1,n=0,i=0,r=0,s=1,o=0,a=0,l=0,c=1){return super(e,n,i,r,s,o,a,l,c),this}set(e,n,i,r,s,o,a,l,c){return e.length?this.copy(e):(pY(this,e,n,i,r,s,o,a,l,c),this)}translate(e,n=this){return yY(this,n,e),this}rotate(e,n=this){return xY(this,n,e),this}scale(e,n=this){return vY(this,n,e),this}multiply(e,n){return n?hE(this,e,n):hE(this,this,e),this}identity(){return mY(this),this}copy(e){return fY(this,e),this}fromMatrix4(e){return dY(this,e),this}fromQuaternion(e){return hY(this,e),this}fromBasis(e,n,i){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],i[0],i[1],i[2]),this}inverse(e=this){return gY(this,e),this}getNormalMatrix(e){return wY(this,e),this}}let _Y=0;class MY extends sN{constructor(e,{geometry:n,program:i,mode:r=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=_Y++,this.geometry=n,this.program=i,this.mode=r,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new Fs,this.normalMatrix=new bY,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const SY=["#ffffff","#ffffff","#ffffff"],EY=t=>{t=t.replace(/^#/,""),t.length===3&&(t=t.split("").map(s=>s+s).join(""));const e=parseInt(t,16),n=(e>>16&255)/255,i=(e>>8&255)/255,r=(e&255)/255;return[n,i,r]},TY=`
  attribute vec3 position;
  attribute vec4 random;
  attribute vec3 color;
  
  uniform mat4 modelMatrix;
  uniform mat4 viewMatrix;
  uniform mat4 projectionMatrix;
  uniform float uTime;
  uniform float uSpread;
  uniform float uBaseSize;
  uniform float uSizeRandomness;
  
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vRandom = random;
    vColor = color;
    
    vec3 pos = position * uSpread;
    pos.z *= 10.0;
    
    vec4 mPos = modelMatrix * vec4(pos, 1.0);
    float t = uTime;
    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);
    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);
    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);
    
    vec4 mvPos = viewMatrix * mPos;

    if (uSizeRandomness == 0.0) {
      gl_PointSize = uBaseSize;
    } else {
      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);
    }
    
    gl_Position = projectionMatrix * mvPos;
    gl_Position = projectionMatrix * mvPos;
  }
`,CY=`
  precision highp float;
  
  uniform float uTime;
  uniform float uAlphaParticles;
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vec2 uv = gl_PointCoord.xy;
    float d = length(uv - vec2(0.5));
    
    if(uAlphaParticles < 0.5) {
      if(d > 0.5) {
        discard;
      }
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);
    } else {
      float circle = smoothstep(0.5, 0.4, d) * 0.8;
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);
    }
  }
`,AY=({particleCount:t=200,particleSpread:e=10,speed:n=.1,particleColors:i,moveParticlesOnHover:r=!1,particleHoverFactor:s=1,alphaParticles:o=!1,particleBaseSize:a=100,sizeRandomness:l=1,cameraDistance:c=20,disableRotation:u=!1,pixelRatio:d=1,className:h})=>{const f=E.useRef(null),g=E.useRef({x:0,y:0});return E.useEffect(()=>{const y=f.current;if(!y)return;const x=new _X({dpr:d,depth:!1,alpha:!0}),p=x.gl;y.appendChild(p.canvas),p.clearColor(0,0,0,0);const m=new uY(p,{fov:15});m.position.set(0,0,c);const v=()=>{const z=y.clientWidth,k=y.clientHeight;x.setSize(z,k),m.perspective({aspect:p.canvas.width/p.canvas.height})};window.addEventListener("resize",v,!1),v();const w=z=>{const k=y.getBoundingClientRect(),U=(z.clientX-k.left)/k.width*2-1,$=-((z.clientY-k.top)/k.height*2-1);g.current={x:U,y:$}};r&&y.addEventListener("mousemove",w);const _=t,S=new Float32Array(_*3),M=new Float32Array(_*4),T=new Float32Array(_*3),P=i&&i.length>0?i:SY;for(let z=0;z<_;z++){let k,U,$,ee;do k=Math.random()*2-1,U=Math.random()*2-1,$=Math.random()*2-1,ee=k*k+U*U+$*$;while(ee>1||ee===0);const re=Math.cbrt(Math.random());S.set([k*re,U*re,$*re],z*3),M.set([Math.random(),Math.random(),Math.random(),Math.random()],z*4);const q=EY(P[Math.floor(Math.random()*P.length)]);T.set(q,z*3)}const C=new mX(p,{position:{size:3,data:S},random:{size:4,data:M},color:{size:3,data:T}}),A=new yX(p,{vertex:TY,fragment:CY,uniforms:{uTime:{value:0},uSpread:{value:e},uBaseSize:{value:a*d},uSizeRandomness:{value:l},uAlphaParticles:{value:o?1:0}},transparent:!0,depthTest:!1}),O=new MY(p,{mode:p.POINTS,geometry:C,program:A});let F,N=performance.now(),H=0;const B=z=>{F=requestAnimationFrame(B);const k=z-N;N=z,H+=k*n,A.uniforms.uTime.value=H*.001,r?(O.position.x=-g.current.x*s,O.position.y=-g.current.y*s):(O.position.x=0,O.position.y=0),u||(O.rotation.x=Math.sin(H*2e-4)*.1,O.rotation.y=Math.cos(H*5e-4)*.15,O.rotation.z+=.01*n),x.render({scene:O,camera:m})};return F=requestAnimationFrame(B),()=>{window.removeEventListener("resize",v),r&&y.removeEventListener("mousemove",w),cancelAnimationFrame(F),y.contains(p.canvas)&&y.removeChild(p.canvas)}},[t,e,n,r,s,o,a,l,c,u,d]),b.jsx("div",{ref:f,className:`relative w-full h-full ${h}`})},hr=()=>b.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:b.jsx(AY,{particleColors:["#ffffff"],particleCount:200,particleSpread:20,speed:.05,particleBaseSize:100,alphaParticles:!1,disableRotation:!1})}),PY=()=>b.jsxs("div",{className:"bg-background text-foreground overflow-x-hidden",children:[b.jsx(hr,{}),b.jsx(tj,{}),b.jsx("section",{id:"hero",children:b.jsx(Pq,{})}),b.jsx("section",{id:"verticals",children:b.jsx(Rq,{})}),b.jsx("section",{id:"tools",children:b.jsx(Xq,{})}),b.jsx("section",{id:"mentor-contact",children:b.jsx(Zq,{})}),b.jsx(Jq,{})]}),RY=()=>{const t=nc();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),b.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),b.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),b.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},LY=[{id:"site-1",url:"https://jeton.com",enabled:!0},{id:"site-2",url:"https://vitejs.dev",enabled:!0},{id:"site-3",url:"https://react.dev",enabled:!0}];async function NY(t){var i,r;const n=await(await fetch(`https://api.microlink.io/?url=${encodeURIComponent(t)}`)).json();if(!(n!=null&&n.data))throw new Error("Preview fetch failed");return{title:n.data.title,description:n.data.description,image:(i=n.data.image)==null?void 0:i.url,favicon:(r=n.data.logo)==null?void 0:r.url,url:n.data.url}}function IY({url:t}){const[e,n]=E.useState(null);return $i(),E.useEffect(()=>{NY(t).then(n).catch(()=>null)},[t]),e?b.jsxs("div",{className:"rounded-xl overflow-hidden bg-black/50 border border-white/20",children:[e.image&&b.jsx("img",{src:e.image,className:"h-40 w-full object-cover"}),b.jsxs("div",{className:"p-4 text-white",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-70",children:[e.favicon&&b.jsx("img",{src:e.favicon,className:"h-4 w-4"}),e.url]}),b.jsx("h3",{className:"mt-2 font-bold",children:e.title}),b.jsx("p",{className:"text-sm opacity-80 line-clamp-2",children:e.description}),b.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block px-3 py-2 bg-white text-black rounded-lg text-sm font-medium",children:"Open Website"})]})]}):b.jsx("div",{className:"h-64 rounded-xl bg-black/30 border border-white/10 animate-pulse"})}function DY(){return b.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:LY.filter(t=>t.enabled).map(t=>b.jsx(IY,{url:t.url},t.id))})}function kY(){return b.jsx(fm,{children:b.jsxs("div",{className:"min-h-screen px-6 py-24",children:[b.jsx("h1",{className:"text-white text-3xl font-bold mb-8",children:"Website Previews"}),b.jsx(DY,{})]})})}const oN=({children:t,className:e,headingLevel:n="h2",delay:i=0})=>{const r=n;return b.jsx($e.div,{initial:{opacity:0,y:50,scale:.8},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{type:"spring",stiffness:200,damping:20,delay:i},className:Js("relative",e),children:b.jsx(r,{className:"font-black tracking-tighter text-white transform hover:skew-x-1 transition-transform duration-300 uppercase",style:{lineHeight:1.1,WebkitTextStroke:"1px rgba(255,255,255,0.1)"},children:t})})},yt="/api",FY=()=>localStorage.getItem("token"),gn=()=>{const t=FY();return t?{Authorization:`Bearer ${t}`}:{}},tt={login:async(t,e)=>(await fetch(`${yt}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})})).json(),signup:async(t,e,n)=>(await fetch(`${yt}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:n})})).json(),listCourses:async()=>(await fetch(`${yt}/courses`)).json(),getCourseContent:async t=>(await fetch(`${yt}/courses/${t}`)).json(),createCourse:async t=>(await fetch(`${yt}/courses/admin`,{method:"POST",headers:{"Content-Type":"application/json",...gn()},body:JSON.stringify(t)})).json(),updateCourse:async(t,e)=>(await fetch(`${yt}/courses/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...gn()},body:JSON.stringify(e)})).json(),deleteCourse:async t=>(await fetch(`${yt}/courses/${t}`,{method:"DELETE",headers:gn()})).json(),listCategories:async()=>(await fetch(`${yt}/categories`)).json(),createCategory:async t=>(await fetch(`${yt}/categories/admin`,{method:"POST",headers:{"Content-Type":"application/json",...gn()},body:JSON.stringify({name:t})})).json(),deleteCategory:async t=>(await fetch(`${yt}/categories/${t}`,{method:"DELETE",headers:gn()})).json(),listAdmins:async()=>(await fetch(`${yt}/admin/users`,{headers:gn()})).json(),createAdmin:async t=>(await fetch(`${yt}/admin/create-admin`,{method:"POST",headers:{...gn()},body:t})).json(),deleteAdmin:async t=>(await fetch(`${yt}/admin/users/${t}`,{method:"DELETE",headers:gn()})).json(),checkEnrollment:async(t,e)=>(await fetch(`${yt}/enrollments/check/${t}?email=${e}`)).json(),initiateEnrollment:async t=>(await fetch(`${yt}/enrollments/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),createModule:async t=>(await fetch(`${yt}/modules/admin`,{method:"POST",headers:{"Content-Type":"application/json",...gn()},body:JSON.stringify(t)})).json(),deleteModule:async t=>(await fetch(`${yt}/modules/${t}`,{method:"DELETE",headers:gn()})).json(),createPdfLesson:async t=>{const e=new FormData;return e.append("title",t.title),e.append("type","PDF"),e.append("moduleId",t.moduleId),t.duration&&e.append("duration",t.duration),e.append("file",t.file),(await fetch(`${yt}/lessons/admin`,{method:"POST",headers:gn(),body:e})).json()},deleteLesson:async t=>(await fetch(`${yt}/lessons/${t}`,{method:"DELETE",headers:gn()})).json(),getMyProfile:async()=>(await fetch(`${yt}/users/me`,{headers:gn()})).json(),updateMyProfile:async t=>(await fetch(`${yt}/users/me`,{method:"PUT",headers:gn(),body:t})).json(),listAllEnrollments:async()=>(await fetch(`${yt}/admin/enrollments`,{headers:gn()})).json(),deleteEnrollment:async t=>(await fetch(`${yt}/enrollments/${t}`,{method:"DELETE",headers:gn()})).json()},OY=()=>{const t=$i(),[e,n]=E.useState(""),[i,r]=E.useState(""),[s,o]=E.useState(!1),[a,l]=E.useState(""),c=async u=>{u.preventDefault(),l(""),o(!0);try{const d=await tt.login(e,i);if(!d.token)throw new Error(d.message||"Login failed");localStorage.setItem("token",d.token),localStorage.setItem("role",d.user.role),d.user.role==="ADMIN"||d.user.role==="SUPER_ADMIN"?t("/admin"):t("/")}catch(d){l(d.message||"Server error")}finally{o(!1)}};return b.jsx(fm,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:b.jsxs("div",{className:"w-full max-w-md bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:[b.jsx(oN,{headingLevel:"h1",className:"text-3xl text-center mb-2",children:"Login"}),b.jsx("p",{className:"text-center text-white/60 text-sm mb-8 italic tracking-wide",children:"Welcome back"}),a&&b.jsx("div",{className:"mb-4 text-sm text-red-400 text-center",children:a}),b.jsxs("form",{className:"space-y-5",onSubmit:c,children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Email"}),b.jsx("input",{type:"email",placeholder:"user@gmail.com",value:e,onChange:u=>n(u.target.value),required:!0,className:"w-full rounded-lg bg-black/30 border border-white/20 px-4 py-2 text-white outline-none focus:border-cyan-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Password"}),b.jsx("input",{type:"password",placeholder:"",value:i,onChange:u=>r(u.target.value),required:!0,className:"w-full rounded-lg bg-black/30 border border-white/20 px-4 py-2 text-white outline-none focus:border-cyan-400"})]}),b.jsx("button",{type:"submit",disabled:s,className:"w-full mt-4 py-2 rounded-lg bg-cyan-400 text-black font-semibold hover:bg-cyan-300 transition disabled:opacity-50",children:s?"Logging in...":"Login"})]}),b.jsxs("div",{className:"mt-6 text-center text-xs text-white/50",children:["Dont have an account?"," ",b.jsx(Tv,{to:"/signup",className:"text-cyan-400 hover:underline",children:"Sign Up"})]})]})})})},zY=()=>{const t=$i(),[e,n]=E.useState(""),[i,r]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(""),[c,u]=E.useState(!1),d=async h=>{h.preventDefault(),l(""),u(!0);try{const f=await tt.signup(e,i,s);if(!f.token){l(f.message||"Signup failed");return}localStorage.setItem("token",f.token),localStorage.setItem("role",f.user.role),t("/industry-hub"),window.location.reload()}catch{l("Server error")}finally{u(!1)}};return b.jsx(fm,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:b.jsxs("div",{className:"w-full max-w-md bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:[b.jsx(oN,{headingLevel:"h1",className:"text-3xl text-center mb-2",children:"Sign Up"}),b.jsx("p",{className:"text-center text-white/60 text-sm mb-8 italic tracking-wide",children:"Create your account"}),a&&b.jsx("div",{className:"mb-4 text-sm text-red-400 text-center",children:a}),b.jsxs("form",{className:"space-y-5",onSubmit:d,children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Full Name"}),b.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),placeholder:"Your Name",required:!0,className:"w-full rounded-lg bg-black/30 border border-white/20 px-4 py-2 text-white outline-none focus:border-cyan-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:i,onChange:h=>r(h.target.value),placeholder:"you@vedinc.in",required:!0,className:"w-full rounded-lg bg-black/30 border border-white/20 px-4 py-2 text-white outline-none focus:border-cyan-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-white/60 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:s,onChange:h=>o(h.target.value),placeholder:"",required:!0,className:"w-full rounded-lg bg-black/30 border border-white/20 px-4 py-2 text-white outline-none focus:border-cyan-400"})]}),b.jsx("button",{type:"submit",disabled:c,className:"w-full mt-4 py-2 rounded-lg bg-cyan-400 text-black font-semibold hover:bg-cyan-300 transition disabled:opacity-50",children:c?"Creating account...":"Sign Up"})]}),b.jsxs("div",{className:"mt-6 text-center text-xs text-white/50",children:["Already have an account?"," ",b.jsx(Tv,{to:"/login",className:"text-cyan-400 hover:underline",children:"Login"})]})]})})})};function BY(){const t=$i(),[e,n]=E.useState([]),[i,r]=E.useState(""),[s,o]=E.useState("All"),[a,l]=E.useState(0);E.useEffect(()=>(c(),window.addEventListener("scroll",()=>l(window.scrollY)),()=>window.removeEventListener("scroll",()=>l(window.scrollY))),[]);const c=async()=>{const h=await tt.listCourses();n(h)},u=["All",...Array.from(new Set(e.map(h=>{var f;return(f=h.category)==null?void 0:f.name}).filter(Boolean)))],d=e.filter(h=>{var y;const f=h.title.toLowerCase().includes(i.toLowerCase()),g=s==="All"||((y=h.category)==null?void 0:y.name)===s;return f&&g});return b.jsxs("div",{className:"relative min-h-screen text-slate-200 overflow-hidden bg-black",children:[b.jsx(hr,{}),b.jsxs("div",{className:"relative z-20",children:[b.jsx("div",{className:`border-b border-white/5 transition-all duration-500 ${a>100?"backdrop-blur-xl bg-black/20":""}`,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-24 relative",children:[b.jsx("div",{className:"absolute inset-0 flex justify-center",children:b.jsx("div",{className:"w-[500px] h-[300px] bg-cyan-500/10 blur-[150px] rounded-full"})}),b.jsx("h1",{className:"relative text-5xl font-extrabold text-white tracking-tight",children:"Industry Learning Modules"}),b.jsx("p",{className:"text-slate-400 mt-4 max-w-2xl text-lg",children:"Production-grade learning experiences crafted for real-world engineering standards."}),b.jsxs("div",{className:"mt-10 relative max-w-xl group",children:[b.jsx(tF,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"}),b.jsx("input",{placeholder:"Search courses...",value:i,onChange:h=>r(h.target.value),className:`w-full bg-[#111827]/70 border border-white/10 rounded-xl px-12 py-4\r
                focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400/40 outline-none\r
                transition backdrop-blur-md`})]}),b.jsx("div",{className:"flex gap-3 mt-6 flex-wrap",children:u.map(h=>b.jsx("button",{onClick:()=>o(h),className:`px-4 py-2 text-sm rounded-full transition ${s===h?"bg-cyan-500 text-black font-semibold shadow-lg shadow-cyan-500/20":"bg-[#111827]/60 backdrop-blur-md border border-white/10 hover:border-cyan-400/40"}`,children:h},h))})]})}),b.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-24",children:[b.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10",children:d.map((h,f)=>{var g;return b.jsxs("div",{style:{animationDelay:`${f*80}ms`},className:`group relative bg-[#0f172a]/70 backdrop-blur-xl\r
                border border-white/5 rounded-2xl overflow-hidden\r
                transition duration-500 ease-out\r
                hover:-translate-y-3 hover:border-cyan-400/40\r
                hover:shadow-2xl hover:shadow-cyan-500/10\r
                animate-fadeInUp`,children:[b.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition duration-500 pointer-events-none",children:b.jsx("div",{className:"absolute w-60 h-60 bg-cyan-400/10 blur-3xl rounded-full top-1/3 left-1/3"})}),b.jsxs("div",{className:"p-6",children:[((g=h.category)==null?void 0:g.name)&&b.jsx("span",{className:"text-xs uppercase tracking-wider text-cyan-400",children:h.category.name}),b.jsx("h2",{className:"text-xl font-semibold text-white mt-2",children:h.title}),b.jsx("p",{className:"text-slate-400 text-sm mt-3 line-clamp-3",children:h.description}),b.jsxs("div",{className:"flex justify-between items-center mt-6",children:[b.jsx("span",{className:"text-lg font-semibold text-cyan-400",children:h.price===0?"Free":`${h.price}`}),b.jsx("button",{onClick:()=>t(`/course/${h.id}`),className:"bg-cyan-500 hover:bg-cyan-400 text-black px-5 py-2 rounded-lg font-medium transition shadow-md shadow-cyan-500/20",children:"Explore"})]})]})]},h.id)})}),d.length===0&&b.jsx("div",{className:"text-center text-slate-500 mt-20",children:"No courses found."})]})]})]})}function UY(){const{id:t}=Ev(),[e,n]=E.useState(null),[i,r]=E.useState(!0),[s,o]=E.useState([]),[a,l]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(!1),[f,g]=E.useState({fullName:"",email:"",phone:""});E.useEffect(()=>{if(!t)return;(async()=>{try{const m=await tt.getCourseContent(t);n(m);const v=localStorage.getItem(`course_email_${t}`);if(v){const w=await tt.checkEnrollment(t,v);l(w.enrolled)}}catch(m){console.error(m)}finally{r(!1)}})()},[t]);const y=async()=>{if(t){if(!f.fullName||!f.email||!f.phone){alert("All fields required");return}try{h(!0),(await tt.initiateEnrollment({courseId:t,...f})).message?(localStorage.setItem(`course_email_${t}`,f.email),l(!0),u(!1),alert("Enrollment successful ")):alert("Enrollment failed")}catch(p){alert((p==null?void 0:p.message)||"Enrollment failed")}finally{h(!1)}}},x=p=>{o(m=>m.includes(p)?m.filter(v=>v!==p):[...m,p])};return i?b.jsxs("div",{className:"relative min-h-screen bg-black text-white flex items-center justify-center",children:[b.jsx(hr,{}),b.jsx("div",{className:"relative z-10",children:"Loading..."})]}):e?b.jsxs("div",{className:"relative min-h-screen bg-black text-gray-300 overflow-hidden",children:[b.jsx(hr,{}),b.jsx("div",{className:"relative z-10 px-6 py-20",children:b.jsxs("div",{className:"max-w-[1280px] mx-auto grid lg:grid-cols-[1fr_380px] gap-16",children:[b.jsxs("div",{className:"space-y-16",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("h1",{className:"text-5xl font-extrabold text-white",children:e.title}),b.jsx("p",{className:"text-lg text-gray-400 max-w-3xl",children:e.description})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Course Curriculum"}),b.jsx("div",{className:"space-y-4",children:e.modules.map((p,m)=>{const v=s.includes(p.id);return b.jsxs("div",{className:"bg-[#151e2b] border border-white/10 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between items-center p-5 cursor-pointer hover:bg-white/5",onClick:()=>x(p.id),children:[b.jsxs("div",{className:"flex items-center gap-3 text-white font-semibold",children:[v?b.jsx(dC,{size:18}):b.jsx(hC,{size:18}),"Module ",m+1,":"," ",p.title]}),b.jsxs("span",{className:"text-xs text-gray-500",children:[p.lessons.length," Lessons"]})]}),v&&b.jsx("div",{className:"border-t border-white/10",children:p.lessons.map(w=>b.jsxs("div",{onClick:()=>{a&&w.type==="PDF"&&w.contentUrl&&window.open(w.contentUrl,"_blank")},className:`flex justify-between items-center p-4 border-b border-white/5 ${a?"cursor-pointer hover:bg-white/5":"opacity-60 cursor-not-allowed"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[w.type==="VIDEO"?b.jsx(Hk,{size:16,className:"text-cyan-400"}):b.jsx(fC,{size:16,className:"text-purple-400"}),w.title]}),b.jsx("span",{className:"text-xs text-gray-400",children:a?w.duration||"Available":"Locked"})]},w.id))})]},p.id)})})]})]}),b.jsx("div",{className:"self-start sticky top-32",children:b.jsxs("div",{className:"bg-[#1a2433] border border-white/10 rounded-2xl p-8 space-y-5",children:[b.jsxs("span",{className:"text-4xl font-extrabold text-white",children:["",e.price.toLocaleString()]}),b.jsx("button",{onClick:()=>u(!0),disabled:a,className:`w-full h-14 rounded-xl font-bold text-white ${a?"bg-green-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500"}`,children:a?"Enrolled ":"Enroll Now "}),e.objectives&&e.objectives.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-t border-white/10"}),b.jsxs("div",{className:"p-2 space-y-5",children:[b.jsx("h4",{className:"text-white font-semibold tracking-wide text-lg",children:"WHAT YOU'LL LEARN:"}),b.jsx("ul",{className:"space-y-3 text-gray-300 text-sm",children:e.objectives.map(p=>b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-green-400 mt-1",children:""}),b.jsx("span",{children:p.text})]},p.id))})]})]})]})})]})}),c&&b.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-[#151e2b] p-8 rounded-xl w-full max-w-lg space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Enter Your Details"}),b.jsx("input",{placeholder:"Full Name",value:f.fullName,onChange:p=>g({...f,fullName:p.target.value}),className:"w-full h-10 px-3 bg-black border border-white/10 text-white"}),b.jsx("input",{placeholder:"Email",value:f.email,onChange:p=>g({...f,email:p.target.value}),className:"w-full h-10 px-3 bg-black border border-white/10 text-white"}),b.jsx("input",{placeholder:"Phone",value:f.phone,onChange:p=>g({...f,phone:p.target.value}),className:"w-full h-10 px-3 bg-black border border-white/10 text-white"}),b.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[b.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-600",children:"Cancel"}),b.jsx("button",{onClick:y,disabled:d,className:"px-4 py-2 bg-blue-600",children:d?"Processing...":"Confirm"})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen bg-black text-white flex items-center justify-center",children:[b.jsx(hr,{}),b.jsx("div",{className:"relative z-10",children:"Course not found."})]})}function VY(){const{courseId:t}=Ev(),e=$i(),[n,i]=E.useState(null),[r,s]=E.useState(!0),[o,a]=E.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",country:""}),[l,c]=E.useState(!1);E.useEffect(()=>{if(!t)return;(async()=>{const h=await tt.getCourseContent(t);i(h),s(!1)})()},[t]);const u=async()=>{if(t){c(!0);try{await tt.initiateEnrollment({courseId:t,...o}),alert("Enrollment successful!"),e("/industry-hub")}catch{alert("Enrollment failed")}c(!1)}};return r||!n?b.jsx("div",{className:"min-h-screen bg-[#0f172a] text-white p-10",children:"Loading..."}):b.jsx("div",{className:"min-h-screen bg-[#0b1220] text-white px-6 py-16",children:b.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Complete Your Enrollment"}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 mt-6",children:[b.jsx("h2",{className:"text-2xl font-semibold",children:n.title}),b.jsx("p",{className:"text-slate-400 mt-3",children:n.description}),b.jsxs("div",{className:"mt-6 text-3xl font-bold text-cyan-400",children:["",n.price]})]})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-lg",children:[b.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Billing Information"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{placeholder:"Full Name",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,fullName:d.target.value})}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("input",{placeholder:"Email",className:"bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,email:d.target.value})}),b.jsx("input",{placeholder:"Phone",className:"bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,phone:d.target.value})})]}),b.jsx("input",{placeholder:"Address",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,address:d.target.value})}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsx("input",{placeholder:"City",className:"bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,city:d.target.value})}),b.jsx("input",{placeholder:"State",className:"bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,state:d.target.value})}),b.jsx("input",{placeholder:"Country",className:"bg-black/30 border border-white/10 rounded-xl p-3",onChange:d=>a({...o,country:d.target.value})})]}),b.jsx("button",{onClick:u,disabled:l,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-semibold py-4 rounded-xl mt-4 transition-all",children:l?"Processing...":"Confirm & Enroll"}),b.jsx("p",{className:"text-xs text-slate-500 text-center mt-3",children:"Secure transaction  Receipt will be emailed"})]})]})]})})}function HY(){var d;const[t,e]=E.useState({name:"",title:"",bio:"",avatar:""}),[n,i]=E.useState(null),[r,s]=E.useState(null),[o,a]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const f=await tt.getMyProfile();e(f),s(f.avatar||null)}catch(f){console.error(f)}})()},[]);const l=h=>{e({...t,[h.target.name]:h.target.value})},c=h=>{var y;if(!((y=h.target.files)!=null&&y[0]))return;const f=h.target.files[0];i(f);const g=new FileReader;g.onloadend=()=>{s(g.result)},g.readAsDataURL(f)},u=async h=>{h.preventDefault();try{a(!0);const f=new FormData;f.append("name",t.name),t.title&&f.append("title",t.title),t.bio&&f.append("bio",t.bio),n&&f.append("avatar",n),await tt.updateMyProfile(f),alert("Profile updated successfully ")}catch{alert("Failed to update profile")}finally{a(!1)}};return b.jsx("div",{className:"min-h-screen bg-[#0B1120] flex items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"bg-[#151e2b] border border-white/10 rounded-2xl p-8 w-full max-w-xl shadow-xl",children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"My Profile"}),b.jsxs("form",{onSubmit:u,className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r?b.jsx("img",{src:r,alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border border-white/20"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-cyan-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:((d=t.name)==null?void 0:d.charAt(0))||"U"}),b.jsxs("label",{className:"cursor-pointer bg-cyan-500 hover:bg-cyan-400 text-black font-semibold px-4 py-2 rounded-lg text-sm transition",children:["Upload Avatar",b.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]}),b.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:t.name,onChange:l,required:!0,className:"w-full bg-[#0B1120] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-cyan-400"}),b.jsx("input",{type:"text",name:"title",placeholder:"Title",value:t.title,onChange:l,className:"w-full bg-[#0B1120] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-cyan-400"}),b.jsx("textarea",{name:"bio",placeholder:"Bio",value:t.bio,onChange:l,rows:4,className:"w-full bg-[#0B1120] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-cyan-400"}),b.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg transition",children:o?"Saving...":"Save Changes"})]})]})})}const jY=()=>{const t=$i(),e=localStorage.getItem("role"),n=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login")};return b.jsxs("div",{className:"relative min-h-screen text-slate-200 overflow-hidden bg-black",children:[b.jsx(hr,{}),b.jsx("div",{className:"absolute inset-0 bg-black/30 pointer-events-none"}),b.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[b.jsx("nav",{className:"sticky top-0 z-50 bg-black/40 backdrop-blur-xl border-b border-white/10 px-6 py-4",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Yk,{size:28,className:"text-cyan-400"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Panel"})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("div",{className:"hidden sm:block text-right",children:b.jsx("p",{className:"text-sm font-semibold text-white",children:e})}),b.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium text-slate-400 hover:text-cyan-400 hover:bg-white/5 transition",children:[b.jsx(Jk,{size:18}),"Logout"]})]})]})}),b.jsxs("main",{className:"flex-grow p-6 md:p-12 max-w-7xl mx-auto w-full",children:[b.jsxs("div",{className:"mb-12",children:[b.jsx("h2",{className:"text-4xl font-extrabold text-white mb-3",children:"Dashboard Overview"}),b.jsx("p",{className:"text-slate-400 text-lg",children:"Manage your platform modules from here."})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx(qh,{icon:b.jsx(qk,{size:36,className:"text-cyan-400"}),title:"Industry Learning Hub",description:"Upload and manage PDF courses.",buttonText:"Manage Courses",onClick:()=>t("/admin/courses")}),b.jsx(qh,{icon:b.jsx(gC,{size:36,className:"text-cyan-400"}),title:"My Profile",description:"View and update your profile information.",buttonText:"Edit Profile",onClick:()=>t("/profile")}),e==="SUPER_ADMIN"&&b.jsx(qh,{icon:b.jsx(xb,{size:36,className:"text-purple-400"}),title:"Admin Management",description:"Create and manage platform administrators.",buttonText:"Manage Admins",accent:"purple",onClick:()=>t("/admin/admins")}),e==="SUPER_ADMIN"&&b.jsx(qh,{icon:b.jsx(xb,{size:36,className:"text-purple-400"}),title:"Student Enrollments",description:"View student enrollment details.",buttonText:"View Enrollments",accent:"purple",onClick:()=>t("/admin/enrollments")})]})]})]})]})},qh=({icon:t,title:e,description:n,buttonText:i,onClick:r,accent:s="cyan"})=>{const o=s==="purple"?"bg-purple-600 hover:bg-purple-500 shadow-purple-500/30":"bg-cyan-500 hover:bg-cyan-400 shadow-cyan-500/30";return b.jsxs("div",{className:"bg-white/[0.04] backdrop-blur-xl border border-white/10 rounded-2xl p-8 flex flex-col justify-between hover:scale-[1.03] transition-all duration-300",children:[b.jsxs("div",{children:[b.jsx("div",{className:"mb-6",children:b.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 inline-block",children:t})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:e}),b.jsx("p",{className:"text-slate-400 mb-10",children:n})]}),b.jsxs("button",{onClick:r,className:`${o} text-slate-950 font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg flex items-center justify-center gap-2`,children:[i,b.jsx(Vk,{size:18})]})]})};function GY(){var J;const t=$i(),[e,n]=E.useState([]),[i,r]=E.useState([]),[s,o]=E.useState([]),[a,l]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,g]=E.useState(""),[y,x]=E.useState(""),[p,m]=E.useState(""),[v,w]=E.useState(""),[_,S]=E.useState(""),[M,T]=E.useState(!1),[P,C]=E.useState(null),[A,O]=E.useState(!1),[F,N]=E.useState(!1);E.useEffect(()=>{H(),B(),z()},[]);const H=async()=>{const j=await tt.listCategories();n(j),j.length>0&&x(j[0].id)},B=async()=>{const j=await tt.listCourses();r(j)},z=async()=>{const W=(await tt.listAdmins()).filter(le=>le.role==="ADMIN"||le.role==="SUPER_ADMIN");o(W)},k=async()=>{a&&(await tt.createCategory(a),l(""),H())},U=async j=>{confirm("Delete this category?")&&(await tt.deleteCategory(j),H())},$=async()=>{if(!c||!f||!y)return;const j=await tt.createCourse({title:c,description:d,price:Number(f),categoryId:y,instructorId:p||void 0,level:v,duration:_});u(""),h(""),g(""),w(""),S(""),m(""),t(`/admin/courses/${j.id}/curriculum`)},ee=async j=>{confirm("Delete this course?")&&(await tt.deleteCourse(j),B())},re=j=>{var W,le;C({...j,category:{id:(W=j.category)==null?void 0:W.id,name:(le=j.category)==null?void 0:le.name},instructor:j.instructor?{id:j.instructor.id,name:j.instructor.name}:void 0}),T(!0)},q=async()=>{var j,W;P&&(await tt.updateCourse(P.id,{title:P.title,description:P.description,price:Number(P.price),level:P.level,duration:P.duration,categoryId:(j=P.category)==null?void 0:j.id,instructorId:(W=P.instructor)==null?void 0:W.id}),T(!1),B())};return b.jsxs("div",{className:"bg-black min-h-screen text-slate-200 p-10",children:[b.jsx(hr,{}),b.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Course Management"}),b.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-2xl p-6 mb-10",children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[b.jsx($k,{size:18,className:"text-cyan-400"}),"Manage Categories"]}),b.jsxs("div",{className:"flex gap-4 mb-4",children:[b.jsx("input",{placeholder:"New Category Name",value:a,onChange:j=>l(j.target.value),className:"flex-1 bg-black/30 border border-white/10 rounded-xl px-4 py-2"}),b.jsx("button",{onClick:k,className:"bg-cyan-500 hover:bg-cyan-400 text-black px-4 rounded-xl font-semibold",children:"Add"})]}),b.jsx("div",{className:"space-y-2",children:e.map(j=>b.jsxs("div",{className:"flex justify-between items-center bg-black/30 px-4 py-2 rounded-xl border border-white/5",children:[b.jsx("span",{children:j.name}),b.jsx("button",{onClick:()=>U(j.id),className:"text-red-400",children:b.jsx(cl,{size:16})})]},j.id))})]}),b.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-2xl p-6 mb-10",children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[b.jsx(J0,{size:18,className:"text-cyan-400"}),"Create Course"]}),b.jsxs("div",{className:"grid gap-4",children:[b.jsx("input",{placeholder:"Course Title",value:c,onChange:j=>u(j.target.value),className:"bg-black/30 border border-white/10 rounded-xl px-4 py-3"}),b.jsx("select",{value:y,onChange:j=>x(j.target.value),className:"bg-black/30 border border-white/10 rounded-xl px-4 py-3",children:e.map(j=>b.jsx("option",{value:j.id,children:j.name},j.id))}),b.jsxs("div",{className:"relative w-full",children:[b.jsx("button",{type:"button",onClick:()=>N(!F),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-left text-slate-200",children:((J=s.find(j=>j.id===p))==null?void 0:J.name)||"Select Instructor (Optional)"}),F&&b.jsxs("div",{className:"absolute left-0 mt-2 w-full bg-[#1e293b] border border-white/10 rounded-xl shadow-xl z-50 max-h-60 overflow-y-auto",children:[b.jsx("div",{onClick:()=>{m(""),N(!1)},className:"px-4 py-3 hover:bg-cyan-500/20 cursor-pointer text-slate-300",children:"None"}),s.map(j=>b.jsx("div",{onClick:()=>{m(j.id),N(!1)},className:"px-4 py-3 hover:bg-cyan-500/20 cursor-pointer text-slate-300",children:j.name},j.id))]})]}),b.jsxs("div",{className:"relative w-full",children:[b.jsx("button",{type:"button",onClick:()=>O(!A),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-left text-slate-200",children:v||"Select Level"}),A&&b.jsx("div",{className:"absolute left-0 mt-2 w-full bg-[#1e293b] border border-white/10 rounded-xl shadow-xl z-50",children:["Beginner","Intermediate","Advanced"].map(j=>b.jsx("div",{onClick:()=>{w(j),O(!1)},className:"px-4 py-3 hover:bg-cyan-500/20 cursor-pointer text-slate-300",children:j},j))})]}),b.jsx("input",{placeholder:"Duration",value:_,onChange:j=>S(j.target.value),className:"bg-black/30 border border-white/10 rounded-xl px-4 py-3"}),b.jsx("input",{placeholder:"Price",value:f,onChange:j=>g(j.target.value),className:"bg-black/30 border border-white/10 rounded-xl px-4 py-3"}),b.jsx("textarea",{placeholder:"Course description...",value:d,onChange:j=>h(j.target.value),className:"bg-black/30 border border-white/10 rounded-xl px-4 py-3 h-28"}),b.jsx("button",{onClick:$,className:"bg-cyan-500 hover:bg-cyan-400 text-black font-semibold py-3 rounded-xl",children:"Create Course"})]})]}),b.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-2xl",children:[b.jsx("div",{className:"p-6 border-b border-white/5",children:b.jsx("h2",{className:"text-lg font-semibold text-white",children:"Active Catalog"})}),b.jsxs("div",{className:"divide-y divide-white/5",children:[i.map(j=>{var W;return b.jsxs("div",{className:"flex justify-between items-center p-6 hover:bg-white/[0.02]",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-white",children:j.title}),b.jsxs("p",{className:"text-sm text-slate-400",children:[(W=j.category)==null?void 0:W.name,j.level&&`  ${j.level}`,j.duration&&`  ${j.duration}`,"  ",j.price,j.instructor&&b.jsxs(b.Fragment,{children:["  ",j.instructor.name]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>t(`/admin/courses/${j.id}/curriculum`),className:"p-2 rounded-lg bg-white/5 hover:bg-cyan-500/20",children:b.jsx(Gk,{size:18})}),b.jsx("button",{onClick:()=>re(j),className:"p-2 rounded-lg bg-white/5 hover:bg-yellow-500/20",children:b.jsx(eF,{size:18})}),b.jsx("button",{onClick:()=>ee(j.id),className:"p-2 rounded-lg bg-white/5 hover:bg-red-500/20",children:b.jsx(cl,{size:18})})]})]},j.id)}),i.length===0&&b.jsx("div",{className:"p-6 text-slate-400",children:"No courses available."})]})]}),M&&P&&b.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-[#1e293b] w-full max-w-4xl max-h-[90vh] overflow-y-auto p-10 rounded-2xl space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Course"}),b.jsx("button",{onClick:()=>T(!1),children:b.jsx(lv,{size:22})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("label",{className:"text-sm text-slate-400",children:"Title"}),b.jsx("input",{value:P.title,onChange:j=>C({...P,title:j.target.value}),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("label",{className:"text-sm text-slate-400",children:"Price"}),b.jsx("input",{type:"number",value:P.price,onChange:j=>C({...P,price:Number(j.target.value)}),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3"})]}),b.jsxs("div",{className:"relative w-full space-y-4",children:[b.jsx("label",{className:"text-sm text-slate-400",children:"Level"}),b.jsx("button",{type:"button",className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 text-left text-slate-200",onClick:()=>O(!A),children:P.level||"Select Level"}),A&&b.jsx("div",{className:"absolute left-0 mt-2 w-full bg-[#1e293b] border border-white/10 rounded-xl shadow-xl z-50",children:["Beginner","Intermediate","Advanced"].map(j=>b.jsx("div",{onClick:()=>{C({...P,level:j}),O(!1)},className:"px-4 py-3 hover:bg-cyan-500/20 cursor-pointer",children:j},j))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("label",{className:"text-sm text-slate-400",children:"Duration"}),b.jsx("input",{value:P.duration||"",onChange:j=>C({...P,duration:j.target.value}),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("label",{className:"text-sm text-slate-400",children:"Description"}),b.jsx("textarea",{value:P.description,onChange:j=>C({...P,description:j.target.value}),className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-4 h-40"})]}),b.jsx("div",{className:"flex justify-end pt-4",children:b.jsx("button",{onClick:q,className:"bg-cyan-500 hover:bg-cyan-400 text-black font-semibold px-8 py-3 rounded-xl",children:"Save Changes"})})]})})]})}function WY(){const[t,e]=E.useState([]),[n,i]=E.useState(""),[r,s]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(""),[u,d]=E.useState(null),[h,f]=E.useState(!1),g=async()=>{try{const p=await tt.listAdmins();e(p)}catch(p){console.error("Failed to load admins",p)}};E.useEffect(()=>{g()},[]);const y=async()=>{if(!n||!r||!o){alert("Name, Email and Password required");return}try{f(!0);const p=new FormData;p.append("name",n),p.append("email",r),p.append("password",o),p.append("bio",l),u&&p.append("avatar",u);const m=await tt.createAdmin(p);if(m.message&&m.message!=="Instructor created successfully")throw new Error(m.message);i(""),s(""),a(""),c(""),d(null),await g()}catch(p){alert(p.message||"Failed to create admin")}finally{f(!1)}},x=async p=>{if(confirm("Delete this admin?"))try{await tt.deleteAdmin(p),await g()}catch{alert("Failed to delete admin")}};return b.jsxs("div",{className:"relative min-h-screen bg-black text-white overflow-hidden",children:[b.jsx(hr,{}),b.jsx("div",{className:"relative z-10 px-8 py-16",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsx("h1",{className:"text-4xl font-bold mb-10",children:"Manage Instructors"}),b.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 p-8 rounded-2xl mb-12 shadow-xl",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Create Instructor (Admin)"}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsx("input",{placeholder:"Full Name",value:n,onChange:p=>i(p.target.value),className:"bg-black/40 border border-white/10 p-3 rounded-lg"}),b.jsx("input",{placeholder:"Email",value:r,onChange:p=>s(p.target.value),className:"bg-black/40 border border-white/10 p-3 rounded-lg"}),b.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:p=>a(p.target.value),className:"bg-black/40 border border-white/10 p-3 rounded-lg"}),b.jsx("input",{type:"file",accept:"image/*",onChange:p=>{var m;return d(((m=p.target.files)==null?void 0:m[0])||null)},className:"text-sm"}),b.jsx("textarea",{placeholder:"Instructor Bio",value:l,onChange:p=>c(p.target.value),className:"md:col-span-2 bg-black/40 border border-white/10 p-3 rounded-lg h-28"})]}),b.jsx("button",{onClick:y,disabled:h,className:"mt-6 px-6 py-3 bg-cyan-500 hover:bg-cyan-400 text-black rounded-xl font-semibold transition disabled:opacity-50",children:h?"Creating...":"Create Instructor"})]}),b.jsx("div",{className:"space-y-4",children:t.map(p=>b.jsxs("div",{className:"flex justify-between items-center backdrop-blur-lg bg-white/5 border border-white/10 p-5 rounded-xl",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[p.avatar?b.jsx("img",{src:p.avatar,className:"w-12 h-12 rounded-full object-cover"}):b.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-purple-500 flex items-center justify-center font-bold",children:p.name.charAt(0)}),b.jsxs("div",{children:[b.jsxs("p",{className:"font-semibold",children:[p.name," ",b.jsxs("span",{className:"text-xs opacity-60",children:["(",p.role,")"]})]}),b.jsx("p",{className:"text-sm opacity-60",children:p.email}),p.bio&&b.jsx("p",{className:"text-xs opacity-50 mt-1 max-w-md",children:p.bio})]})]}),p.role!=="SUPER_ADMIN"&&b.jsx("button",{onClick:()=>x(p.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]},p.id))})]})})]})}function $Y(){const{id:t}=Ev(),[e,n]=E.useState(null),[i,r]=E.useState(!0),[s,o]=E.useState([]),[a,l]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(null),[f,g]=E.useState([]),[y,x]=E.useState(""),p=async()=>{var C;if(t){try{const A=await tt.getCourseContent(t);n(A),g(((C=A.objectives)==null?void 0:C.map(O=>O.text))||[])}catch(A){console.error(A)}r(!1)}};E.useEffect(()=>{p()},[t]);const m=()=>{y.trim()&&(g([...f,y]),x(""))},v=C=>{g(f.filter((A,O)=>O!==C))},w=async()=>{t&&(await tt.updateCourse(t,{objectives:f}),alert("Objectives updated "),p())},_=async()=>{!a.trim()||!t||(await tt.createModule({title:a,courseId:t}),l(""),p())},S=async C=>{confirm("Delete this module?")&&(await tt.deleteModule(C),p())},M=C=>{o(A=>A.includes(C)?A.filter(O=>O!==C):[...A,C])},T=async C=>{!c||!d||(await tt.createPdfLesson({moduleId:C,title:c,file:d}),u(""),h(null),p())},P=async C=>{confirm("Delete this lesson?")&&(await tt.deleteLesson(C),p())};return i?b.jsx("div",{className:"min-h-screen bg-[#0f172a] text-white p-10",children:"Loading..."}):e?b.jsxs("div",{className:"relative min-h-screen bg-black text-slate-200 p-10 space-y-12",children:[b.jsx(hr,{}),b.jsxs("h1",{className:"text-3xl font-bold",children:["Course Editor: ",e.title]}),b.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-xl p-6 space-y-6",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Learning Objectives"}),f.map((C,A)=>b.jsxs("div",{className:"flex justify-between items-center bg-black/30 p-3 rounded-lg",children:[b.jsx("span",{children:C}),b.jsx("button",{onClick:()=>v(A),className:"text-red-400",children:b.jsx(cl,{size:16})})]},A)),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("input",{value:y,onChange:C=>x(C.target.value),placeholder:"New Learning Objective",className:"flex-1 bg-black/30 p-3 rounded-lg border border-white/10"}),b.jsxs("button",{onClick:m,className:"bg-cyan-500 hover:bg-cyan-400 px-6 rounded-lg font-semibold text-black flex items-center gap-2",children:[b.jsx(J0,{size:16})," Add"]})]}),b.jsx("button",{onClick:w,className:"bg-green-500 hover:bg-green-400 px-6 py-2 rounded-lg font-semibold text-black",children:"Save Objectives"})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsx("input",{value:a,onChange:C=>l(C.target.value),placeholder:"New Module Title",className:"flex-1 bg-black/30 p-3 rounded-lg border border-white/10"}),b.jsxs("button",{onClick:_,className:"bg-cyan-500 hover:bg-cyan-400 px-6 rounded-lg font-semibold text-black flex items-center gap-2",children:[b.jsx(J0,{size:16})," Add Module"]})]}),e.modules.map((C,A)=>{const O=s.includes(C.id);return b.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-xl",children:[b.jsxs("div",{className:"flex justify-between items-center p-5",children:[b.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>M(C.id),children:[O?b.jsx(dC,{size:18}):b.jsx(hC,{size:18}),b.jsxs("h2",{className:"font-semibold text-lg",children:["Module ",A+1,": ",C.title]})]}),b.jsx("button",{onClick:()=>S(C.id),className:"text-red-400",children:b.jsx(cl,{size:18})})]}),O&&b.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[C.lessons.map(F=>b.jsxs("div",{className:"bg-black/30 p-4 rounded-lg flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(fC,{size:16,className:"text-purple-400"}),F.title]}),b.jsxs("div",{className:"flex gap-3",children:[F.contentUrl&&b.jsx("a",{href:F.contentUrl,target:"_blank",className:"text-cyan-400",children:b.jsx(jk,{size:16})}),b.jsx("button",{onClick:()=>P(F.id),className:"text-red-400",children:b.jsx(cl,{size:16})})]})]},F.id)),b.jsxs("div",{className:"bg-black/30 p-6 rounded-xl space-y-4",children:[b.jsx("input",{placeholder:"Lesson Title",value:c,onChange:F=>u(F.target.value),className:"w-full bg-black/50 p-3 rounded-lg border border-white/10"}),b.jsxs("label",{className:"flex items-center gap-3 bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg cursor-pointer w-fit",children:[b.jsx(rF,{size:16}),d?d.name:"Choose PDF",b.jsx("input",{type:"file",accept:"application/pdf",onChange:F=>{var N;return h(((N=F.target.files)==null?void 0:N[0])||null)},hidden:!0})]}),b.jsx("button",{onClick:()=>T(C.id),className:"bg-cyan-500 hover:bg-cyan-400 px-6 py-2 rounded-lg font-semibold text-black",children:"Add Lesson"})]})]})]},C.id)})]})]}):b.jsx("div",{className:"min-h-screen bg-[#0f172a] text-white p-10",children:"Course not found."})}function qY(){const[t,e]=E.useState([]),[n,i]=E.useState(!0),[r,s]=E.useState(null);E.useEffect(()=>{(async()=>{try{const l=await tt.listAllEnrollments();e(l)}catch(l){console.error(l)}finally{i(!1)}})()},[]);const o=async a=>{if(window.confirm("Are you sure you want to remove this enrollment?"))try{s(a);const c=await tt.deleteEnrollment(a);c.message?e(u=>u.filter(d=>d.id!==a)):alert(c.message||"Failed to delete enrollment")}catch{alert("Error deleting enrollment")}finally{s(null)}};return n?b.jsx("div",{className:"p-8 text-white",children:"Loading enrollments..."}):b.jsxs("div",{className:"p-8 text-white",children:[b.jsx(hr,{}),b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Student Enrollments"}),b.jsxs("div",{className:"bg-[#151e2b] border border-white/10 rounded-xl overflow-hidden",children:[b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{className:"bg-[#1f2a3a] text-gray-400",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-left",children:"Student"}),b.jsx("th",{className:"p-4 text-left",children:"Email"}),b.jsx("th",{className:"p-4 text-left",children:"Phone"}),b.jsx("th",{className:"p-4 text-left",children:"Course"}),b.jsx("th",{className:"p-4 text-left",children:"Status"}),b.jsx("th",{className:"p-4 text-left",children:"Date"}),b.jsx("th",{className:"p-4 text-left",children:"Actions"})]})}),b.jsx("tbody",{children:t.map(a=>b.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5 transition",children:[b.jsx("td",{className:"p-4",children:a.fullName}),b.jsx("td",{className:"p-4",children:a.email}),b.jsx("td",{className:"p-4",children:a.phone}),b.jsx("td",{className:"p-4",children:a.course.title}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-600",children:a.status})}),b.jsx("td",{className:"p-4",children:new Date(a.createdAt).toLocaleDateString()}),b.jsx("td",{className:"p-4",children:b.jsx("button",{onClick:()=>o(a.id),disabled:r===a.id,className:"text-red-500 hover:text-red-400 transition disabled:opacity-50",title:"Remove Enrollment",children:r===a.id?"...":b.jsx(cl,{size:18})})})]},a.id))})]}),t.length===0&&b.jsx("div",{className:"p-6 text-gray-400 text-center",children:"No enrollments yet."})]})]})}const Fc=({children:t})=>{const e=localStorage.getItem("token"),n=localStorage.getItem("role");return!e||n!=="ADMIN"&&n!=="SUPER_ADMIN"?b.jsx(CB,{to:"/login",replace:!0}):t},XY=new Dz,YY=()=>b.jsx(Fz,{client:XY,children:b.jsxs(oz,{children:[b.jsx(UF,{}),b.jsx(x4,{}),b.jsx(FB,{children:b.jsxs(PB,{children:[b.jsx(Mn,{path:"/",element:b.jsx(PY,{})}),b.jsx(Mn,{path:"/login",element:b.jsx(OY,{})}),b.jsx(Mn,{path:"/signup",element:b.jsx(zY,{})}),b.jsx(Mn,{path:"/industry-hub",element:b.jsx(BY,{})}),b.jsx(Mn,{path:"/course/:id",element:b.jsx(UY,{})}),b.jsx(Mn,{path:"/website-previews",element:b.jsx(kY,{})}),b.jsx(Mn,{path:"/checkout/:courseId",element:b.jsx(VY,{})}),b.jsx(Mn,{path:"/profile",element:b.jsx(HY,{})}),b.jsx(Mn,{path:"/admin",element:b.jsx(Fc,{children:b.jsx(jY,{})})}),b.jsx(Mn,{path:"/admin/courses",element:b.jsx(Fc,{children:b.jsx(GY,{})})}),b.jsx(Mn,{path:"/admin/courses/:id/curriculum",element:b.jsx(Fc,{children:b.jsx($Y,{})})}),b.jsx(Mn,{path:"/admin/admins",element:b.jsx(Fc,{children:b.jsx(WY,{})})}),b.jsx(Mn,{path:"/admin/enrollments",element:b.jsx(Fc,{children:b.jsx(qY,{})})}),b.jsx(Mn,{path:"*",element:b.jsx(RY,{})})]})})]})});O2(document.getElementById("root")).render(b.jsx(YY,{}));export{JY as c,_E as g};
